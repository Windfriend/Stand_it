// This software uses the following Open Source software:
// - log4javascript
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Copyright by Tim Down
//	* Source: http://www.apache.org/licenses/
// - a simplified (and thus modified) version of stringencoding
//	* Licensed under Apache License 2.0 (can be found here: http://www.apache.org/licenses/)
//	* Source: http://code.google.com/p/stringencoding/

function g(a){throw a;}var i=void 0,j=!0,l=null,m=!1;function o(){return function(){}}function r(a){return function(b){this[a]=b}}function s(a){return function(){return this[a]}}function t(a){return function(){return a}}var ia,ja;
(function(){function a(a){var b=0;this.get=function(){return b>=a.length?-1:Number(a[b])};this.Hb=function(c){b+=c;0>b&&g(Error("Seeking past start of the buffer"));b>a.length&&g(Error("Seeking past EOF"))};this.match=function(c){if(c.length>b+a.length)return m;var d;for(d=0;d<c.length;d+=1)if(Number(a[b+d])!==c[d])return m;return j}}function b(a){var b=0;this.get=function(){return b>=a.length?-1:a[b]};this.Hb=function(c){b+=c;0>b&&g(Error("Seeking past start of the buffer"));b>a.length&&g(Error("Seeking past EOF"))};
this.match=function(c){if(c.length>b+a.length)return m;var d;for(d=0;d<c.length;d+=1)if(a[b+d]!==c[d])return m;return j}}function c(a){var b=0;this.zg=function(c){var d=-1,e;for(e=0;e<arguments.length;++e)d=Number(arguments[e]),a[b++]=d;return d}}function d(a){var b=0,c=function(){for(var b=[],c=0,d=a.length;c<a.length;){var e=a.charCodeAt(c);if(55296<=e&&57343>=e)if(56320<=e&&57343>=e)b.push(65533);else if(c===d-1)b.push(65533);else{var f=a.charCodeAt(c+1);56320<=f&&57343>=f?(e&=1023,f&=1023,c+=
1,b.push(65536+(e<<10)+f)):b.push(65533)}else b.push(e);c+=1}return b}();this.Hb=function(a){b+=a;0>b&&g(Error("Seeking past start of the buffer"));b>c.length&&g(Error("Seeking past EOF"))};this.get=function(){return b>=c.length?-1:c[b]}}function e(){var a="";this.Ty=function(){return a};this.zg=function(b){65535>=b?a+=String.fromCharCode(b):(b-=65536,a+=String.fromCharCode(55296+(b>>10&1023)),a+=String.fromCharCode(56320+(b&1023)))}}function f(a){a=(""+a).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(n,
a))return n[a];g(Error("EncodingError: Unknown encoding: "+a))}function h(a,b){var c=b.Zd;this.$i=function(b){var d=b.get();if(-1===d)return-1;b.Hb(1);if(0<=d&&127>=d)return d;b=a[d-128];b===l&&(c&&g(Error("EncodingError")),b=65533);return b}}function k(a){this.df=function(b,c){var d=c.get();if(-1===d)return-1;c.Hb(1);if(0<=d&&127>=d)return b.zg(d);d=a.indexOf(d);d=-1===d?l:d;d===l&&g(Error("EncodingError"));return b.zg(d+128)}}var p={},n={};[{Aw:[{Xa:"csisolatin2,iso-8859-2,iso-ir-101,iso8859-2,iso_8859-2,l2,latin2".split(","),
name:"iso-8859-2"},{Xa:"csisolatin3,iso-8859-3,iso_8859-3,iso-ir-109,l3,latin3".split(","),name:"iso-8859-3"},{Xa:"csisolatin4,iso-8859-4,iso_8859-4,iso-ir-110,l4,latin4".split(","),name:"iso-8859-4"},{Xa:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{Xa:"arabic,csisolatinarabic,ecma-114,iso-8859-6,iso_8859-6,iso-ir-127".split(","),name:"iso-8859-6"},{Xa:"csisolatingreek,ecma-118,elot_928,greek,greek8,iso-8859-7,iso_8859-7,iso-ir-126".split(","),name:"iso-8859-7"},
{Xa:"csisolatinhebrew,hebrew,iso-8859-8,iso-8859-8-i,iso-ir-138,iso_8859-8,visual".split(","),name:"iso-8859-8"},{Xa:"csisolatin6,iso-8859-10,iso-ir-157,iso8859-10,l6,latin6".split(","),name:"iso-8859-10"},{Xa:["iso-8859-13"],name:"iso-8859-13"},{Xa:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{Xa:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{Xa:["iso-8859-16"],name:"iso-8859-16"},{Xa:"ascii,ansi_x3.4-1968,csisolatin1,iso-8859-1,iso8859-1,iso_8859-1,l1,latin1,us-ascii,windows-1252".split(","),
name:"windows-1252"}],heading:"Legacy single-byte encodings"}].forEach(function(a){a.Aw.forEach(function(a){p[a.name]=a;a.Xa.forEach(function(b){n[b]=a})})});var x={"iso-8859-2":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,728,321,164,317,346,167,168,352,350,356,377,173,381,379,176,261,731,322,180,318,347,711,184,353,351,357,378,733,382,380,340,193,194,258,196,313,262,199,268,201,280,203,282,205,206,270,272,
323,327,211,212,336,214,215,344,366,218,368,220,221,354,223,341,225,226,259,228,314,263,231,269,233,281,235,283,237,238,271,273,324,328,243,244,337,246,247,345,367,250,369,252,253,355,729],"iso-8859-3":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,294,728,163,164,l,292,167,168,304,350,286,308,173,l,379,176,295,178,179,180,181,293,183,184,305,351,287,309,189,l,380,192,193,194,l,196,266,264,199,200,201,202,203,204,
205,206,207,l,209,210,211,212,288,214,215,284,217,218,219,220,364,348,223,224,225,226,l,228,267,265,231,232,233,234,235,236,237,238,239,l,241,242,243,244,289,246,247,285,249,250,251,252,365,349,729],"iso-8859-4":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,312,342,164,296,315,167,168,352,274,290,358,173,381,175,176,261,731,343,180,297,316,711,184,353,275,291,359,330,382,331,256,193,194,195,196,197,198,302,
268,201,280,203,278,205,206,298,272,325,332,310,212,213,214,215,216,370,218,219,220,360,362,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,299,273,326,333,311,244,245,246,247,248,371,250,251,252,361,363,729],"iso-8859-5":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,173,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,
1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,8470,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,167,1118,1119],"iso-8859-6":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,l,l,164,l,l,l,
l,l,l,l,1548,173,l,l,l,l,l,l,l,l,l,l,l,l,l,1563,l,l,l,1567,l,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,l,l,l,l,l,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,l,l,l,l,l,l,l,l,l,l,l,l,l],"iso-8859-7":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,8216,8217,163,8364,8367,166,167,
168,169,890,171,172,173,l,8213,176,177,178,179,900,901,902,183,904,905,906,187,908,189,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,l,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,l],"iso-8859-8":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,l,162,163,
164,165,166,167,168,169,215,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,247,187,188,189,190,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,8215,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,l,l,8206,8207,l],"iso-8859-10":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,274,290,298,296,310,167,
315,272,352,358,381,173,362,330,176,261,275,291,299,297,311,183,316,273,353,359,382,8213,363,331,256,193,194,195,196,197,198,302,268,201,280,203,278,205,206,207,208,325,332,211,212,213,214,360,216,370,218,219,220,221,222,223,257,225,226,227,228,229,230,303,269,233,281,235,279,237,238,239,240,326,333,243,244,245,246,361,248,371,250,251,252,253,254,312],"iso-8859-13":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,
8221,162,163,164,8222,166,167,216,169,342,171,172,173,174,198,176,177,178,179,8220,181,182,183,248,185,343,187,188,189,190,230,260,302,256,262,196,197,280,274,268,201,377,278,290,310,298,315,352,323,325,211,332,213,214,215,370,321,346,362,220,379,381,223,261,303,257,263,228,229,281,275,269,233,378,279,291,311,299,316,353,324,326,243,333,245,246,247,371,322,347,363,252,380,382,8217],"iso-8859-14":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,
154,155,156,157,158,159,160,7682,7683,163,266,267,7690,167,7808,169,7810,7691,7922,173,174,376,7710,7711,288,289,7744,7745,182,7766,7809,7767,7811,7776,7923,7812,7813,7777,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,372,209,210,211,212,213,214,7786,216,217,218,219,220,221,374,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,373,241,242,243,244,245,246,7787,248,249,250,251,252,253,375,255],"iso-8859-15":[128,129,130,131,132,133,134,135,136,137,138,139,140,141,
142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,8364,165,352,167,353,169,170,171,172,173,174,175,176,177,178,179,381,181,182,183,382,185,186,187,338,339,376,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],"iso-8859-16":[128,129,130,131,132,133,134,
135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,260,261,321,8364,8222,352,167,353,169,536,171,377,173,378,379,176,177,268,322,381,8221,182,183,382,269,537,187,338,339,376,380,192,193,194,258,196,262,198,199,200,201,202,203,204,205,206,207,272,323,210,211,212,336,214,346,368,217,218,219,220,280,538,223,224,225,226,259,228,263,230,231,232,233,234,235,236,237,238,239,273,324,242,243,244,337,246,347,369,249,250,251,252,281,539,255],"windows-1252":[8364,
129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,
251,252,253,254,255]};(function(){"iso-8859-2,iso-8859-3,iso-8859-4,iso-8859-5,iso-8859-6,iso-8859-7,iso-8859-8,iso-8859-10,iso-8859-13,iso-8859-14,iso-8859-15,iso-8859-16,windows-1252".split(",").forEach(function(a){var b=p[a],c=x[a];b.Qw=function(a){return new h(c,a)};b.Uw=function(){return new k(c)}})})();ja=function(a,b){b=Object(b);this.Nc=f(a?""+a:"utf-8");this.Ji=m;this.Fd=l;this.Fm={Zd:Boolean(b.Zd)};Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.Nc.name}}):
this.encoding=this.Nc.name;return this};ja.prototype={df:function(a,b){if(!this.Ji)this.Fd=this.Nc.Uw();this.Ji=Boolean(Object(b).SB);for(var e=[],f=new c(e),h=new d(a?""+a:"");-1!==h.get();)this.Fd.df(f,h);if(!this.Ji){var k;do k=this.Fd.df(f,h);while(-1!==k);this.Fd=l}return new Uint8Array(e)}};ia=function(a,b){b=Object(b);this.Nc=f(a?""+a:"utf-8");this.Fm={Zd:Boolean(b.Zd)};this.Jh=this.Nc.Qw(this.Fm);Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this.Nc.name}}):
this.encoding=this.Nc.name;return this};ia.prototype={$i:function(b){b&&!("buffer"in b&&"byteOffset"in b&&"byteLength"in b)&&g(new TypeError("Expected ArrayBufferView"));b||(b=new Uint8Array(0));b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);return this.Al(new a(b))},pw:function(a){a||g(new TypeError("Expected array of bytes"));return this.Al(new b(a))},Al:function(a){for(var b=new e,c;-1!==a.get();)c=this.Jh.$i(a),c!==l&&-1!==c&&b.zg(c);return b.Ty()}}})();
if(!Array.prototype.push)Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)this[this.length]=arguments[a];return this.length};if(!Array.prototype.shift)Array.prototype.shift=function(){if(0<this.length){for(var a=this[0],b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];this.length-=1;return a}};
if(!Array.prototype.splice)Array.prototype.splice=function(a,b){var c=this.slice(a+b),d=this.slice(a,a+b);this.length=a;for(var e=[],f=0,h=arguments.length;f<h;f++)e[f]=arguments[f];c=2<e.length?e.slice(2).concat(c):c;for(f=0,h=c.length;f<h;f++)this.push(c[f]);return d};
var v=function(){function a(b){for(var c=l,d,e=0,f=Kd.length;e<f;e++){d=Kd[e];try{return c=d(),a=d,c}catch(h){}}b?b():F("getXmlHttp: unable to obtain XMLHttpRequest object")}function b(){}function c(){}function d(a,b,c,d,e){this.Lg=a;this.timeStamp=b;this.lp=b.getTime();this.Uy=Math.floor(this.lp/1E3);this.xo=this.timeStamp.getMilliseconds();this.fa=c;this.ac=d;this.bd=e}function e(a,b){this.fa=a;this.name=b}function f(){}function h(a){return"undefined"==typeof a}function k(){}function p(){}function n(a){return a&&
a.toString?a.toString():""+a}function x(a){return a.message?a.message:a.description?a.description:n(a)}function L(a){if(a){var b="Exception: "+x(a);try{if(a.lineNumber&&(b+=" on line number "+a.lineNumber),a.fileName)var c=b,d=a.fileName,e=Math.max(d.lastIndexOf("/"),d.lastIndexOf("\\")),b=c+(" in file "+d.substr(e+1))}catch(f){aa.warn("Unable to obtain file and line information for error")}Ld&&a.stack&&(b+=H+"Stack trace:"+H+a.stack);return b}return l}function D(a){return a.replace(/^\s+/,"").replace(/\s+$/,
"")}function O(a){return a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function u(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}0<=c&&a.splice(c,1)}function Z(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return j;return m}function qa(a,b){return h(a)?b:""+a}function bb(a,b){if(h(a))return b;try{var c=parseInt(a,10);return isNaN(c)?b:c}catch(d){return aa.warn("Invalid int param "+a,d),b}}function Vd(a){var b,c=window;b=b?b:window;if(c.addEventListener)c.addEventListener("unload",
a,i);else if(c.attachEvent)c.attachEvent("onunload",a);else{if(!c.__log4javascript_listeners__unload)c.__log4javascript_listeners__unload=[],c.onunload=function(a){for(var c=b,a=a?a:(c?c:window).event,c=this.__log4javascript_listeners__unload.concat([]),d;d=c.shift();)d.call(this,a)};c.__log4javascript_listeners__unload.push(a)}}function F(a,b){aa.error(a,b);v.dispatchEvent("error",{message:a,exception:b})}function Md(a,b){this.name=a;this.fa=h(b)?e.md:b;this.start=new Date}function ea(a){this.name=
a;this.parent=l;this.children=[];var b=[],c=l,f=this.name===Ja,k=this.name===Nd,p=l,Sa=m;this.Gv=function(a){this.children.push(a);a.parent=this;a.de()};var Hb=j;this.Kw=function(){return Hb};this.rB=function(a){var b=Hb!=a;Hb=a;b&&this.de()};this.xn=function(a){k?F("Logger.addAppender: you may not add an appender to the null logger"):a instanceof v.Dj?Z(b,a)||(b.push(a),a.So(this),this.de()):F("Logger.addAppender: appender supplied ('"+n(a)+"') is not a subclass of Appender")};this.oB=function(a){u(b,
a);a.bp(this);this.de()};this.nB=function(){var a=b.length;if(0<a){for(var c=0;c<a;c++)b[c].bp(this);b.length=0;this.de()}};this.Eg=function(){if(p===l||Sa)p=(f||!this.Kw()?[]:this.parent.Eg()).concat(b),Sa=m;return p};this.de=function(){Sa=j;for(var a=0,b=this.children.length;a<b;a++)this.children[a].de()};this.log=function(a,b){if(la&&a.nj(this.Sw())){var c,e=b.length-1,f=b[e];1<b.length&&f instanceof Error&&(c=f,e--);for(var f=[],h=0;h<=e;h++)f[h]=b[h];this.Uv(new d(this,new Date,a,f,c))}};this.Uv=
function(a){for(var b=this.Eg(),c=0,d=b.length;c<d;c++)b[c].ww(a)};this.Jb=function(a){f&&a===l?F("Logger.setLevel: you cannot set the level of the root logger to null"):a instanceof e?c=a:F("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")};this.Xw=function(){return c};this.Sw=function(){for(var a=this;a!==l;a=a.parent){var b=a.Xw();if(b!==l)return b}};this.cd=function(a,b){if(la)for(var c=this.Eg(),d=0,e=c.length;d<e;d++)c[d].cd(a,b)};this.dd=
function(){if(la)for(var a=this.Eg(),b=0,c=a.length;b<c;b++)a[b].dd()};var fa={};this.kp=function(a,b){la&&(h(a)?F("Logger.time: a name for the timer must be supplied"):b&&!(b instanceof e)?F("Logger.time: level supplied to timer "+a+" is not an instance of log4javascript.Level"):fa[a]=new Md(a,b))};this.TB=function(a){if(la)if(h(a))F("Logger.timeEnd: a name for the timer must be supplied");else if(fa[a]){var b=fa[a];this.log(b.fa,["Timer "+n(a)+" completed in "+b.Tw()+"ms"]);delete fa[a]}else aa.warn("Logger.timeEnd: no timer found with name "+
a)};this.pA=function(a){if(la&&!a){for(var b=[],c=1,d=arguments.length;c<d;c++)b.push(arguments[c]);b=0<b.length?b:["Assertion Failure"];b.push(H);b.push(a);this.log(e.oe,b)}};this.toString=function(){return"Logger["+this.name+"]"}}function ta(){this.ma=[]}function ma(){this.ma=[]}function ya(a){this.Yi=h(a)?j:Boolean(a);this.ma=[]}function na(a,b){this.fe=h(a)?m:Boolean(a);this.Yi=h(b)?j:Boolean(b);this.Jn=this.fe?"["+H:"[";this.In=this.fe?"]"+H:"]";this.Kn=this.fe?","+H:",";this.Zo();this.bw=this.fe?
": ":":";this.xj=this.fe?"\t":"";this.lf=this.fe?H:"";this.ma=[]}function oa(){this.Zo();this.ma=[];this.No=j}function Od(a,b){function c(a,b,e){function f(a){for(var a=O(a),b=1,c=a.length;b<c;b++)a[b]=e+a[b];return a.join(H)}var h,k,ra,p,y,sa;e||(e="");if(a===l)return"null";if("undefined"==typeof a)return"undefined";if("string"==typeof a)return f(a);if("object"==typeof a&&Z(d,a)){try{y=n(a)}catch(u){y="Error formatting property. Details: "+L(u)}return y+" [already expanded]"}if(a instanceof Array&&
0<b){d.push(a);y="["+H;k=b-1;ra=e+"  ";p=[];for(h=0,b=a.length;h<b;h++)try{sa=c(a[h],k,ra),p.push(ra+sa)}catch(x){p.push(ra+"Error formatting array member. Details: "+L(x)+"")}return y+=p.join(","+H)+H+e+"]"}if("object"==typeof a&&0<b){d.push(a);y="{"+H;k=b-1;ra=e+"  ";p=[];for(h in a)try{sa=c(a[h],k,ra),p.push(ra+h+": "+sa)}catch(F){p.push(ra+h+": Error formatting property. Details: "+L(F))}return y+=p.join(","+H)+H+e+"}"}return f(n(a))}var d=[];return c(a,b,i)}function J(a){this.pattern=a?a:J.Ep;
this.ma=[]}function za(){}function ca(){}function Aa(b){function c(a){return J?(F("AjaxAppender: configuration option '"+a+"' may not be set after the appender has been initialized"),m):j}function d(){if(fa&&la){O=j;var a;if(q)0<ba.length?(a=ba.shift(),Sa(k(a),d)):(O=m,xa&&window.setTimeout(d,y));else{for(;a=ba.shift();)Sa(k(a));O=m;xa&&window.setTimeout(d,y)}}}function e(){if(fa&&la){for(var a=n.V.Vi()?cb:1,b,c=[];b=W.shift();)c.push(b),W.length>=a&&(ba.push(c),c=[]);0<c.length&&ba.push(c);xa=q=
m;d()}}function k(a){var b=[],c;for(c="";c=a.shift();)c=n.V.lb(c),n.V.Gb()&&(c+=loggingEvent.Gg()),b.push(c);c=1==a.length?b.join(""):n.V.Jn+b.join(n.V.Kn)+n.V.In;c=n.V.No?c:Ba(H)+"="+Ba(c);0<c.length&&(c+="&");return c+"layout="+Ba(n.V.toString())}function p(){F("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled");fa=m;x&&x("AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled")}function Sa(c,d){try{var e=a(p);if(fa){e.overrideMimeType&&e.overrideMimeType(n.V.hj());
e.onreadystatechange=function(){if(4==e.readyState){if(h(e.status)||0===e.status||200<=e.status&&300>e.status)u&&u(e),d&&d(e);else{var a="AjaxAppender.append: XMLHttpRequest request to URL "+b+" returned status code "+e.status;F(a);x&&x(a)}e.onreadystatechange=f;e=l}};e.open("POST",b,j);try{e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(k){F("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");
fa=m;x&&x("AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled");return}e.send(c)}}catch(q){var xa="AjaxAppender.append: error sending log message to "+b;F(xa,q);fa=m;x&&x(xa+". Details: "+L(q))}}var n=this,fa=j;b||(F("AjaxAppender: URL must be specified in constructor"),fa=m);var xa=this.D.Vy,q=this.D.iz,cb=this.D.Tv,y=this.D.Wy,u=this.D.Vx,x=this.D.Ew,H=this.D.Fx,D=this.D.Zx,U=l,W=[],ba=[],O=m,J=m;
this.OA=function(){return U};this.Jy=function(a){U=qa(a,l);this.V.iy("sessionid",U)};this.Vg=function(a){if(c("layout"))this.V=a,U!==l&&this.Jy(U)};this.$A=function(){return xa};this.LB=function(a){c("timed")&&(xa=Boolean(a))};this.PA=function(){return y};this.MB=function(a){c("timerInterval")&&(y=bb(a,y))};this.cB=function(){return q};this.PB=function(a){c("waitForResponse")&&(q=Boolean(a))};this.FA=function(){return cb};this.uB=function(a){c("batchSize")&&(cb=bb(a,cb))};this.WA=function(){return D};
this.JB=function(a){c("sendAllOnUnload")&&(D=bb(a,D))};this.HB=function(a){u="function"==typeof a?a:u};this.zB=function(a){x="function"==typeof a?a:x};this.MA=function(){return H};this.EB=function(a){c("postVarName")&&(H=qa(a,H))};this.qB=d;this.append=function(a){if(fa&&(J||(J=j,D&&Vd(e),xa&&window.setTimeout(d,y)),W.push(a),W.length>=(this.V.Vi()?cb:1))){for(var b=[];a=W.shift();)b.push(a);ba.push(b);!xa&&(!q||q&&!O)&&d()}}}function Ka(a){try{return Boolean(a.loaded)}catch(b){return m}}function Pd(a,
b){if(a.length<b){for(var c=[],d=Math.max(0,b-a.length),e=0;e<d;e++)c[e]=" ";a+=c.join("")}return a}k.prototype={Yd:[],ef:{},Wo:function(a){if(a instanceof Array){this.Yd=a;this.ef={};for(var a=0,b=this.Yd.length;a<b;a++)this.ef[this.Yd[a]]=[]}else F("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(a,b){"function"==typeof b?(Z(this.Yd,a)||F("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+a+"'"),
this.ef[a].push(b)):F("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(a,b){"function"==typeof b?(Z(this.Yd,a)||F("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+a+"'"),u(this.ef[a],b)):F("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(a,b){if(Z(this.Yd,a))for(var c=this.ef[a],d=0,e=c.length;d<e;d++)c[d](this,a,b);else F("log4javascript.EventSupport ["+
this+"]: dispatchEvent: no event called '"+a+"'")}};var Qd=new Date,Rd="log4javascript_"+Qd.getTime()+"_"+Math.floor(1E8*Math.random()),H="\r\n",Jb=m;p.prototype=new k;v=new p;v.version="1.4.2";v.wA="log4javascript";var Ba="undefined"!=typeof window.xA?function(a){return encodeURIComponent(a)}:function(a){return escape(a).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};if(!Function.prototype.apply)Function.prototype.apply=function(a,b){var c=
"__apply__";"undefined"!=typeof a[c]&&(c+=(""+Math.random()).substr(2));a[c]=this;for(var d=[],e=0,f=b.length;e<f;e++)d[e]="args["+e+"]";d=eval("obj."+c+"("+d.join(",")+")");delete a[c];return d};if(!Function.prototype.call)Function.prototype.call=function(a){for(var b=[],c=1,d=arguments.length;c<d;c++)b[c-1]=arguments[c];return this.apply(a,b)};var aa={Go:m,Qn:[],FB:function(a){this.Go=Boolean(a)},yx:0,zn:m,sB:r("zn"),R:function(a){this.Qn.push(a)},vA:function(){alert(this.Qn.join(H))},warn:o(),
error:function(a,b){if((1==++this.yx||this.zn)&&!this.Go){var c="log4javascript error: "+a;b&&(c+=H+H+"Original error: "+L(b));alert(c)}}};v.gB=aa;v.Wo(["load","error"]);v.handleError=F;var la=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);v.yB=function(a){la=Boolean(a)};v.isEnabled=function(){return la};var La=j;v.Oy=function(a){La=Boolean(a)};v.Jg=function(){return La};v.AA=function(a){return eval(a)};var Ld=m;v.KB=function(a){Ld=Boolean(a)};e.prototype={toString:s("name"),
Bg:function(a){return this.fa==a.fa},nj:function(a){return this.fa>=a.fa}};e.rp=new e(Number.MIN_VALUE,"ALL");e.zh=new e(1E4,"TRACE");e.me=new e(2E4,"DEBUG");e.md=new e(3E4,"INFO");e.Tk=new e(4E4,"WARN");e.oe=new e(5E4,"ERROR");e.gk=new e(6E4,"FATAL");e.mq=new e(Number.MAX_VALUE,"OFF");v.cc=e;Md.prototype.Tw=function(){return(new Date).getTime()-this.start.getTime()};var Nd="[null]",Ja="root";ea.prototype={ke:function(){this.log(e.zh,arguments)},R:function(){this.log(e.me,arguments)},info:function(){this.log(e.md,
arguments)},warn:function(){this.log(e.Tk,arguments)},error:function(){this.log(e.oe,arguments)},Zd:function(){this.log(e.gk,arguments)}};ea.prototype.ke.jf=j;ea.prototype.R.jf=j;ea.prototype.info.jf=j;ea.prototype.warn.jf=j;ea.prototype.error.jf=j;ea.prototype.Zd.jf=j;var Ta={},Wd=[],Sd=e.me,Ha=new ea(Ja);Ha.Jb(Sd);v.NA=function(){return Ha};v.ij=function(a){"string"!=typeof a&&(a="[anonymous]",aa.warn("log4javascript.getLogger: non-string logger name "+n(a)+" supplied, returning anonymous logger"));
a==Ja&&F("log4javascript.getLogger: root logger may not be obtained by name");if(!Ta[a]){var b=new ea(a);Ta[a]=b;Wd.push(a);var c=a.lastIndexOf(".");(-1<c?v.ij(a.substring(0,c)):Ha).Gv(b)}return Ta[a]};var Ea=l;v.JA=function(){if(!Ea){Ea=v.ij("[default]");var a=new v.uq;Ea.xn(a)}return Ea};var Ma=l;v.LA=function(){Ma||(Ma=new ea(Nd),Ma.Jb(e.mq));return Ma};v.pB=function(){Ha.Jb(Sd);Ta={}};d.prototype={Gg:function(){return this.bd?L(this.bd):""},gj:function(){return 1==this.ac.length?this.ac[0]:this.ac.join(H)},
toString:function(){return"LoggingEvent["+this.fa+"]"}};v.yz=d;c.prototype={D:{Mg:"logger",$g:"timestamp",Og:"milliseconds",Kg:"level",Ng:"message",Cg:"exception",ah:"url"},Mg:"logger",$g:"timestamp",Og:"milliseconds",Kg:"level",Ng:"message",Cg:"exception",ah:"url",Jn:"",In:"",Kn:"",No:m,Bo:m,np:l,lb:function(){F("Layout.format: layout supplied has no format() method")},Gb:function(){F("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},hj:t("text/plain"),Vi:t(j),Oy:function(a){this.Bo=
j;this.np=Boolean(a)},Jg:function(){return this.Bo?this.np:La},lo:function(a){return this.Jg()?a.lp:a.Uy},eo:function(a,b){var c=[[this.Mg,a.Lg.name],[this.$g,this.lo(a)],[this.Kg,a.fa.name],[this.ah,window.location.href],[this.Ng,b?a.gj():a.ac]];this.Jg()||c.push([this.Og,a.xo]);a.bd&&c.push([this.Cg,L(a.bd)]);if(this.kj())for(var d=0,e=this.ma.length;d<e;d++){var f=this.ma[d].value;"function"===typeof f&&(f=f(this,a));c.push([this.ma[d].name,f])}return c},Zo:function(a,b,c,d,e,f,h){this.Mg=qa(a,
this.D.Mg);this.$g=qa(b,this.D.$g);this.Kg=qa(c,this.D.Kg);this.Ng=qa(d,this.D.Ng);this.Cg=qa(e,this.D.Cg);this.ah=qa(f,this.D.ah);this.Og=qa(h,this.D.Og)},iy:function(a,b){for(var c=m,d=0,e=this.ma.length;d<e;d++)if(this.ma[d].name===a)this.ma[d].value=b,c=j;c||this.ma.push({name:a,value:b})},kj:function(){return 0<this.ma.length},toString:function(){F("Layout.toString: all layouts must override this method")}};v.xz=c;b.prototype=new k;b.prototype.V=new J;b.prototype.yj=e.rp;b.prototype.oj=[];b.prototype.ww=
function(a){la&&a.fa.fa>=this.yj.fa&&this.append(a)};b.prototype.append=o();b.prototype.Vg=function(a){a instanceof c?this.V=a:F("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")};b.prototype.Ny=function(){var a=v.cc.zh;a instanceof e?this.yj=a:F("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")};b.prototype.So=function(a){this.oj.push(a)};b.prototype.bp=function(a){u(this.oj,a)};b.prototype.cd=f;b.prototype.dd=f;
b.prototype.toString=function(){F("Appender.toString: all appenders must override this method")};v.Dj=b;ta.prototype=new c;ta.prototype.lb=function(a){return a.fa.name+" - "+a.gj()};ta.prototype.Gb=t(j);ta.prototype.toString=t("SimpleLayout");v.Wz=ta;ma.prototype=new c;ma.prototype.lb=function(a){return a.ac};ma.prototype.Gb=t(j);ma.prototype.toString=t("NullLayout");v.Az=ma;ya.prototype=new c;ya.prototype.hj=t("text/xml");ya.prototype.Cw=function(a){return a.replace(/\]\]>/,"]]\>]]&gt;<![CDATA[")};
ya.prototype.lb=function(a){function b(a){a="string"===typeof a?a:n(a);return"<log4javascript:message><![CDATA["+c.Cw(a)+"]]\></log4javascript:message>"}var c=this,d,e,f='<log4javascript:event logger="'+a.Lg.name+'" timestamp="'+this.lo(a)+'"';this.Jg()||(f+=' milliseconds="'+a.xo+'"');f+=' level="'+a.fa.name+'">'+H;if(this.Yi)f+=b(a.gj());else{f+="<log4javascript:messages>"+H;for(d=0,e=a.ac.length;d<e;d++)f+=b(a.ac[d])+H;f+="</log4javascript:messages>"+H}if(this.kj())for(d=0,e=this.ma.length;d<e;d++)f+=
'<log4javascript:customfield name="'+this.ma[d].name+'"><![CDATA['+this.ma[d].value.toString()+"]]\></log4javascript:customfield>"+H;a.bd&&(f+="<log4javascript:exception><![CDATA["+L(a.bd)+"]]\></log4javascript:exception>"+H);return f+="</log4javascript:event>"+H+H};ya.prototype.Gb=t(m);ya.prototype.toString=t("XmlLayout");v.dA=ya;na.prototype=new c;na.prototype.lb=function(a){function b(a,d,e){var f=typeof a;if(a instanceof Date)e=""+a.getTime();else if(e&&a instanceof Array){for(var e="["+c.lf,
f=0,h=a.length;f<h;f++){var k=d+c.xj,e=e+(k+b(a[f],k,m));f<a.length-1&&(e+=",");e+=c.lf}e+=d+"]"}else e="number"!==f&&"boolean"!==f?'"'+n(a).replace(/\"/g,'\\"').replace(/\r\n|\r|\n/g,"\\r\\n")+'"':a;return e}var c=this,a=this.eo(a,this.Yi),d="{"+this.lf,e,f;for(e=0,f=a.length-1;e<=f;e++)d+=this.xj+'"'+a[e][0]+'"'+this.bw+b(a[e][1],this.xj,j),e<f&&(d+=","),d+=this.lf;return d+="}"+this.lf};na.prototype.Gb=t(m);na.prototype.toString=t("JsonLayout");na.prototype.hj=t("application/json");v.vz=na;oa.prototype=
new c;oa.prototype.Vi=t(m);oa.prototype.lb=function(a){for(var a=this.eo(a),b=[],c=0,d=a.length;c<d;c++){var e=a[c][1]instanceof Date?""+a[c][1].getTime():a[c][1];b.push(Ba(a[c][0])+"="+Ba(e))}return b.join("&")};oa.prototype.Gb=t(m);oa.prototype.toString=t("HttpPostDataLayout");v.tz=oa;var Ca;(function(){function a(b,c){for(;b.length<c;)b="0"+b;return b}function b(a,c,d){a=new Date(a,c,d,0,0,0);a.setMilliseconds(0);return a}var c=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,
d="January,February,March,April,May,June,July,August,September,October,November,December".split(","),e="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),f={rz:0,y:3,zz:4,UB:2,bA:2,oz:2,uA:2,pz:2,E:1,Si:0,sz:2,dB:2,wz:2,Ma:2,iB:2,ge:2,Fz:2,eA:5};Date.prototype.Rw=function(a){return this.getTime()-a.getTime()};Date.prototype.ro=function(a){return this.getTime()<a.getTime()};Date.prototype.no=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),
this.getMinutes(),this.getSeconds(),this.getMilliseconds())};Date.prototype.jj=function(a){return this.no()-a.no()};Date.prototype.ko=function(){var a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0)).getTime()-864E5*this.getDay());return b(a.getFullYear(),a.getMonth(),a.getDate())};Date.prototype.bx=function(a){h(this.pj)&&(a=1);var c=this.ko(),d=b(this.getFullYear(),0,1),c=c.ro(d)?0:1+Math.floor(c.jj(d)/6048E5);7-d.getDay()<a&&c--;return c};Date.prototype.ax=function(a){h(this.pj)&&
(a=1);var c=this.ko(),d=b(this.getFullYear(),this.getMonth(),1),c=c.ro(d)?0:1+Math.floor(c.jj(d)/6048E5);7-d.getDay()>=a&&c++;return c};Date.prototype.Pw=function(){var a=b(this.getFullYear(),0,1);return 1+Math.floor(this.jj(a)/864E5)};Ca=r("Hw");Ca.prototype.io=function(){return h(this.pj)?1:this.pj};Ca.prototype.lb=function(b){for(var h="",k,p=this.Hw;k=c.exec(p);){var q=k[1],n=k[2],y=k[3],u=k[4];if(q)h="''"==q?h+"'":h+q.substring(1,q.length-1);else if(!y)if(u)h+=u;else if(n){q=n.charAt(0);n=n.length;
y="";switch(q){case "G":y="AD";break;case "y":y=b.getFullYear();break;case "M":y=b.getMonth();break;case "w":y=b.bx(this.io());break;case "W":y=b.ax(this.io());break;case "D":y=b.Pw();break;case "d":y=b.getDate();break;case "F":y=1+Math.floor((b.getDate()-1)/7);break;case "E":y=e[b.getDay()];break;case "a":y=12<=b.getHours()?"PM":"AM";break;case "H":y=b.getHours();break;case "k":y=b.getHours()||24;break;case "K":y=b.getHours()%12;break;case "h":y=b.getHours()%12||12;break;case "m":y=b.getMinutes();
break;case "s":y=b.getSeconds();break;case "S":y=b.getMilliseconds();break;case "Z":y=b.getTimezoneOffset()}switch(f[q]){case 0:h+=4<=n?y:y.substr(0,Math.max(2,n));break;case 1:h+=4<=n?y:y.substr(0,Math.max(3,n));break;case 2:h+=a(""+y,n);break;case 3:h=3>=n?h+(""+y).substr(2,2):h+a(""+y,n);break;case 4:h=3<=n?h+(4<=n?d[y]:d[y].substr(0,Math.max(n,n))):h+a(""+(y+1),n);break;case 5:n=0<y?"-":"+",y=Math.abs(y),q=""+Math.floor(y/60),q=a(q,2),y=""+y%60,y=a(y,2),h+=n+q+y}}p=p.substr(k.index+k[0].length)}return h}})();
v.Vz=Ca;J.$z="%r %p %c - %m%n";J.Ep="%m%n";J.lk="yyyy-MM-dd HH:mm:ss,SSS";J.Dp="dd MMM yyyy HH:mm:ss,SSS";J.pp="HH:mm:ss,SSS";J.prototype=new c;J.prototype.lb=function(a){for(var b=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,c="",d,e=this.pattern;d=b.exec(e);){var f=d[0],h=d[1],k=d[2],p=d[3],n=d[5],q=d[6];if(q)c+=""+q;else{q="";switch(p){case "a":case "m":f=0;n&&(f=parseInt(n,10),isNaN(f)&&(F("PatternLayout.format: invalid specifier '"+n+"' for conversion character '"+p+"' - should be a number"),
f=0));for(var n="a"===p?a.ac[0]:a.ac,p=0,u=n.length;p<u;p++)0<p&&" "!==q.charAt(q.length-1)&&(q+=" "),q=0===f?q+n[p]:q+Od(n[p],f);break;case "c":q=a.Lg.name;n&&(n=parseInt(n,10),f=a.Lg.name.split("."),q=n>=f.length?q:f.slice(f.length-n).join("."));break;case "d":q=J.lk;if(n)if(q=n,"ISO8601"==q)q=J.lk;else if("ABSOLUTE"==q)q=J.pp;else if("DATE"==q)q=J.Dp;q=(new Ca(q)).lb(a.timeStamp);break;case "f":if(this.kj())q=0,n&&(q=parseInt(n,10),isNaN(q)?F("PatternLayout.format: invalid specifier '"+n+"' for conversion character 'f' - should be a number"):
0===q?F("PatternLayout.format: invalid specifier '"+n+"' for conversion character 'f' - must be greater than zero"):q>this.ma.length?F("PatternLayout.format: invalid specifier '"+n+"' for conversion character 'f' - there aren't that many custom fields"):q-=1),q=this.ma[q].value;break;case "n":q=H;break;case "p":q=a.fa.name;break;case "r":q=""+a.timeStamp.Rw(Qd);break;case "%":q="%";break;default:q=f}if(k)k=parseInt(k.substr(1),10),n=q.length,k<n&&(q=q.substring(n-k,n));if(h)if("-"==h.charAt(0))for(k=
parseInt(h.substr(1),10);q.length<k;)q+=" ";else for(k=parseInt(h,10);q.length<k;)q=" "+q;c+=q}e=e.substr(d.index+d[0].length)}return c};J.prototype.Gb=t(j);J.prototype.toString=t("PatternLayout");v.Bz=J;za.prototype=new b;za.prototype.V=new ta;za.prototype.append=function(a){var b=this.V.lb(a);this.V.Gb()&&(b+=a.Gg());alert(b)};za.prototype.toString=t("AlertAppender");v.mz=za;ca.prototype=new v.Dj;ca.prototype.V=new ma;ca.prototype.yj=e.me;ca.prototype.append=function(a){function b(){var d=c.V,e=
d.lb(a);d.Gb()&&a.bd&&(e+=a.Gg());return e}var c=this;if("undefined"!=typeof opera&&opera.postError)opera.postError(b());else if(window.console&&window.console.log){var d=b();window.console.R&&e.me.nj(a.fa)?window.console.R(d):window.console.info&&e.md.Bg(a.fa)?window.console.info(d):window.console.warn&&e.Tk.Bg(a.fa)?window.console.warn(d):window.console.error&&a.fa.nj(e.oe)?window.console.error(d):window.console.log(d)}};ca.prototype.cd=function(a){window.console&&window.console.cd&&window.console.cd(a)};
ca.prototype.dd=function(){window.console&&window.console.dd&&window.console.dd()};ca.prototype.toString=t("BrowserConsoleAppender");v.tp=ca;var Kd=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];Aa.prototype=new b;Aa.prototype.D={iz:m,Vy:m,Wy:1E3,Tv:1,Zx:j,Vx:l,Ew:l,Fx:"data"};Aa.prototype.V=new oa;Aa.prototype.toString=t("AjaxAppender");v.lz=Aa;var X;(function(){function a(b,c,d,e,f){this.create(m,
l,b,c,d,e,f,this.D.Gw)}function c(a,b,d,e,f,h){this.create(j,a,b,d,e,f,h,m)}var f=[];X=o();var k=1;X.prototype=new b;X.prototype.create=function(a,b,c,p,n,u,q,x){function y(){var a=document.domain!=location.hostname;if(n)a="";else{var b;a:{b=document.getElementsByTagName("script");for(var c=0,d=b.length;c<d;++c)if(-1!=b[c].src.indexOf("log4javascript")){d=b[c].src.lastIndexOf("/");b=-1==d?"":b[c].src.substr(0,d+1);break a}b=l}a=b+"console.html"+(a?"?log4javascript_domain="+escape(document.domain):
"")}return a}function D(a,b,c,d){var e=setInterval(function(){try{da&&clearInterval(e),a(R())&&(clearInterval(e),c())}catch(b){clearInterval(e),va=m,F(d,b)}},b)}function O(){var a=R();a.tB(ga);a.Dy(oa);a.Hy(ta);a.vj(ma);a.Wg(na);a.ep(Aa);a.dp(Ba);a.DB(window);var b;a:{b=escape("log4javascriptCommandHistory")+"=";for(var c=document.cookie.split(";"),d=0,e=c.length;d<e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b)){b=unescape(f.substring(b.length,f.length));break a}}b=
l}if(b)a.cw=b.split(","),a.tA=a.cw.length;ga.dispatchEvent("load",{win:a})}function ra(a){var b=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"<\!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\>",'<meta http-equiv="X-UA-Compatible" content="IE=7" />',
'<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','<\!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\>','<\!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\>','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}",
"function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}",
"if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",
'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',
"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",
'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}',
'GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",
'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',
"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}",
"this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}",
"this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",
'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}',
'LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}',
'LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',
"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}',
'this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',
"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",
'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}',
'logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',
"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}",
"var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}",
"matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",
'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}",
"var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}",
"return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}",
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}",
"displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}",
"var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',
"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",
'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}',
'function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}',
'function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}",
"searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}",
"return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',
"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+",
"preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}",
"logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}",
"var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}",
"setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',
"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}",
"this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}',
'currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}',
'addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}",
"function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}',
'function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}',
'if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',
"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}',
'function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}',
'function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}",
"function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}",
"currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}",
"return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-',
'($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}",
"this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}",
"return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}",
"return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',
"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',
"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}",
"currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]\>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}",
"</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>',
'<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>',
'<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />',
'<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>',
'<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>',
'<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>',
'<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />',
'<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />',
'<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];a.open();for(var c=0,d=b.length;c<d;c++)a.writeln(b[c]);a.close()}function Ib(){for(;0<sa.length;)sa.shift().append();x&&R().focus()}function U(){db();ca?da&&Kb&&Ua():Ca();db()&&Ib()}function W(){return ua&&va&&!da}function ba(a){return Ga?(F(Ta+": configuration option '"+a+"' may not be set after the appender has been initialized"),
m):j}function X(a,b){this.hB=a;this.rx=a.fa.name;this.Iw=b}function Z(a,b){this.name=a;this.hx=b}function ea(){}var ga=this,ca=m,Ga=m,ua=m,da=m,sa=[],va=j,ya=k++,p=h(p)?this.D.qo:Boolean(p),c=h(c)?this.D.to:Boolean(c),n=h(n)?this.D.mp:Boolean(n),oa=this.D.yo,ta=this.D.Qo,u=u?u:this.D.width,q=q?q:this.D.height,ma=this.D.wo,na=this.D.gp,za=this.D.Nn,Aa=this.D.hp,Ba=this.D.fp;this.Vg(this.D.V);var Ca,Ua,db,R,Na,Ta=a?"InPageAppender":"PopUpAppender";this.TA=function(){return oa};this.Ey=function(){oa=
Boolean(j);W()&&R().Dy(oa)};this.VA=function(){return ta};this.IB=function(a){ta=Boolean(a);W()&&R().Hy(ta)};this.l=function(){return u};this.QB=function(a){ba("width")&&(u=qa(a,u))};this.k=function(){return q};this.BB=function(a){ba("height")&&(q=qa(a,q))};this.KA=function(){return ma};this.vj=function(a){ma=bb(a,ma);W()&&R().vj(ma)};this.YA=function(){return na};this.Wg=function(a){na=Boolean(a);W()&&R().Wg(na)};this.ZA=function(){return Aa};this.ep=function(a){Aa=Boolean(a);W()&&R().ep(Aa)};this.XA=
function(){return Ba};this.dp=function(a){Ba=Boolean(a);W()&&R().dp(Ba)};this.HA=function(){return za};this.by=function(a){za=bb(a,za)};var eb=p;this.SA=function(){return p};this.CB=function(a){ba("initiallyMinimized")&&(eb=p=Boolean(a))};this.aB=function(){return n};this.NB=function(a){ba("useDocumentWrite")&&(n=Boolean(a))};X.prototype.append=function(){R().log(this.rx,this.Iw)};Z.prototype.append=function(){R().cd(this.name,this.hx)};ea.prototype.append=function(){R().dd()};this.append=function(a){if(va){var b=
ga.V.lb(a);this.V.Gb()&&(b+=a.Gg());sa.push(new X(a,b));U()}};this.cd=function(a,b){va&&(sa.push(new Z(a,b)),U())};this.dd=function(){va&&(sa.push(new ea),U())};this.So=function(a){this.oj.push(a);la&&!c&&Ca()};this.clear=function(){W()&&R().rA();sa.length=0};this.focus=function(){W()&&R().focus()};this.DA=o();this.EA=o();var $=window;this.Ow=function(){return $};this.cy=function(a){$=a};this.CA=function(){W()&&R().BA()};var Ha=new J("%m");this.GA=function(){return Ha};this.wB=function(a){Ha=a};this.yA=
function(a){var b={Fn:j,Ig:m},c="";try{var f,k;!$.eval&&$.execScript&&$.execScript("null");var p={};for(k=0,len=Va.length;k<len;k++)p[Va[k][0]]=Va[k][1];var q=[],n=function(a){q.push([a,$[a]])};n("appender");$.oA=ga;n("commandReturnValue");$.sA=b;n("commandLineFunctionsHash");$.dw=p;p=function(a){n(a);$[a]=function(){return this.dw[a](ga,arguments,b)}};for(k=0,len=Va.length;k<len;k++)p(Va[k][0]);$===window&&$.execScript?(n("evalExpr"),n("result"),window.zA=a,$.execScript("window.result=eval(window.evalExpr);"),
f=window.result):f=$.eval(a);c=h(f)?f:Od(f,za);for(k=0,len=q.length;k<len;k++)$[q[k][0]]=q[k][1]}catch(y){c="Error evaluating command: "+L(y),b.Ig=j}if(b.Fn)a=">>> "+a,h(c)||(a+=H+c),c=new d(l,new Date,b.Ig?e.oe:e.md,[a],l),a=this.V,this.Vg(Ha),this.append(c),this.Vg(a)};var Va=f.concat([]);this.nA=function(a,b){Va.push([a,b])};this.RB=function(a){var a=a.join(","),b;document.cookie=escape("log4javascriptCommandHistory")+"="+escape(a)+""+(b?"; path="+b:"")};this.Wo(["load","unload"]);this.qf=function(){aa.R("unload "+
this+", caller: "+this.qf.caller);da||(aa.R("really doing unload "+this),da=j,Ga=ua=m,ga.dispatchEvent("unload",{}))};if(a){var Fa=l,Ea=[];this.yn=function(a,b){ba("cssProperties")&&Ea.push([a,b])};var Ma=m,Da,Ja=Rd+"_InPageAppender_"+ya;this.dx=function(){if(ca&&Ga)W()&&R().kz("command").blur(),Da.style.display="none",eb=j};this.show=function(){if(ca)Ga?(Da.style.display="block",this.Wg(na),eb=m):Ma||Ua(j)};this.mx=function(){return!eb&&!da};this.close=function(a){if(!da&&(!a||confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")))Da.parentNode.removeChild(Da),
this.qf()};Na=function(){function a(b){try{return Boolean(b)&&Boolean(b.document)}catch(c){return m}}function b(){try{p||ga.show(),O(),ua=j,Ib()}catch(a){va=m,F(d,a)}}function c(){try{var a=function(a){return Ka(a)};n&&ra(R().document);Ka(R())?b():D(a,100,b,d)}catch(e){va=m,F(d,e)}}var d="InPageAppender.open: unable to create console iframe";eb=m;Da=Fa.appendChild(document.createElement("div"));Da.style.width=u;Da.style.height=q;Da.style.border="solid gray 1px";for(var e=0,f=Ea.length;e<f;e++)Da.style[Ea[e][0]]=
Ea[e][1];Da.innerHTML="<iframe id='"+Ja+"' name='"+Ja+"' width='100%' height='100%' frameborder='0'"+(n?"":" src='"+y()+"'")+" scrolling='no'></iframe>";da=m;a(R())?c():D(a,100,c,d);Ga=j};Ua=function(a){if(a||!p)a=function(){if(b)try{var a=document.getElementById(b);1==a.nodeType&&(Fa=a);Na()}catch(c){F("InPageAppender.init: invalid container element '"+b+"' supplied",c)}else Fa=document.createElement("div"),Fa.style.position="fixed",Fa.style.left="0",Fa.style.right="0",Fa.style.bottom="0",document.body.appendChild(Fa),
ga.yn("borderWidth","1px 0 0 0"),ga.yn("zIndex",1E6),Na()},Jb&&b&&b.appendChild?(Fa=b,Na()):Jb?a():v.addEventListener("load",a),Ma=j};Ca=function(){Ua();ca=j};R=function(){var a=window.frames[Ja];if(a)return a};db=function(){return va&&!da?(Ga&&!ua&&R()&&Ka(R())&&(ua=j),ua):m}}else{var fb=ga.D.bz,La=ga.D.ew,Kb=this.D.Tx;this.bB=function(){return fb};this.OB=function(a){ba("useOldPopUp")&&(fb=Boolean(a))};this.QA=function(){return La};this.xB=function(a){ba("complainAboutPopUpBlocking")&&(La=Boolean(a))};
this.RA=function(){return x};this.AB=function(a){x=Boolean(a)};this.UA=function(){return Kb};this.GB=function(a){Kb=Boolean(a)};this.close=function(){aa.R("close "+this);try{ha.close(),this.qf()}catch(a){}};this.dx=function(){aa.R("hide "+this);W()&&this.close()};this.show=function(){aa.R("show "+this);Ga||Na()};this.mx=function(){return db()};var ha;Na=function(){function a(){da||ga.qf()}function b(a){if(da)return j;try{return Boolean(a)&&a.closed}catch(c){}return m}function c(){R().vB(!fb||!n);
O();ua=j;Ib();D(b,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var d="width="+u+",height="+q+",status,resizable",e="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+ya;if(!fb||!n)e=e+"_"+Rd;try{ha=window.open(y(),e,d),da=m,Ga=j,ha&&ha.document?n&&fb&&Ka(ha)?(ha.jB(),c()):(n&&ra(ha.document),d=function(a){return Boolean(a)&&Ka(a)},Ka(ha)?c():D(d,100,c,"PopUpAppender.init: unable to create console window")):(va=m,aa.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),
La&&F("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(f){F("PopUpAppender.init: error creating pop-up",f)}};Ua=function(){p||Na()};Ca=function(){Ua();ca=j};R=function(){return ha};db=function(){if(va&&!h(ha)&&!da){if(ha.closed||ua&&h(ha.closed))return ga.qf(),aa.R("PopUpAppender: pop-up closed"),m;!ua&&Ka(ha)&&(ua=j)}return va&&ua&&!da}}this.IA=R};X.wc=function(a,b){f.push([a,b])};a.prototype=new X;a.prototype.D={V:new J("%d{HH:mm:ss} %-5p - %m{1}%n"),
qo:m,Gw:m,to:j,bz:j,ew:j,yo:m,Qo:j,width:"600",height:"400",Tx:m,wo:l,gp:j,Nn:1,hp:m,fp:j,Qy:j,mp:j};a.prototype.toString=t("PopUpAppender");v.uq=a;c.prototype=new X;c.prototype.D={V:new J("%d{HH:mm:ss} %-5p - %m{1}%n"),qo:m,to:j,yo:m,Qo:j,width:"100%",height:"220px",wo:l,gp:j,Nn:1,hp:m,fp:m,Qy:j,mp:j};c.prototype.toString=t("InPageAppender");v.gq=c;v.uz=c})();(function(){var a,b,c,d,e;function f(n,q,u,y,x){function F(a){for(var a=a.style.cssText.split(";"),b="",c=0,d=a.length;c<d;c++){var b=a[c].split(":"),
e=[];/^\s*$/.test(b[0])||e.push(D(b[0]).toLowerCase()+":"+D(b[1]));b=e.join(";")}return b}"string"!=typeof u&&(u="");y=!!y;x=!!x;if(("undefined"==typeof q?j:q)&&n.nodeType!=b)switch(n.nodeType){case c:var L=n.tagName.toLowerCase(),q=y?H+u:"",q=q+"<",x=n.prefix?n.prefix:n.outerHTML&&RegExp("<([^:]+):"+n.tagName+"[^>]*>","i").test(n.outerHTML)?RegExp.$1.toLowerCase():"";(y=!!x)&&(q+=x+":");q+=L;for(x=0,U=n.attributes.length;x<U;x++){var J=n.attributes[x];if(J.specified&&!(J.nodeValue===l||"style"===
J.nodeName.toLowerCase()||"string"!==typeof J.nodeValue||0===J.nodeName.indexOf("_moz")))q+=" "+J.nodeName.toLowerCase()+'="',q+=J.nodeValue.toString().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\"/g,"&quot;"),q+='"'}n.style.cssText&&""!==F(n)&&(q+=' style="'+F(n)+'"');if(Z(k,L)||y&&!n.hasChildNodes())q+="/>";else{for(var q=q+">",y=!(1===n.childNodes.length&&n.childNodes[0].nodeType===a),J=Z(h,L),x=0,U=n.childNodes.length;x<U;x++)q+=f(n.childNodes[x],j,u+p,y,J);n="</"+L+">";q+=y?H+u+n:n}return q;
case a:if(n.nodeType==a&&/^[ \t\r\n]*$/.test(n.nodeValue))q="";else{if(x)q=n.nodeValue;else{n=O(D(n.nodeValue));q=[];x=0;for(U=n.length;x<U;x++)q[x]=D(n[x]);q=q.join(H+u)}y&&(q=H+u+q)}return q;case d:return"<![CDATA["+n.nodeValue+"]]\>"+H;case e:q="";x=0;for(U=n.childNodes.length;x<U;x++)q+=f(n.childNodes[x],j,u);return q;default:return""}else{q="";x=0;for(U=n.childNodes.length;x<U;x++)q+=f(n.childNodes[x],j,u+p);return q}}c=1;a=3;d=4;e=9;b=11;var h=["script","pre"],k="br,img,hr,param,link,area,input,col,base,meta".split(","),
p="  ";(function(){X.wc("$",function(a,b){return document.getElementById(b[0])});X.wc("dir",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=c,h=d,k=b[d],p=0,u=i;for(u in k)p=Math.max(n(u).length,p);var D=[];for(u in k){var F="  "+Pd(n(u),p+2),J;try{J=O(n(k[u])).join(Pd(H,p+6))}catch(L){J="[Error obtaining property. Details: "+x(L)+"]"}D.push(F+J)}f[h]=D.join(H)}return c.join(H+H)});X.wc("dirxml",function(a,b){for(var c=[],d=0,e=b.length;d<e;d++)c[d]=f(b[d]);return c.join(H+H)});X.wc("cd",
function(a,b,c){var d;0===b.length||""===b[0]?(d=window,b="Command line set to run in main window"):b[0].window==b[0]?(d=b[0],b="Command line set to run in frame '"+b[0].name+"'"):(d=window.frames[b[0]])?b="Command line set to run in frame '"+b[0]+"'":(c.Ig=j,b="Frame '"+b[0]+"' does not exist",d=a.Ow());a.cy(d);return b});X.wc("clear",function(a,b,c){c.Fn=m;a.clear()});X.wc("keys",function(a,b){var c=[],d;for(d in b[0])c.push(d);return c});X.wc("values",function(a,b){var c=[],d;for(d in b[0])try{c.push(b[0][d])}catch(e){aa.warn("values(): Unable to obtain value for key "+
d+". Details: "+x(e))}return c});X.wc("expansionDepth",function(a,b,c){var d=parseInt(b[0],10);if(isNaN(d)||0>d)return c.Ig=j,""+b[0]+" is not a valid expansion depth";a.by(d);return"Object expansion depth set to "+d})})();initialized=j})();v.Ug=function(){Jb=j;v.dispatchEvent("load",{})};if(window.addEventListener)window.addEventListener("load",v.Ug,m);else if(window.attachEvent)window.attachEvent("onload",v.Ug);else{var Td=window.onload;window.onload="function"!=typeof window.onload?v.Ug:function(a){Td&&
Td(a);v.Ug()}}return window.fB=v}(),w;
(function(){w=o();w.Pq=function(){return w.Yu};w.ve=function(){return w.Ki};w.Fp=function(){return w.fs};w.yf=function(a){return a.layerX||0===a.layerX?new z(a.layerX,a.layerY):new z(a.offsetX,a.offsetY)};w.$l=function(a){var c=new z(a.offsetLeft,a.offsetTop);a.offsetParent&&(a=w.$l(a.offsetParent),c.b+=a.b,c.c+=a.c);return c};w.nn=m;w.zf=function(a){if(!a.pageX||!a.target){if(!w.nn)w.nn=j,WebvisuLogger.error("Evaluation of Touch events not supported because the browser uses an unexpected interface");return l}var c=
w.$l(a.target);return new z(a.pageX-c.b,a.pageY-c.c)};w.Dt=navigator.userAgent.match(/OS 6(_\d)+ like Mac OS X/i);w.ex=function(){return w.Dt};w.jm=function(a,c){a.style.cssText+="outline: none; -webkit-tap-highlight-color: rgba(0,0,0,0);";a.tabIndex=c;a.addEventListener("MSHoldVisual",function(a){a.preventDefault()})};w.ne=function(){return window.devicePixelRatio?window.devicePixelRatio:1};w.hq=function(a,c){w.jm(a,2E3);w.jm(c,1E3)};w.Km=function(a){if(!(a===i||a===l||0<=a.indexOf("%")))return parseFloat(a)};
w.Lm=function(a){if(a===i)return l;a=a.split(/[\s,]/);return 4>a.length?l:new A(parseFloat(a[2]),parseFloat(a[3]))};w.ov=function(a){var c=new XMLHttpRequest;c.open("GET",a.src,m);c.send();return c.responseXML&&c.responseXML.documentElement?c.responseXML&&c.responseXML.documentElement:l};w.zr=function(a,c){var d=new XMLHttpRequest;d.open("GET",a.src);d.onreadystatechange=function(){4===d.readyState&&(200===d.status?d.responseXML&&d.responseXML.documentElement?c(d.responseXML.documentElement):c(l):
c(l))};d.send()};w.Su=function(a){try{if(0<=a.src.toLowerCase().indexOf(".svg")){WebvisuLogger.ke("Derivation of SVG size for '"+a.src+"' failed. Parsing manually");var c=w.ov(a),d,e,f;if(c!==l){d=w.Km(c.getAttribute("width"));e=w.Km(c.getAttribute("height"));if(d&&e)return new A(d,e);f=w.Lm(c.getAttribute("viewBox"));if(f!==l)return f}}}catch(h){WebvisuLogger.error("Exception during manual parsing of SVG size.")}return l};w.dq=function(a){if(a.naturalWidth&&a.naturalHeight)return new A(a.naturalWidth,
a.naturalHeight);if(a.width&&a.height)return new A(a.width,a.height);a=w.Su(a);return a!==l?a:new A(0,0)};w.Jk=function(){return w.Vu};w.Ql="undefined"!==typeof MozBlobBuilder;w.Rl=m;if(w.Ql){var a=navigator.userAgent.indexOf("rv");if(-1!==a)a+=3,w.Rl=9<=parseInt(navigator.userAgent.substr(a,navigator.userAgent.indexOf(".",a)-a),10)}w.Ss="undefined"!==typeof InstallTrigger;w.lq=function(a,c,d){return!w.Ss&&!d.WorkaroundForceSVGEmptySizeWorkaround||d.WorkaroundDisableSVGEmptySizeWorkaround?m:B.mk(c)&&
a.naturalWidth!==i&&0===a.naturalWidth&&a.naturalHeight!==i&&0===a.naturalHeight};w.Hp=function(a,c,d){try{w.zr(a,function(a){if(a===l)d("DoZeroWidthHeightWorkaround: svg xml not available");else{var b;b=w.Lm(a.getAttribute("viewBox"));b===l?d("DoZeroWidthHeightWorkaround: no view box available"):(a.setAttribute("width",b.I),a.setAttribute("height",b.J),a=(new XMLSerializer).serializeToString(a),c("data:image/svg+xml;base64,"+btoa(a)))}})}catch(e){d(e.toString())}};w.Vu=-1!==navigator.userAgent.indexOf("Safari");
w.Ki=function(){var a="undefined"===typeof ArrayBuffer||"undefined"==typeof Uint8Array||"undefined"!==typeof Int8Arary;a||(a=new ArrayBuffer(4),a=new Int8Array(a,1,2),a=2!==a.byteLength);return a}();w.fs=function(){if(w.Ki)return m;var a="undefined"!==typeof DataView,c,d,e,f;if(/opera [56789]|opera\/[56789]/i.test(navigator.userAgent)||/MSIE (\d+\.\d+);/.test(navigator.userAgent))return m;try{if(a){c=new ArrayBuffer(8);d=new Int8Array(c);for(f=0;8>f;++f)d[f]=f;e=new DataView(c);if(a="function"===
typeof e.getFloat64&&"function"===typeof e.getFloat32&&"function"===typeof e.getInt32&&"function"===typeof e.getUint32&&"function"===typeof e.getInt16&&"function"===typeof e.getUint16&&"function"===typeof e.getInt8&&"function"===typeof e.getInt8)e.getFloat64(0),e.getFloat32(0),e.getInt32(0),e.getUint32(0),e.getInt16(0),e.getUint16(0),e.getInt8(0),e.getInt8(0)}}catch(h){return m}return a}();w.Yu=w.Ki||!w.Ql||w.Rl})();var Configuration;
Configuration=function(){this.PlcAddress="0101";this.UseLocalHost=j;this.CommBufferSize=5E4;this.ErrorReconnectTime=1E4;this.Application="Application";this.UpdateRate=200;this.BestFitForDialogs=this.BestFit=m;this.StartVisu="Visualization";this.PollingRegistrationInterval=100;this.TimeMeasurements="";this.LogLevel="INFO";this.MaxUnusedImageAge=2E4;this.MaxUndrawnImageAge=1E4;this.NumCachedImages=15;this.ChangeWindowTitle=j;this.TooltipFont="11px Arial";this.DefaultKeyActions=j;this.ANSIStringEncoding=
"iso-8859-1";this.CommitEditcontrolOnClickOut=j;this.HandleTouchEvents=m;this.FuzzyTransparencyColorEvaluation=j;this.TouchHandlingActive=this.Benchmarking=this.HasKeyboard=this.LoadImagesById=m;this.ClientName="";this.ScaleTypeIsotropic=this.lh=this.SemiTransparencyActive=m;this.GesturesFlickPanThresholdPxPerSecond=1E3;this.GesturesPanFlickTimeThresholdMs=40;this.GesturesPanClickThresholdDistSquare=10;this.PostDataInHeader=0;this.AutoFontReductionActive=m;this.WorkaroundDisableMouseUpDownAfterActiveTouch=
j;this.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch=500;this.DebugOnlyDiagnosisDisplay=this.DebugOnlyPrintTouchRectangles=this.DebugOnlyPrintGestures=this.DebugOnlyPrintRawTouches=this.DebugOnlyPrintPaintCommands=this.WorkaroundForceSVGEmptySizeWorkaround=this.WorkaroundDisableSVGEmptySizeWorkaround=this.WorkaroundDisableSVGAspectRatioWorkaround=this.WorkaroundDisableResizeHandling=m};
Configuration.prototype={cz:function(){"string"!==typeof this.PlcAddress&&g(Error("Plc address must be of type string"));"boolean"!==typeof this.UseLocalHost&&g(Error("UseLocalHost must be of type boolean"));"number"!==typeof this.CommBufferSize&&g(Error("CommBufferSize must be of type number"));"number"!==typeof this.ErrorReconnectTime&&g(Error("ErrorReconnectTime must be of type number"));"string"!==typeof this.Application&&g(Error("Application must be of type string"));"number"!==typeof this.UpdateRate&&
g(Error("UpdateRate must be of type number"));"boolean"!==typeof this.BestFit&&g(Error("BestFit must be of type boolean"));"boolean"!==typeof this.BestFitForDialogs&&g(Error("BestFitForDialogs must be of type boolean"));"string"!==typeof this.StartVisu&&g(Error("StartVisu must be of type string"));"number"!==typeof this.PollingRegistrationInterval&&g(Error("PollingRegistrationInterval must be of type number"));"string"!==typeof this.TimeMeasurements&&g(Error("TimeMeasurements must be of type string"));
"string"!==typeof this.TooltipFont&&g(Error("TooltipFont must be of type string"));"boolean"!==typeof this.DefaultKeyActions&&g(Error("DefaultKeyActions must be of type boolean"));"string"!==typeof this.ANSIStringEncoding&&g(Error("ANSIStringEncoding must be of type string"));"boolean"!==typeof this.FuzzyTransparencyColorEvaluation&&g(Error("FuzzyTransparencyColorEvaluation must be of type boolean"));"boolean"!==typeof this.LoadImagesById&&g(Error("LoadImagesById must be of type boolean"));"boolean"!==
typeof this.Benchmarking&&g(Error("Benchmarking must be of type boolean"));"boolean"!==typeof this.TouchHandlingActive&&g(Error("TouchHandlingActive must be of type boolean"));"boolean"!==typeof this.HasKeyboard&&g(Error("HasKeyboard must be of type boolean"));"boolean"!==typeof this.SemiTransparencyActive&&g(Error("SemiTransparencyActive must be of type boolean"));"boolean"!==typeof this.ScaleTypeIsotropic&&g(Error("ScaleTypeIsotropic must be of type boolean"));("number"!==typeof this.GesturesFlickPanThresholdPxPerSecond||
0>this.GesturesFlickPanThresholdPxPerSecond)&&g(Error("GesturesFlickPanThresholdPxPerSecond must be of type nonnegative number"));("number"!==typeof this.GesturesPanFlickTimeThresholdMs||0>this.GesturesPanFlickTimeThresholdMs)&&g(Error("GesturesPanFlickTimeThresholdMs must be of type nonnegative number"));("number"!==typeof this.GesturesPanClickThresholdDistSquare||0>this.GesturesPanClickThresholdDistSquare)&&g(Error("GesturesPanClickThresholdDistSquare must be of type nonnegative number"));("number"!==
typeof this.PostDataInHeader||0>this.PostDataInHeader||2<this.PostDataInHeader)&&g(Error("PostDataInHeader must be a number in the range 0..2"));"boolean"!==typeof this.AutoFontReductionActive&&g(Error("AutoFontReductionActive must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintPaintCommands&&g(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintRawTouches&&g(Error("DebugOnlyPrintPaintCommands must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintGestures&&
g(Error("DebugOnlyPrintGestures must be of type boolean"));"boolean"!==typeof this.DebugOnlyPrintTouchRectangles&&g(Error("DebugOnlyPrintTouchRectangles must be of type boolean"));"boolean"!==typeof this.DebugOnlyDiagnosisDisplay&&g(Error("DebugOnlyDiagnosisDisplay must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableMouseUpDownAfterActiveTouch&&g(Error("WorkaroundDisableMouseUpDownAfterActiveTouch must be of type boolean"));"boolean"!==typeof this.WorkaroundDisableResizeHandling&&
g(Error("WorkaroundDisableResizeHandling must be of type boolean"));("number"!==typeof this.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch||0>this.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch)&&g(Error("WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch must be of type nonnegative number"));this.mo();this.ia()},mo:function(){return new ka(this.TooltipFont)},ia:function(){return new ia(this.ANSIStringEncoding)},gf:function(){return new ja(this.ANSIStringEncoding)}};var pa;
pa=function(a,b,c,d,e){this.CommBufferSize=a;this.sa=b;this.Cf=c;this.uf=d;this.Xj=43981;this.O=0;this.pk="";this.Qq=e};var wa;wa=function(a,b,c,d,e,f,h,k,p){this.Vh=a;this.pb=d%360;this.Mr=e;this.Nr=f;this.Uh=h;(0===this.Uh||2===this.Uh)&&180<this.pb?(this.pb-=180,this.Of=k?c:p,this.Ce=b):(this.Of=b,this.Ce=k?c:p)};
wa.prototype={Vw:function(a,b){if(0===b.l()||0===b.k())return"#ffffff";switch(this.Uh){case 0:return this.jl(a,b,m);case 1:return this.Gr(a,b);case 2:return this.jl(a,b,j);default:return"#ffffff"}},jl:function(a,b,c){var d,e,f,h;f=b.Nw();var k;d=90<this.pb?C.bc(180-this.pb):C.bc(this.pb);e=f.b-Math.max(b.k(),b.l())*Math.cos(d);h=f.c-Math.max(b.k(),b.l())*Math.sin(d);this.wm(f.b,f.c,e,h,b.e,b.g,b.e,b.B)?(f=d,d=b.l()/2*Math.tan(f),d=b.k()/2-d,f=Math.PI/2-f,f=d*Math.cos(f),e=f*f/d,h=d-e,k=Math.sqrt(Math.max(0,
h*e)),d=b.e-k,f=b.g+h,e=b.w+k,h=b.B-h):this.wm(f.b,f.c,e,h,b.e,b.g,b.w,b.g)?(f=d,d=b.k()/2/Math.tan(f),d=b.l()/2-d,f=Math.PI/2-f,f=Math.cos(f)*d,e=f*f/d,k=Math.sqrt(Math.max(0,(d-e)*e)),d=b.e+e,f=b.g-k,e=b.w-e,h=b.B+k):(d=b.e,f=b.g,e=b.w,h=b.B);90<this.pb&&(d=b.w-(d-b.e),e=b.w-(e-b.e));a=a.createLinearGradient(d,f,e,h);a.addColorStop(0,this.Of);c?(a.addColorStop(0.45,this.Ce),a.addColorStop(0.55,this.Ce),a.addColorStop(1,this.Of)):a.addColorStop(1,this.Ce);return a},Gr:function(a,b){var c=new z(b.e+
b.l()*this.Mr,b.g+b.k()*this.Nr),d=this.lt(b,c),c=a.createRadialGradient(c.b,c.c,0,c.b,c.c,d);c.addColorStop(0,this.Of);c.addColorStop(1,this.Ce);return c},wm:function(a,b,c,d,e,f,h,k){var p;p=(k-f)*(c-a)-(h-e)*(d-b);h=(h-e)*(b-f)-(k-f)*(a-e);a=(c-a)*(b-f)-(d-b)*(a-e);if(0===p)return h===a;b=h/p;p=a/p;return 0<=b&&1>=b&&0<=p&&1>=p},lt:function(a,b){var c=[],d,e;c[0]=this.Qf(new z(a.e,a.g),b);c[1]=this.Qf(new z(a.w,a.g),b);c[2]=this.Qf(new z(a.w,a.B),b);c[3]=this.Qf(new z(a.e,a.B),b);for(d=e=0;4>d;++d)e=
Math.max(e,c[d]);return Math.sqrt(e)},Qf:function(a,b){return(a.b-b.b)*(a.b-b.b)+(a.c-b.c)*(a.c-b.c)}};var Ia;Ia=function(a){this.a=a;this.Je()};
Ia.prototype={Je:function(){var a=this.a.N.s.canvas,b=this;a.addEventListener("keydown",function(a){b.Yt(a)},m);a.addEventListener("keypress",function(a){b.Zt(a)},m);a.addEventListener("keyup",function(a){b.$t(a)},m)},Zt:function(a){var b=this.a.j,a=this.at(a);b!==l&&a!==l&&this.a.Xb(E.zp(b.O,a))},Yt:function(a){var b=this.em(a),c=this.a.j;this.kl(a);c!==l&&b!==l&&this.a.Xb(E.Uj(G.Tp,c.O,b.key,b.Yb))},$t:function(a){var b=this.em(a),c=this.a.j;this.kl(a);c!==l&&b!==l&&this.a.Xb(E.Uj(G.Up,c.O,b.key,
b.Yb))},em:function(a){var a=a?a:event,b=a.keyCode,c=0;if(16<=b&&18>=b)return l;a.shiftKey&&(c|=1);a.altKey&&(c|=2);a.ctrlKey&&(c|=4);return{key:b,Yb:c}},at:function(a){var a=a?a:event,b=0;if(a.charCode)b=a.charCode;else if(a.which)b=a.which;if(0===b||a.altKey!==i&&a.altKey===j&&48<=b&&57>=b)return l;if(a.ctrlKey!==i&&a.ctrlKey||a.altKey!==i&&a.altKey)if(!(a.ctrlKey!==i&&a.ctrlKey)||!(a.altKey!==i&&a.altKey))return l;return String.fromCharCode(b)},kl:function(a){this.a.i!==l&&!this.a.i.DefaultKeyActions&&
a.preventDefault&&a.preventDefault()}};var Oa;Oa=function(a){this.a=a;this.cg=m;this.$h=0;this.Je()};
Oa.prototype={Yo:r("cg"),ry:r("$h"),Je:function(){var a=this.a.N.s.canvas,b=this;a.addEventListener("mouseup",function(a){b.fu(a)},m);a.addEventListener("mousedown",function(a){b.cu(a)},m);a.addEventListener("mousemove",function(a){b.du(a)},m);a.addEventListener("mouseout",function(a){b.eu(a)},m);a.addEventListener("touchstart",function(a){b.Pe(a)},j);a.addEventListener("touchmove",function(a){b.Pe(a)},j);a.addEventListener("touchend",function(a){b.Pe(a)},j)},Wf:function(a,b){this.a.j!==l&&this.a.Xb(E.Vj(b,
this.a.j.O,w.yf(a)))},km:function(a){return 1===a.which},fu:function(a){B.W()<this.$h||this.km(a)&&this.Wf(a,G.dk)},cu:function(a){!(B.W()<this.$h)&&this.km(a)&&(this.a.nc.so()&&this.a.nc.Zi(this.a.i.CommitEditcontrolOnClickOut),this.a.Lc.vx(a),this.Wf(a,G.fh))},du:function(a){this.cg||this.Wf(a,G.gh)},eu:function(a){this.Wf(a,G.Yp)},Pe:function(a){if(this.a.i!==l&&this.a.i.HandleTouchEvents&&!this.a.i.TouchHandlingActive){var b,c=l;switch(a.type){case "touchstart":b=G.fh;this.cg=j;break;case "touchmove":b=
G.gh;break;case "touchend":b=G.dk;this.cg=m;break;default:return}a.touches&&1<=a.touches.length?c=w.zf(a.touches[0]):a.changedTouches&&1<=a.changedTouches.length&&(c=w.zf(a.changedTouches[0]));c!==l&&(this.a.j!==l&&(b===G.fh&&this.a.Lc.Xy(c),this.a.Xb(E.Vj(b,this.a.j.O,c))),a.preventDefault())}}};var Pa;Pa=function(a,b,c){this.zd=a;this.es=b;this.Gh=c;this.Gm=I.n(1E3)};Pa.prototype={ux:function(){return this.es-this.Gm.size()},Zb:s("Gm"),finish:function(){this.Gh=0},Hg:function(){return 0===this.Gh}};
var Qa;Qa=r("a");Qa.prototype={$x:function(){var a=this.a.qa(),b=this.a.Fa();b.hz(this.a.j.O);a.Ia(b.Ga(),this,j)},Ya:o(),L:o()};var Ra;
Ra=function(a,b,c,d){this.a=a;var b=this.am(b),c=this.am(c),e=1;(b.width!==c.width||b.height!==c.height)&&g(Error("Expected two canvasses of the same size"));w.hq(b,c);this.na=this.bm(b);this.s=this.bm(c);this.Bv=Wa.eq();d&&(this.oo()&&(e=w.ne()),this.Zn(e));this.Th=new Xa;this.Yl=new Ya(this.s);this.Lf=new Ya(this.na);this.Pd=m;this.bi=new Za;this.ai=new $a(this.a);this.Li=new ab(this);this.Mi=new gb(this);this.Eh=m;this.ls=new hb(a);this.Ua=new ib};
Ra.prototype={zc:function(){return new K(0,0,this.na.canvas.width,this.na.canvas.height)},clear:function(){this.s.clearRect(0,0,this.s.canvas.width,this.s.canvas.height);this.na.fillStyle="#ffffff";this.na.fillRect(0,0,this.na.canvas.width,this.na.canvas.height)},Mw:function(){var a=B.qh(this.na.canvas);return new z(a.e,a.g)},getContext:function(){var a,b;a=l;b=this.Ua.Ti();-1!==b&&(a=this.Ua.Rg(b));return this.Pd?a!==l?a.na:this.na:a!==l?a.De:this.s},F:function(){var a,b;a=l;b=this.Ua.Ti();-1!==
b&&(a=this.Ua.Rg(b));return this.Pd?a!==l?a.Lf:this.Lf:a!==l?a.Ar:this.Yl},Rx:function(){this.Pd=j},Sx:function(){this.Pd=m},aw:function(){this.Eh=j},Dw:function(a,b){this.a.Lc.Ry();this.Th.clear();this.s.save();this.Yl.apply();this.Lf.apply();var c=this.Hu(a),d,e=m,f=this;for(d=0;d<c.length;++d)c[d]instanceof jb&&!c[d].fx(this.ai,this.bi)&&(e=j),c[d]instanceof kb&&c[d].execute(this);this.Kr()?(e?(WebvisuLogger.R("Waiting for image(s) to load"),this.ai.Rv(function(){WebvisuLogger.R("Loading image(s) finished so continue with drawing");
f.Dl(c,b)})):this.Dl(c,b),this.a.da!==l&&this.a.da.o.Ie&&this.ps()):b()},xx:function(){(new lb).Lv("DevicePixelRatioChanged","true")},oo:function(){return(new lb).cx("DevicePixelRatioChanged")},Dh:function(a){this.na.canvas.width=this.s.canvas.width=a.I;this.na.canvas.height=this.s.canvas.height=a.J},Bl:function(){return new A(document.documentElement.clientWidth,document.documentElement.clientHeight)},Zn:function(a){this.Bv&&(a=1);try{var b=this.Bl(),c;this.Dh(b.scale(a));c=this.Bl();(c.I>b.I||c.J>
b.J)&&this.Dh(c.scale(a))}catch(d){WebvisuLogger.warn("Exception during resizing canvasses: "+d),this.Dh((new A(window.innerWidth,window.innerHeight)).scale(a))}},Dl:function(a,b){if(this.Eh)this.a.Mn(),this.Eh=m;var c,d,e=[];for(c=0;c<a.length;++c)d=a[c],d instanceof mb?d.execute(this):d instanceof nb&&e.push(d);this.Th.Pv(this.s);for(c=0;c<a.length;++c)d=a[c],!(d instanceof mb)&&!(d instanceof nb)&&!(d instanceof kb)&&a[c].execute(this);this.s.restore();for(c=0;c<e.length;++c)e[c].execute(this);
this.tu();this.a.Lc.Bw(0===a.length);this.ls.xg(this.s);b()},Kr:function(){return this.a.da===l||this.a.da.o.Ie||!this.a.da.o.mj()},tu:function(){if(!this.a.j.uf){if(this.Tl===i)this.Tl=B.W();if(!(3E4>B.W()-this.Tl)){this.s.save();var a=new K(this.s.canvas.width-160,10,this.s.canvas.width-10,50);this.s.strokeStyle="#808080";this.s.fillStyle="#c7c7c7";this.s.lineWidth=2;C.Yj(this.s,a.e,a.g,a.l(),a.k(),j,j);this.s.fillStyle="#ffffff";this.s.font="16px Arial";this.s.textAlign="center";this.s.textBaseline=
"middle";this.s.fillText("Demo Mode",a.e+a.l()/2,a.g+a.k()/2);this.s.restore()}}},Hu:function(a){var b=Array(a.zd),c,d;if(0<a.zd){c=M.n(a.Zb().Zb(),this.a.j.sa,this.a.ia());c=new ob(c);for(d=0;d<a.zd;++d)if(c.H()<c.size()-4){var e=c.H(),f=c.getUint32(),h=c.getUint32();b[d]=pb.Ap(h,c,f,this);c.seek(e+f)}}return b},am:function(a){var b=window.document.getElementById(a);b===l&&g(Error("Canvas "+a+" does not exist"));return b},bm:function(a){a=a.getContext("2d");a===l&&g(Error("Creating graphics context failed"));
return a},ps:function(){var a,b,c,d,e=this.a.da;if(e!==l)for(a=0;a<e.pa.C.length;++a)if(c=e.pa.Yw(a),c.info().sj(0)!==l&&(b=e.rb,b!==l))d=this.s,d.save(),b.Do(this,c),d.restore()}};var qb;qb=function(a,b,c){this.Rc=m;this.De=a;this.na=b;this.Ar=new Ya(this.De);this.Lf=new Ya(this.na);this.Rd=c};qb.prototype={ty:r("Rc"),size:s("Rd")};var Ya;
Ya=function(a){this.Jd=l;this.Oh="#ffffff";this.gm=m;this.fi="#000000";this.Kd=m;this.gi=0.5;this.jn="#000000";this.qb="12px Arial";this.Fe=12;this.X=a;this.ui=new z(0,0);this.si=new z(0,0)};
Ya.prototype={my:function(a,b){this.Oh=a;this.gm=b;this.X.fillStyle=this.Oh},xy:function(a,b,c,d,e,f){this.gi=a;this.fi=b;this.Tb=c;this.fc=d;this.gc=e;this.we=f;this.X.strokeStyle=this.fi;this.X.lineWidth=Math.max(1,this.gi);this.X.lineCap=this.fc;this.X.lineJoin=this.gc;this.X.miterLimit=this.we;if("function"===typeof this.X.setLineDash){if(this.Kd=m,0===this.Tb&&this.X.setLineDash([]),1===this.Tb&&this.X.setLineDash([8,3]),2===this.Tb&&this.X.setLineDash([3,3]),3===this.Tb&&this.X.setLineDash([8,
3,3,3]),4===this.Tb&&this.X.setLineDash([8,3,3,3,3,3]),5===this.Tb)this.Kd=j,this.X.setLineDash([0,0])}else this.Kd=5===this.Tb},My:function(a,b,c){this.qb=a;this.Fe=b;this.jn=c;this.X.font=this.qb},apply:function(){this.X.fillStyle=this.Oh;this.X.strokeStyle=this.fi;this.X.lineWidth=this.gi;this.X.font=this.qb;this.X.lineCap=this.fc;this.X.lineJoin=this.gc;this.X.miterLimit=this.we},lj:function(){return this.Jd===l?this.gm:this.Jd.Vh},Ac:function(){return this.Jd!==l},py:r("Jd"),Sg:function(){this.Jd=
l;this.apply()},ug:function(a){this.X.fillStyle=this.Jd.Vw(this.X,a)},Xo:r("Fe"),ny:function(a){this.qb=a;this.X.font=this.qb}};var ib;ib=function(){this.Eb=[];this.xe=[];this.wt=m};
ib.prototype={Rg:function(a){return this.Eb.length>a?this.Eb[a]:l},Kv:function(a,b){this.Eb[a]=b},Qx:function(a){this.Eb.length>a&&(this.Eb[a]=l)},Ti:function(){return 0<this.xe.length?this.xe[this.xe.length-1]:-1},Gx:function(a){this.xe.push(a)},Ex:function(){return this.xe.pop()},sy:r("wt"),Zv:function(a){for(var b=0;b<this.Eb.length;++b)if(this.Eb[b]!==l&&this.Eb[b].Rc){var c=this.Eb[b].De,d=this.Eb[b].na.canvas;c.save();c.beginPath();c.rect(a.e,a.g,a.l(),a.k());c.clip();c.drawImage(d,0,0);c.restore()}}};
var rb;rb=o();rb.mr="3.5.12.0";var sb;sb=function(a,b,c){this.yt();WebvisuLogger.info("Webvisualization starting");WebvisuLogger.info("Version: "+rb.mr);this.da=this.Qd=l;this.nc=new tb(this);this.xi();this.N=new Ra(this,a,b,c);this.Je();this.hA=new Ia(this);this.ni=new Oa(this);this.Lc=new ub(this);this.zt(b);this.Ye=l;this.Lh=new vb(new Configuration);this.Ei("Loading Webvisualization");this.Vf=l;this.jb=-1;this.Bd=new wb(this);this.Nl()};window.Webvisu=sb;
sb.prototype={Nl:function(){var a=this.Bd;if(this.Vf!==l)this.la!==l&&this.la.push(this.Vf),this.Vf=l;this.Bd=l;try{a.execute()}catch(b){this.error("Unexpected Exception: "+b)}},xi:function(){this.la=this.i=this.d=this.j=l;this.lA=this.Nm=m;if(this.da!==l)this.da.cj(),this.da=l;this.nc.so()&&this.nc.close();this.Qd!==l&&this.Qd.detach();WebvisuExtensionMgr.sw()},Je:function(){var a=this;window.addEventListener("unload",function(b){a.au(b)},m)},zt:function(a){var b="WebvisuAutotestInst";window[b]=
new WebvisuAutotest(this,a);window.WebvisuAutotest_raiseMouse=window[b].raiseMouse;window.WebvisuAutotest_raiseKey=window[b].raiseKey;b="WebvisuExtensionMgr";window[b]=WebvisuExtensionMgr;window.WebvisuExtensionMgr_register=window[b].register;window.WebvisuExtensionMgr_openControlRelative=window[b].openControlRelative},yt:function(){WebvisuLogger=v.ij();var a=window.document.getElementById("WebvisuLoggingElem");a!==l?(a=new v.gq(a),a.Ey(),a.Wg(m),a.vj(100)):(a=new v.tp,a.Ny());WebvisuLogger.xn(a);
WebvisuLogger.Jb(v.cc.md)},Ei:function(a){this.Ye!==l&&this.Mn();this.Ye=new xb(a,this.N)},Mn:function(){this.Ye!==l&&this.Ye.close();this.Ye=l},qa:function(){return new yb(this)},Fa:function(){return this.j===l?new zb(j,43981,5E4):new zb(this.j.sa,this.j.Xj,this.j.CommBufferSize)},To:function(a){"TRACE"===a.LogLevel?WebvisuLogger.Jb(v.cc.zh):"DEBUG"===a.LogLevel?WebvisuLogger.Jb(v.cc.me):"INFO"===a.LogLevel?WebvisuLogger.Jb(v.cc.md):"WARNING"===a.LogLevel?WebvisuLogger.Jb(v.cc.cA):"ERROR"===a.LogLevel?
WebvisuLogger.Jb(v.cc.oe):"FATAL"===a.LogLevel?WebvisuLogger.Jb(v.cc.gk):WebvisuLogger.warn("Unexpected loglevel: "+a.LogLevel);this.i=a;this.Lh=new vb(a);if(this.i.TouchHandlingActive)this.da=new Ab(this);if(this.i.BestFit&&!this.i.WorkaroundDisableResizeHandling){if(this.Qd===l)this.Qd=new Bb(this);this.Qd.Qv()}},ia:function(){return this.Lh.Jh},gf:function(){return this.Lh.Fd},ap:function(a){!window.btoa&&a&&(WebvisuLogger.warn("POST data in header should be done but is not supported by the browser"),
a=m);this.Nm=a},dy:r("j"),ie:function(a){this.d=a===l?l:a},G:function(a,b){this.Bd=a;0>=b&&(b=0);this.cn(b)},ly:r("Vf"),dv:r("Bd"),error:function(a){WebvisuLogger.error(a);a=this.i!==l?this.i.ErrorReconnectTime:1E4;WebvisuLogger.info("Will restart in "+a+"ms");this.xi();this.Qu();this.Ei("An error happened; will automatically restart");this.G(new Cb(this),a)},sx:function(){this.jp("The webvisualization license expired.","License Expired")},jp:function(a,b){WebvisuLogger.warn(a+" Webvisualization is stopped");
this.Ei(b);this.xi();this.dv(new Cb(this))},ky:r("la"),cn:function(a){var b=this;this.jb=window.setTimeout(function(){b.Nl()},a)},Xb:function(a){this.la!==l&&(this.la.push(a),this.Bd!==l&&this.Bd.Wi()&&(clearTimeout(this.jb),this.cn(0)))},au:function(){this.j!==l&&(new Qa(this)).$x()},Qu:function(){var a=this.N.s,b;for(b=0;20>b;++b)a.restore()}};var WebvisuAutotest;WebvisuAutotest=function(a,b){this.a=a;this.ml=b};
WebvisuAutotest.prototype={raiseMouse:function(a,b,c){var d,e,f=window.document.getElementById(this.ml),h;d="mousemove"!==a;e=window;h=window.document.createEvent("MouseEvents");h.initMouseEvent(a,j,d,e,0,b,c,b,c,m,m,m,m,0,f);Object.defineProperty(h,"layerX",{value:b});Object.defineProperty(h,"layerY",{value:c});h.button=1;h.which=1;f.dispatchEvent(h)},raiseKey:function(a,b,c,d,e){var f=this.a.nc.fb;f!==l?13===b||27===b?this.Rm(f,a,b,c,d,e):this.Gu(f,b,a,c):this.Rm(window.document.getElementById(this.ml),
a,b,c,d,e)},Gu:function(a,b,c,d){if("keypress"===c){var c=a.selectionStart,e=a.selectionEnd,b=String.fromCharCode(b);d||(b=b.toLowerCase());a.value=a.value.substr(0,c)+b+a.value.substr(e);c===e&&this.$s(a);this.bv(a,c+1)}},bv:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(j);c.moveEnd("character",b);c.moveStart("character",b);c.select()}},$s:function(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),
b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b},Rm:function(a,b,c,d,e,f){var h;window.document.createEventObject!==i?(h=document.createEvent("Events"),h.initEvent(b,j,j),h.which=c,h.keyCode=c,h.shiftKey=d,h.ctrlKey=f,h.altKey=e,h.metaKey=m):(h=window.document.createEvent("KeyboardEvent"),h.initKeyboardEvent===i?h.initKeyEvent(b,j,j,l,f,e,d,m,c,c,c,a):h.initKeyboardEvent(b,j,j,l,f,e,d,m,c,c,c,a),delete h.keyCode,
Object.defineProperty(h,"keyCode",{value:c}),delete h.charCode,Object.defineProperty(h,"charCode",{value:c}),delete h.shiftKey,Object.defineProperty(h,"shiftKey",{value:d}),delete h.ctrlKey,Object.defineProperty(h,"ctrlKey",{value:f}),delete h.altKey,Object.defineProperty(h,"altKey",{value:e}),delete h.metaKey,Object.defineProperty(h,"metaKey",{value:m}),delete h.which,Object.defineProperty(h,"which",{value:c}),delete h.target,Object.defineProperty(h,"target",{value:a}));a.dispatchEvent(h)}};var WebvisuExtensionMgr;
(function(){var a;a=function(){this.Nh=[];this.vd={}};a.prototype={register:function(a){a===l&&g(Error("null value not expected"));"function"!==typeof a.instantiateIf&&g(Error("function instantiateIf of extensionFactory expected"));this.Nh.push(a)},openControlRelative:function(a,c,d,e,f,h){a===l&&g(Error("null value not expected"));"number"!==typeof c&&g(new TypeError("Expected numeric value"));"number"!==typeof d&&g(new TypeError("Expected numeric value"));"number"!==typeof e&&g(new TypeError("Expected numeric value"));
"number"!==typeof f&&g(new TypeError("Expected numeric value"));h===l&&g(Error("null value not expected"));c=new K(c,d,c+e,d+f);d=B.qh(h);c=c.ub(d.e,d.g);B.re(a,c);a.style.zIndex=300;h.parentNode.appendChild(a)},Yy:function(a){var c;for(c=0;c<this.Nh.length;++c){var d=this.Nh[c].instantiateIf(a);if(d!==l&&d!==i){if(this.zv(d))return d;break}}return l},sw:function(){var a;for(a=0;a<this.vd.length;++a)this.vd[a]&&this.Xn(a);this.vd=[]},kw:function(a,c,d,e){a.create(d.e,d.g,d.l(),d.k(),e);this.vd[c]=
a},Xn:function(a){var c=this.$f(a);c!==l&&(c.destroy(),delete this.vd[a])},jw:function(a,c){var d=this.$f(a);d!==l&&d.setVisibility(c)},iw:function(a,c){var d=this.$f(a);d!==l&&d.move(c.e,c.g,c.l(),c.k())},hw:function(a,c,d){a=this.$f(a);return a===l?l:a.invoke(c,d)},$f:function(a){var c=this.vd[a];return!c?(WebvisuLogger.warn("Not existing extension with id "+a+" accessed; ignored"),l):c},zv:function(a){return!this.Ae(a,"create")||!this.Ae(a,"setVisibility")||!this.Ae(a,"move")||!this.Ae(a,"invoke")||
!this.Ae(a,"destroy")?m:j},Ae:function(a,c){return"function"!==typeof a[c]?(WebvisuLogger.warn("Extension object is missing an implementation of '"+c+"'"),m):j}};WebvisuExtensionMgr=new a})();var I;I=function(a){a===i&&(a=10);this.t=new ArrayBuffer(a);this.Pb=new Uint8Array(this.t);this.ca=0};I.n=function(a){return w.ve()?new Db:new I(a)};
I.prototype={Ru:function(){this.Xm(this.Ut(this.t.byteLength))},Xm:function(a){var b=this.Pb;this.t=new ArrayBuffer(a);this.Pb=new Uint8Array(this.t);for(a=0;a<this.ca;++a)this.Pb[a]=b[a]},Ut:function(a){return 500>a?2*a:Math.floor(1.3*a)},lg:function(a,b){this.Pb[a]=b},Lo:function(a){a>this.t.byteLength&&this.Xm(a)},sg:function(a){this.ca>=this.t.byteLength&&this.Ru();var b=this.ca;this.ca++;this.lg(b,a)},En:function(a,b,c){var d=new Uint8Array(a),e;this.Lo(this.size()+c);if(200<c&&0===b%4&&0===
this.ca%4&&!w.Jk()){var f=Math.floor(c/4);e=Math.floor(this.ca/4);var a=new Uint32Array(a,4*Math.floor(b/4),f),h=new Uint32Array(this.t,4*e,f),k=c-4*f;for(e=0;e<f;++e)h[e]=a[e];for(e=0;e<k;++e)this.Pb[this.ca+e+4*f]=d[b+e+4*f]}else for(e=0;e<c;++e)this.Pb[this.ca+e]=d[b+e];this.ca+=c},tj:function(a,b){this.lg(a,b)},bo:function(a){return this.Pb[a]},size:s("ca"),Zb:function(){var a=new ArrayBuffer(this.ca),b=new Uint8Array(this.t),c,d=new Uint8Array(a);for(c=0;c<this.ca;++c)d[c]=b[c];return a}};var Db;
(function(){function a(a){return String.fromCharCode((a>>4)+65)+String.fromCharCode((a&15)+65)}Db=function(){this.t="";this.ca=0};Db.prototype={lg:function(b,c){var d=l,e=l,f;0<b&&(d=this.t.substr(0,2*b));b<this.ca-1&&(e=this.t.substr(2*b+2,this.t.length-2*b-2));f="";d!==l&&(f=d);f=f.concat(a(c));e!==l&&(f=f.concat(e));this.t=f},Lo:o(),sg:function(b){this.t=this.t.concat(a(b));this.ca++},Ov:function(b){var c="",d;for(d=0;d<b.length;++d)c=c.concat(a(b.charCodeAt(d)));this.t=this.t.concat(c);this.ca+=
c.length/2},En:function(a,c,d){this.t=this.t.concat(a.substr(2*c,2*d));this.ca+=d},tj:function(a,c){this.lg(a,c)},bo:function(a){return this.t.charCodeAt(2*a)-65<<4|this.t.charCodeAt(2*a+1)-65},size:s("ca"),Zb:s("t")}})();var M;
(function(){function a(a,b,c){return function(){if(0===this.h%c&&(1===c||this.Q))try{return(new a[b+"Array"](this.t,this.h,1))[0]}catch(d){}return l}}function b(a,b){return function(){var c=this["getOptimized"+a]();c===l&&(c=this["_get"+a]());this.h+=b;return c}}function c(c,d){M.prototype["getOptimized"+c]=a(this,c,d);M.prototype["get"+c]=b(c,d)}M=function(a,b,c,d,e){a instanceof ArrayBuffer||g(new TypeError("BinaryReader requires an ArrayBuffer"));b===i&&g(Error("Byteorder must be explicitly assigned"));
c===i&&(c=(new Configuration).ia());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ia||g(new TypeError("BinaryReader requires a TextDecoder"));0>d&&g(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&g(Error("Valid data range exceeded"));this.Q=b;this.ic=e;this.t=a;this.h=d;this.Pb=new Uint8Array(this.t);this.rc=c;this.p=new Eb(this,this.Q)};M.n=function(a,b,c,d,e){return w.Fp()?new Fb(a,b,c,d,e):w.ve()?new Gb(a,b,c,d,e):new M(a,b,c,d,e)};M.prototype={ce:s("Q"),je:s("rc"),getString:function(a,
b){var c=a*(b?2:1),d;(0>a||this.h+c>this.t.byteLength)&&g(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.p.Jo(this.t,this.h,a,c,b,this.rc);this.h+=c;return d},$b:function(a){return this.p.$b(a)},$d:function(){return String.fromCharCode(this.getUint8())},ad:function(){return this.h>=this.ic},H:s("h"),seek:r("h"),size:s("ic"),ht:function(){return this.p.Sn()},gt:function(){return this.p.Rn()},jt:function(){return this.p.Un()},ot:function(){return this.p.bj()},it:function(){return this.p.Tn()},nt:function(){return this.p.aj()},
kt:function(){return this.p.Vn()},M:function(a){return this.Pb[a]},getUint8:function(){var a=this.M(this.h);this.h++;return a},ff:s("t")};var d={Int8:1,Int16:2,Int32:4,Uint16:2,Uint32:4,Float32:4,Float64:8},e,f;for(e in d)if(d.hasOwnProperty(e))c(e,d[e]),f="_getFloat64",M.prototype[f]=M.prototype.ht,f="_getFloat32",M.prototype[f]=M.prototype.gt,f="_getInt32",M.prototype[f]=M.prototype.jt,f="_getUint32",M.prototype[f]=M.prototype.ot,f="_getInt16",M.prototype[f]=M.prototype.it,f="_getUint16",M.prototype[f]=
M.prototype.nt,f="_getInt8",M.prototype[f]=M.prototype.kt})();var ob;ob=r("p");
ob.prototype={ce:function(){return this.p.ce()},je:function(){return this.p.je()},getString:function(a,b){return this.p.getString(a,b)},$b:function(a){return this.p.$b(a)},$d:function(){return this.p.$d()},ad:function(){return this.p.ad()},H:function(){return this.p.H()},seek:function(a){this.p.seek(a)},size:function(){return this.p.size()},getFloat64:function(){this.wd(8);return this.p.getFloat64()},getFloat32:function(){this.wd(4);return this.p.getFloat32()},getInt32:function(){this.wd(4);return this.p.getInt32()},
getUint32:function(){this.wd(4);return this.p.getUint32()},getInt16:function(){this.wd(2);return this.p.getInt16()},getUint16:function(){this.wd(2);return this.p.getUint16()},getInt8:function(){return this.p.getInt8()},getUint8:function(){return this.p.getUint8()},M:function(a){return this.p.M(a)},ff:function(){return this.p.ff()},wd:function(a){var b=this.p.H();8!==a&&4!==a&&2!==a||0===b%a||this.p.seek(b+a-b%a)}};var Fb;
Fb=function(a,b,c,d,e){a instanceof ArrayBuffer||g(new TypeError("BinaryReader_DataView requires an ArrayBuffer"));b===i&&g(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ia());d===i&&(d=0);if(e===i)e=a.byteLength;c instanceof ia||g(new TypeError("BinaryReader_DataView requires a TextDecoder"));0>d&&g(Error("Invalid start offset"));(0===e||d+e>a.byteLength)&&g(Error("Valid data range exceeded"));this.Q=b;this.vc=new DataView(a,0,e+d);this.ic=e;this.t=a;this.h=d;this.rc=
c;this.p=new Eb(this,this.Q)};
Fb.prototype={ce:s("Q"),je:s("rc"),getString:function(a,b){var c=a*(b?2:1),d;(0>a||2*(this.h+c)>this.t.length)&&g(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=this.p.Jo(this.t,this.h,a,c,b,this.rc);this.h+=c;return d},$b:function(a){return this.p.$b(a)},$d:function(){return String.fromCharCode(this.getUint8())},ad:function(){return this.h>=this.ic},H:s("h"),seek:r("h"),size:s("ic"),getFloat64:function(){var a=this.vc.getFloat64(this.h,this.Q);this.h+=8;return a},getFloat32:function(){var a=this.vc.getFloat32(this.h,
this.Q);this.h+=4;return a},getInt32:function(){var a=this.vc.getInt32(this.h,this.Q);this.h+=4;return a},getUint32:function(){var a=this.vc.getUint32(this.h,this.Q);this.h+=4;return a},getInt16:function(){var a=this.vc.getInt16(this.h,this.Q);this.h+=2;return a},getUint16:function(){var a=this.vc.getUint16(this.h,this.Q);this.h+=2;return a},getInt8:function(){var a=this.vc.getInt8(this.h);this.h++;return a},getUint8:function(){var a=this.M(this.h);this.h++;return a},M:function(a){return this.vc.getUint8(a)},
ff:s("t")};var Gb;Gb=function(a,b,c,d,e){"string"!==typeof a&&g(new TypeError("BinaryReader_StringBased expects a string"));b===i&&g(Error("Byteorder must be explicitly assigned"));c===i&&(c=(new Configuration).ia());d===i&&(d=0);e===i&&(e=a.length/2);c instanceof ia||g(new TypeError("BinaryReader requires a TextDecoder"));0>d&&g(Error("Invalid start offset"));(0===e||d+e>a.length/2)&&g(Error("Valid data range exceeded"));this.Q=b;this.ic=e;this.t=a;this.h=d;this.rc=c;this.p=new Eb(this,b)};
Gb.prototype={ce:s("Q"),je:s("rc"),getString:function(a,b){var c=a*(b?2:1),d,e;(0>a||2*(this.h+c)>this.t.length)&&g(Error("INDEX_SIZE_ERR: DOM Exception 1"));d=Array(a);if(b){var f;if(this.Q)for(e=0;e<a;++e)f=2*e+this.h,d[e]=(this.M(f+1)<<8)+this.M(f);else for(e=0;e<a;++e)f=2*e+this.h,d[e]=this.M(f+1)+(this.M(f)<<8);d=String.fromCharCode.apply(l,d)}else{for(e=this.h;e<this.h+a;++e)d[e-this.h]=this.M(e);d=this.rc.pw(d)}this.h+=c;return d},$b:function(a){return this.p.$b(a)},$d:function(){return String.fromCharCode(this.getUint8())},
ad:function(){return this.h>=this.ic},H:s("h"),seek:r("h"),size:s("ic"),getFloat64:function(){var a=this.p.Sn();this.h+=8;return a},getFloat32:function(){var a=this.p.Rn();this.h+=4;return a},getInt32:function(){var a=this.p.Un();this.h+=4;return a},getUint32:function(){var a=this.p.bj();this.h+=4;return a},getInt16:function(){var a=this.p.Tn();this.h+=2;return a},getUint16:function(){var a=this.p.aj();this.h+=2;return a},getInt8:function(){var a=this.p.Vn();this.h++;return a},getUint8:function(){var a=
this.M(this.h);this.h++;return a},M:function(a){return this.t.charCodeAt(2*a)-65<<4|this.t.charCodeAt(2*a+1)-65},ff:s("t")};var Eb;Eb=function(a,b){this.K=a;this.Q=b};
Eb.prototype={$b:function(a){var b=this.K.H(),c=0;if(a)for(;0!==this.K.getUint16();)c++;else for(;0!==this.K.getUint8();)c++;this.K.seek(b);b=this.K.getString(c,a);a?this.K.getUint16():this.K.getUint8();return b},Sn:function(){var a=this.K.H(),b=this.K.M(this.ka(a,0,8)),c=this.K.M(this.ka(a,1,8)),d=this.K.M(this.ka(a,2,8)),e=this.K.M(this.ka(a,3,8)),f=this.K.M(this.ka(a,4,8)),h=this.K.M(this.ka(a,5,8)),k=this.K.M(this.ka(a,6,8)),p=this.K.M(this.ka(a,7,8)),a=1-2*(b>>7),b=((b<<1&255)<<3|c>>4)-(Math.pow(2,
10)-1),c=(c&15)*Math.pow(2,48)+d*Math.pow(2,40)+e*Math.pow(2,32)+f*Math.pow(2,24)+h*Math.pow(2,16)+k*Math.pow(2,8)+p;return 1024===b?0!==c?NaN:Infinity*a:-1023===b?a*c*Math.pow(2,-1074):a*(1+c*Math.pow(2,-52))*Math.pow(2,b)},Rn:function(){var a=this.K.H(),b=this.K.M(this.ka(a,0,4)),c=this.K.M(this.ka(a,1,4)),d=this.K.M(this.ka(a,2,4)),e=this.K.M(this.ka(a,3,4)),a=1-2*(b>>7),b=(b<<1&255|c>>7)-127,c=(c&127)<<16|d<<8|e;return 128===b?0!==c?NaN:Infinity*a:-127===b?a*c*Math.pow(2,-149):a*(1+c*Math.pow(2,
-23))*Math.pow(2,b)},Un:function(){var a=this.bj();return a>Math.pow(2,31)-1?a-Math.pow(2,32):a},bj:function(){var a=this.K.H(),b=this.K.M(this.ka(a,0,4)),c=this.K.M(this.ka(a,1,4)),d=this.K.M(this.ka(a,2,4)),a=this.K.M(this.ka(a,3,4));return b*Math.pow(2,24)+(c<<16)+(d<<8)+a},Tn:function(){var a=this.aj();return a>Math.pow(2,15)-1?a-Math.pow(2,16):a},aj:function(){var a=this.K.H(),b=this.K.M(this.ka(a,0,2)),a=this.K.M(this.ka(a,1,2));return(b<<8)+a},Vn:function(){var a=this.K.M(this.K.H());return a>
Math.pow(2,7)-1?a-Math.pow(2,8):a},Jo:function(a,b,c,d,e,f){var h=l;if(e){if(this.Q&&0===b%2)try{h=new Int16Array(a,b,c)}catch(k){}if(h===l)if(h=new Int16Array(Array(c)),b=new Uint8Array(a,b,d),this.Q)for(a=0;a<c;++a)h[a]=(b[2*a+1]<<8)+b[2*a];else for(a=0;a<c;++a)h[a]=b[2*a+1]+(b[2*a]<<8);b=[];for(a=0;a<c;++a)b[a]=h[a];return String.fromCharCode.apply(l,b)}h=new Int8Array(a,b,c);return f.$i(h)},ka:function(a,b,c){return a+(this.Q?c-b-1:b)}};var N;
N=function(a,b,c){a instanceof I||g(new TypeError("BinaryWriter expects a BinaryBuffer"));b===i&&g(Error("Byteorder must be explicitly assigned"));this.Mc=a;this.Q=b;this.Ra=-1;this.Mh=c};N.n=function(a,b,c){c=new Lb(c);return w.ve()?new Mb(a,b,c):new N(a,b,c)};
N.prototype={mv:function(a){var b=a.length/2,c,d;1!==b&&2!==b&&4!==b&&g(Error("Unexpected size for swapping"));for(d=0;d<b;++d)c=a[d],a[d]=a[a.length-d-1],a[a.length-d-1]=c},Kc:function(a,b,c){var d=new ArrayBuffer(c),b=new b(d),d=new Uint8Array(d);b[0]=a;1<c&&!this.Q&&this.mv(d,c);for(a=0;a<c;++a)this.el(d[a])},el:function(a){-1!==this.Ra?(this.Mc.tj(this.Ra,a),this.Ra++):this.Mc.sg(a)},seek:r("Ra"),H:function(){return-1!==this.Ra?this.Ra:this.Mc.size()},tg:function(a){var b=[204,221],c;for(c=0;c<
a;++c)this.$(b[c%2])},$:function(a){this.el(a)},Dn:function(a){this.Kc(a,Int8Array,1)},ha:function(a){this.Kc(a,Uint16Array,2)},Va:function(a){this.Kc(a,Int16Array,2)},r:function(a){this.Kc(a,Uint32Array,4)},Cn:function(a){this.Kc(a,Int32Array,4)},An:function(a){this.Kc(a,Float32Array,4)},Bn:function(a){this.Kc(a,Float64Array,8)},xc:function(a,b){this.ye(a,b,m)},Wa:function(a,b){this.ye(a,b,j)},ye:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ha(e):128>e?this.$(e):this.$(this.Mh.Yn(e))}c&&
(b?this.ha(0):this.$(0))}};var Mb;Mb=function(a,b,c){a instanceof Db||g(new TypeError("BinaryWriter expects a BinaryBuffer_StringBased"));b===i&&g(Error("Byteorder must be explicitly assigned"));this.Mc=a;this.Q=b;this.Ra=-1;this.Mh=c};
Mb.prototype={hc:function(a){if(-1!==this.Ra)for(var b=0;b<a.length;++b)this.Mc.tj(this.Ra,a.charCodeAt(b)&255),this.Ra++;else this.Mc.Ov(a)},seek:r("Ra"),H:function(){return-1!==this.Ra?this.Ra:this.Mc.size()},tg:function(a){var b=[204,221],c;for(c=0;c<a;++c)this.$(b[c%2])},$:function(a){this.hc(this.Ed(a,8,m))},Dn:function(a){this.hc(this.Ed(a,8,j))},ha:function(a){this.hc(this.Ed(a,16,m))},Va:function(a){this.hc(this.Ed(a,16,j))},r:function(a){this.hc(this.Ed(a,32,m))},Cn:function(a){this.hc(this.Ed(a,
32,j))},An:function(a){this.hc(this.Kl(a,23,8))},Bn:function(a){this.hc(this.Kl(a,52,11))},xc:function(a,b){this.ye(a,b,m)},Wa:function(a,b){this.ye(a,b,j)},ye:function(a,b,c){for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);b?this.ha(e):128>e?this.$(e):this.$(this.Mh.Yn(e))}c&&(b?this.ha(0):this.$(0))},Kl:function(a,b,c){var d=Math.pow(2,c-1)-1,e=-d+1,f=e-b,h=parseFloat(a),k=isNaN(h)||-Infinity==h||Infinity==h?h:0,p=0,n=2*d+1+b+3,a=Array(n),x=0>(h=0!==k?0:h),L=Math.floor(h=Math.abs(h)),D=h-L,O=
[],u;for(u=n;u;a[--u]=0);for(u=d+2;L&&u;a[--u]=L%2,L=Math.floor(L/2));for(u=d+1;0<D&&u;(a[++u]=(1<=(D*=2))-0)&&--D);for(u=-1;++u<n&&!a[u];);if(a[(O=b-1+(u=(p=d+1-u)>=e&&p<=d?u+1:d+1-(p=e-1)))+1]){if(!(h=a[O]))for(D=O+2;!h&&D<n;h=a[D++]);for(D=O+1;h&&0<=--D;(a[D]=!a[D]-0)&&(h=0));}for(u=0>u-2?-1:u-3;++u<n&&!a[u];);(p=d+1-u)>=e&&p<=d?++u:p<e&&(p!=d+1-n&&p<f&&this.warn("encodeFloat::float underflow"),u=d+1-(p=e-1));if(L||0!==k)this.warn(L?"encodeFloat::float overflow":"encodeFloat::"+k),p=d+1,u=d+2,
-Infinity==k?x=1:isNaN(k)&&(a[u]=1);for(h=Math.abs(p+d),D=c+1,c="";--D;c=h%2+c,h=h>>=1);for(h=0,D=0,u=(c=(x?"1":"0")+c+a.slice(u,u+b).join("")).length,O=[];u;D=(D+1)%8)h+=(1<<D)*c.charAt(--u),7==D&&(O[O.length]=String.fromCharCode(h),h=0);O[O.length]=h?String.fromCharCode(h):"";return(this.Q?O:O.reverse()).join("")},Ed:function(a,b,c){var d=[],e=Math.pow(2,b);if(c){if(c=-Math.pow(2,b-1),a>-c-1||a<c)this.wn("encodeInt::overflow"),a=0}else if(a>e||0>a)this.wn("encodeInt::overflow"),a=0;for(0>a&&(a+=
e);a;a=Math.floor(a/256))d[d.length]=String.fromCharCode(a%256);for(b=-(-b>>3)-d.length;b;b--)d[d.length]=String.fromCharCode(0);return(this.Q?d:d.reverse()).join("")},wn:function(a){g(Error(a))}};var Nb;Nb=function(a,b,c,d,e){this.p=M.n(a,b,c,d,e)};Nb.prototype={ae:function(){var a,b=0,c=0;do a=this.p.getUint8(),b|=(a&127)<<c,c+=7;while(0!==(a&128));return b}};var Ob;Ob=function(a,b,c){this.yd=N.n(a,b,c)};
Ob.prototype={q:function(a,b){var c,d,e;c=b!==i?b:this.ho(a);0===c&&g(Error("Expected value for MBui greater then zero"));d=a;for(e=0;e<c-1;e++)this.yd.$(d&127|128),d>>=7;this.yd.$(d&127);0!==d>>7&&g(Error("Value "+a+" cannot be written as an MBUI with "+c+" bytes"))},ho:function(a){var b=0;do a>>=7,b++;while(0<a);return b}};var Pb;Pb=function(a,b,c,d){this.tk=a;this.Cf=b;this.Cp=c;this.vp=d};var yb;yb=function(a){this.U=new XMLHttpRequest;this.a=a};
yb.prototype={Ia:function(a,b,c,d){c===i&&(c=m);d===i&&(d=m);this.eb=b;var b="/WebVisuV3.bin",e=this,d=this.Zu(d,a);w.ex()&&(b+="?"+B.W());this.U.open("POST",b,!c);if(!c&&!w.ve())this.U.responseType="arraybuffer";this.U.setRequestHeader("Content-Type","application/octet-stream");d&&this.U.setRequestHeader("3S-Repl-Content",this.Fs(a));if(!c)this.U.onreadystatechange=function(){e.Bx()};w.Pq()?d?this.U.send():this.U.send(a):(c=new MozBlobBuilder,c.append(a),this.U.send(c.getBlob()))},Zu:function(a,
b){return!window.btoa?m:(a||this.a.Nm)&&b instanceof ArrayBuffer&&70>b.byteLength?j:m},Fs:function(a){var b="",a=new Uint8Array(a),c=a.byteLength,d;for(d=0;d<c;d++)b+=String.fromCharCode(a[d]);return window.btoa(b)},vo:function(a,b){this.eb=b;this.U.open("GET",a,j);var c=this;this.U.onreadystatechange=function(){c.Ax(a)};this.U.send()},Ax:function(a){4==this.U.readyState&&(200==this.U.status||"OK"==this.U.status?this.eb.$n(this.U.responseText):this.eb.L("Loading file '"+a+"' failed: "+this.U.status))},
Bx:function(){if(4==this.U.readyState)if(200==this.U.status||"OK"==this.U.status){this.U.onreadystatechange=l;var a;w.ve()?(a=this.U.responseText,""===a&&(a=l)):(a=this.U.response,a instanceof ArrayBuffer&&0===a.byteLength&&(a=l));try{a!==l||this.Hs()?this.eb.Ya(a):this.eb.L("Sending service failed, server not available?")}catch(b){this.eb.L("Unexpected exception while evaluating comm result"+b)}}else 4E3===this.U.status?this.a.sx():0===this.U.status?this.eb.L("Sending service aborted"):this.eb.L("Sending service failed, status: "+
this.U.status)},Hs:function(){return"function"!==typeof this.eb.Dg?m:j}};var P;P=o();P.Fk=65407;P.Gk=1;P.uk=2;P.Wq=130;P.Xq=32;P.Yq=33;P.Nk=34;P.Mk=35;P.Uq=129;P.Zq=16;P.Vq=17;P.ec=4;P.Ik=1;P.Oq=2;P.Hk=3;P.sh=4;P.Tz=5;P.Nq=6;P.$q=1;P.Zz=1;P.ar=3;P.yh=132;P.gr=1;P.br=2;P.hr=3;P.cr=4;P.ir=2;P.dr=3;P.er=4;P.fr=1;P.jr=134;P.kr=2;P.Gc=8;P.yk=1;P.zk=2;P.Oz=3;P.wk=4;P.Ak=5;P.Pz=6;P.Ek=7;P.xk=8;P.vk=9;P.Qz=10;P.Kz=11;P.Jz=12;P.Iz=14;P.Nz=15;P.Gz=16;P.Hz=17;P.Mz=18;P.Lz=19;P.Rz=20;P.Ck=1;P.Bf=2;P.Lq=3;
P.Bk=5;P.Fq=6;P.Gq=7;P.Mq=34;P.Sz=4;P.Jq=129;P.Kq=132;P.rh=5;P.Hq=6;P.Dk=7;P.Iq=8;P.$a=0;P.Ip=1;P.Pj=0;P.up=1;var Qb;Qb=function(a,b,c){this.Bi=a;this.Ci=b;this.$m=c;this.Wc=0};
Qb.Hx=function(a){var b=a.getUint16(),c;52565!=b&&g(Error("Unsupported protocol: "+b));this.Ge=a.getUint16();12>this.Ge&&g(Error("Unsupported length of header: "+this.Ge));this.Bi=a.getUint16();this.Ci=a.getUint16();this.$m=a.getUint32();this.Wc=a.getUint32();b=this.Ge-12;16<=this.Ge&&(a.getUint16(),b-=2);for(c=0;c<b;++c)a.getUint8();return this};Qb.Dq=4;Qb.Eq=20;Qb.or=16;Qb.prototype={write:function(a,b){a.ha(52565);a.ha(Qb.or);a.ha(this.Bi);a.ha(this.Ci);a.r(this.$m);a.r(b);a.ha(0);a.ha(0)}};var Rb;
Rb=function(a,b,c){this.Tc=new Nb(a,b,c);this.A=this.Tc.p};
Rb.prototype={Io:function(){try{if("|"!=this.A.$d())return"Unexpected format of service: 1";var a=this.mn(),b=m;if(4>a.length)return"Unexpected format of service: 2";5<=a.length&&(b="true"===a[4]);return new pa(parseInt(a[0],10),0===parseInt(a[1],10),parseInt(a[2],10),"true"!==a[3],b)}catch(c){return"Exception during readOpenConnectionResult: "+c}},Kx:function(){var a=this.mn(),b;for(b=0;b<a.length;++b)if(0===a[b].indexOf("IPv4:"))return a[b].substr(5);return""},mn:function(){for(var a=[],b="";!this.A.ad();){var c=
this.A.$d();"|"==c?(a.push(b),b=""):b+=c}return a},qc:function(a,b){for(var c=this.A.H()+a;this.A.H()<c;){var d=this.Tc.ae(),e=this.Tc.ae(),d=b[d],f=this.A.H();"function"===typeof d&&d(this,e);d=this.A.H()-f;d<e&&this.hv(e-d)}},Ix:function(){try{var a=this.Vc(P.Gk,P.uk),b=0,c=0,d=0,e=P.Pj,f={};f[P.Wq]=function(a,d){var e={};e[P.Xq]=function(a){b=a.A.getUint16()};e[P.Yq]=function(a){c=a.A.getUint32()};a.qc(d,e)};f[P.Nk]=function(a){e=a.A.getUint32()};f[P.Mk]=function(a){d=a.A.getUint32()};this.qc(a.Wc,
f);return new Pb(b,c,e,d)}catch(h){return"Exception during readDeviceLoginResult: "+h}},Mx:function(){try{for(this.Vc(P.ec,P.Ik);!this.A.ad();){var a=this.Tc.ae(),b;this.Tc.ae();if(a===P.Fk)return"Visu not supported by the plc";b=this.A.getUint32();return 2952790016>b?b:4294967292===b?"No more memory on the plc":4294967293===b?"Connection to invalid application":"Unknown error"}return"Unexpected format of service: 4"}catch(c){return"Exception during readVisuRegisterClientResult: "+c}},Lx:function(){try{for(this.Vc(P.ec,
P.Hk);!this.A.ad();){var a=this.Tc.ae(),b;this.Tc.ae();if(a===P.Fk)return"Visu not supported by the plc";b=this.A.getUint32();return 0===b||1===b?b:2===b?"Client registration failed":3===b?"Client registration failed due to an invalid external id":"Unknown error"}return"Unexpected format of service: 5"}catch(c){return"Exception during readVisuIsRegisteredClientResult: "+c}},rj:function(a){var b=a.direction==Q.za?P.Ak:P.zk,c=P.Kq;if(a.status.ra==S.jh)b=P.yk,c=P.Jq;try{var d=this.Vc(P.Gc,b),b={};b[c]=
function(b,c){var d={};d[P.Bf]=function(b){a.pd.Zy=b.A.getUint32();a.pd.wb=b.A.getUint32()};d[P.Lq]=function(b){a.pf=b.A.getUint32()};d[P.Iq]=function(b){a.status.result=b.A.getUint16()};b.qc(c,d)};b[P.Mq]=function(a){a.A.getUint32()};this.qc(d.Wc,b)}catch(e){return"Exception during readtFileAndSessionInfoResult: "+e}},Ho:function(a){var b=a.direction==Q.za?P.Ek:P.wk,c=0;try{var d=this.Vc(P.Gc,b),e=a.direction==Q.za?a.pd.wb:a.ld.wb,f={};a.direction==Q.za?(f[P.Hq]=function(a){c=a.A.getUint32()},f[P.Dk]=
function(b,c){a.status.sb=j;f[P.rh](b,c)},f[P.rh]=function(b,d){if(a.buffer===l)a.buffer=I.n(e);if(a.status.Za+c<=e&&c<=d){for(var f=0;f<c;)a.buffer.sg(b.A.getUint8()),f++;a.status.Za+=c;a.status.result=P.$a}else a.status.Za=4294967295}):f[P.rh]=function(b){b=b.A.getUint16();b==P.$a?(a.status.result=P.$a,a.status.Za+=a.status.fd,a.status.fd=0,a.status.sb=a.status.Za>=e):a.status.result=b};this.qc(d.Wc,f)}catch(h){return"Exception during readtFileAndSessionInfoResult: "+h}},Jx:function(a){var b;b=
a.direction==Q.za?a.pd.wb:a.ld.wb;b=a.status.result==P.$a&&a.status.Za==b&&a.status.sb?P.xk:P.vk;try{var c=this.Vc(P.Gc,b);b={};b[P.Dk]=function(b){b.A.getUint16();a.status.sb=j};this.qc(c.Wc,b)}catch(d){return"Exception during readFinishFileTransferResult: "+d}},Qg:function(a){try{var b=this.Vc(P.ec,P.sh),c=0,d=a,a={};a[P.yh]=function(a,b){var e={};e[P.ir]=function(a){a.A.getUint32();var b=a.A.getUint32(),c=a.A.getUint32(),a=a.A.getUint32();d=new Pa(b,c,a)};e[P.er]=function(){d.finish()};e[P.fr]=
function(a){c=a.A.getUint32()};e[P.dr]=function(a,b){d.Zb().En(a.A.ff(),a.A.H(),Math.min(b,d.ux()))};a.qc(b,e)};this.qc(b.Wc,a);return 0!==c?65535===c?"Client id not or no longer valid":c.toString():d===l?"Unexpected format of service: 6":d}catch(e){return"Exception during readVisuGetPaintDataResult: "+e}},hv:function(a){this.A.seek(this.A.H()+a)},Vc:function(a,b){var c=Qb.Hx(this.A),d=Qb.Dq+c.Ge+c.Wc;this.A.size()<d&&g(Error("Actual packet size "+this.A.size()+" smaller than expected "+d));(c.Bi!=
(128|a)||c.Ci!=b)&&g(Error("Unexpected format of service: 3"));return c}};var zb;zb=function(a,b,c,d){this.Q=a;this.ks=b;this.t=I.n(50);this.Wr=c;this.z=new Ob(this.t,a,d);this.m=this.z.yd};
zb.prototype={Ga:function(){return this.t.Zb()},Ao:function(a,b,c){this.Jf(1);this.m.xc("|",m);this.m.xc(a,m);this.m.xc("|",m);this.m.xc(b.toString(),m);this.m.xc("|",m);this.m.xc(c.toString(),m);this.m.xc("|",m)},Xx:function(){this.Jf(3)},zw:function(){this.Jf(100)},uw:function(a,b,c,d){if(a===i||a===l)a="";b===i&&(b=l);c===i&&(c=0);if(d===i)d=P.Pj;var e=this.Fb(P.Gk,P.uk),f=l;this.z.q(P.Nk);this.z.q(4,3);this.m.r(d);0!==c&&(this.z.q(P.Mk),this.z.q(4,3),this.m.r(c));a=this.ft(a);b!==l&&0!==c&&d===
P.up&&(f=this.et(b,c));this.z.q(P.Uq);this.z.q(a.size()+(f!==l?f.size():0),2);this.If(this.m,a);f!==l&&this.If(this.m,f);this.Bb(e)},gz:function(a,b,c){var d=this.Fb(P.ec,P.Ik),e=a.length+4+1,f=this.Id(e,4,0),h=0,k=0;b&&0<b.length&&h++;c&&0<c.length&&h++;0<h&&(k=8+84*h,e+=k);this.z.q(P.$q);this.z.q(e+f,3);this.m.Wa(a,m);this.xd(this.m,f,0);this.m.r(524288);0<h&&(this.m.r(k),this.m.r(h),b&&0<b.length&&(this.m.ha(1),this.m.Wa(b,m),this.m.tg(82-b.length-1)),c&&0<c.length&&(this.m.ha(2),this.m.Wa(c,m),
this.m.tg(82-c.length-1)));this.Bb(d)},ez:function(a){var b=this.Fb(P.ec,P.Hk);this.z.q(P.ar);this.z.q(4,3);this.m.r(a);this.Bb(b)},bh:function(a){this.vn(a,P.sh,P.yh)},dz:function(a){var b=this.Fb(P.ec,P.sh);this.z.q(P.yh);this.z.q(8,2);this.z.q(P.cr);this.z.q(4,3);this.m.r(a);this.Bb(b)},fz:function(a){this.vn(a,P.Nq,P.jr)},hz:function(a){var b=this.Fb(P.ec,P.Oq);this.z.q(P.kr);this.z.q(4,3);this.m.r(a);this.Bb(b)},lw:function(a){var b=this.Fb(P.Gc,P.yk),c=a.vb.length+1,d=this.Id(c,4,2);this.z.q(P.Ck);
this.z.q(c+d);this.m.Wa(a.vb,m);this.xd(this.m,d,0);this.z.q(P.Bf);this.z.q(4,3);this.m.r(0);this.m.r(0);this.Bb(b)},Pn:function(a){var b=this.Fb(P.Gc,a.direction==Q.za?P.Ak:P.zk),c=a.vb.length+1,d=this.Id(c,4,2);this.z.q(P.Ck);this.z.q(c+d);this.m.Wa(a.vb,m);this.xd(this.m,d,0);a.direction==Q.za?(this.z.q(P.Bf),this.z.q(4,3),this.m.r(0),this.m.r(0)):(this.z.q(P.Bf),this.z.q(4,3),a.ld.wb=a.buffer.size(),this.m.r(0),this.m.r(a.ld.wb));this.Bb(b)},On:function(a){var b=this.Fb(P.Gc,a.direction==Q.za?
P.Ek:P.wk),c=0,d=0;if(a.direction==Q.td){var c=a.ld.wb,e=0,d=this.Zs();if(20<d)d-=20;else return P.Ip;d>c-a.status.Za&&(d=c-a.status.Za);c=this.Id(d,4,2);this.z.q(P.Fq);this.z.q(4,3);this.m.r(d);a.status.fd=d;this.z.q(P.Bk);this.z.q(4+d+c,3);this.m.r(a.pf);for(e=0;e<d;e++)this.m.$(a.buffer.getUint8());this.xd(this.m,c,0)}else this.z.q(P.Bk),this.z.q(4,3),this.m.r(a.pf),this.m.r(P.$a);this.Bb(b)},mw:function(a){var b;b=a.direction==Q.za?a.pd.wb:a.ld.wb;b=this.Fb(P.Gc,a.status.result==P.$a&&a.status.Za==
b&&a.status.sb?P.xk:P.vk);this.z.q(P.Gq);this.z.q(4,3);this.m.r(a.pf);this.Bb(b)},vn:function(a,b,c){b=this.Fb(P.ec,b);a=this.pt(a);this.z.q(c);c=2>=this.z.ho(a.size())?2:6;this.z.q(a.size(),c);this.If(this.m,a);this.Bb(b)},Bb:function(a){var b=this.m.H()-a.Sq;this.Cv(a.fq,b)},Fb:function(a,b){var c=new Qb(a,b,this.ks);this.Jf(2);this.m.tg(Qb.Eq);return{fq:c,Sq:this.m.H()}},ft:function(a){var b=I.n(10+a.length),c=new Ob(b,this.Q),d=c.yd,e=a.length+1,f=this.Id(e,4,2);c.q(P.Zq);c.q(e+f);d.Wa(a,m);this.xd(d,
f,0);return b},et:function(a,b){var c=this.dt(a,b),d=I.n(10+c.length),e=new Ob(d,this.Q),f=e.yd;e.q(P.Vq);e.q(c.length,3);for(e=0;e<c.length;++e)f.$(c[e]);return d},dt:function(a,b){var c="Qcw@e46A6!R.gssltR4dg=_l)B^nQSo^",d="",e=[],f,h=0,k=0,p,n=a.length+1,x=[b&255,0,0,0];for(f=0;f<c.length;f+=4)d=d.concat(String.fromCharCode(c.charCodeAt(f+2)+3)),d=d.concat(String.fromCharCode(c.charCodeAt(f+1)+2)),d=d.concat(String.fromCharCode(c.charCodeAt(f+3)+4)),d=d.concat(String.fromCharCode(c.charCodeAt(f+
0)+1));c=d;32>n&&(n=32);0!==n%4&&(n+=4-n%4);for(f=0;f<n;++f)d=c.charCodeAt(h),p=0,f<a.length&&(p=a.charCodeAt(f)),e[f]=(p^d+x[k])&255,h++,h===c.length&&(h=0),k++,4===k&&(k=0);return e},Zs:function(){return this.Wr-this.m.H()},pt:function(a){var b=I.n(100),c=new Ob(b,this.Q),d=c.yd,e=a.al;c.q(P.gr);c.q(16,3);d.r(a.Kb);d.r(a.rq);d.r(a.sq);d.r(a.xp);if(e!==l){c.q(P.br);var f=e.size(),h;h=this.Id(f,4,0);c.q(f+h,3);this.If(d,e);this.xd(d,h,0)}a.Ec!==l&&(c.q(P.hr),c.q(8,3),d.ha(a.Ec.e),d.ha(a.Ec.g),d.ha(a.Ec.w),
d.ha(a.Ec.B));return b},If:function(a,b){var c=b.size(),d;for(d=0;d<c;++d)a.$(b.bo(d))},Id:function(a,b,c){for(var d=0;0!==(a+c)%b;)a++,d++;return d},xd:function(a,b,c){for(var d=0;d<b;++d)a.$(c)},Jf:function(a){this.m.$(a);this.m.$(0);this.m.ha(0)},Cv:function(a,b){this.m.seek(4);a.write(this.m,b)}};var G;G=o();G.Xp=1;G.fh=2;G.dk=4;G.gh=16;G.Tp=128;G.Up=256;G.Jp=257;G.ck=1048576;G.Rp=512;G.Sp=513;G.Zp=515;G.ek=516;G.Wp=518;G.Vp=519;G.bk=521;G.ak=528;G.$j=529;G.Zj=530;G.Op=2049;G.Np=2050;G.Kp=2051;
G.Lp=2052;G.Mp=2053;G.Pp=2054;G.Qp=2055;G.Yp=4096;G.$p=4097;G.hh=4098;G.fk=2097152;G.aq=7;var E;E=function(a,b,c,d){c===i&&(c=0);d===i&&(d=0);this.Kb=a;this.xp=b;this.rq=c;this.sq=d;this.Ec=this.al=l;this.Od=m};E.Vj=function(a,b,c){return E.Tj(a,b,c)};E.Uj=function(a,b,c,d){return new E(a,b,c,d)};E.zp=function(a,b){return new E(G.Jp,a,b.charCodeAt(0))};E.Wj=function(a,b,c,d,e){a=new E(G.ek,a,b?c?d?7:5:d?3:1:0,0);b=I.n(8);c=N.n(b,j);c.Va(0);c.Va(0);c.Va(e.l()-1);c.Va(e.k()-1);a.ya(b);return a};
E.Bp=function(a,b,c){return E.Tj(a,b,c)};E.Tj=function(a,b,c){return new E(a,b,c.yc())};E.prototype={ya:r("al"),Iy:function(){this.Od=j}};var Sb;Sb=function(a){a===i&&(a=100);this.Uf=[];this.Ud=this.Se=0;this.Ne=a;this.Zf=m;this.sm=0};
Sb.prototype={push:function(a){if(a.Kb!==G.fk)this.sm=B.W();if(this.Et(a))return j;if(this.Zf)return"undefined"!==typeof WebvisuLogger&&WebvisuLogger.warn("Eventqueue full, dropped event with tag "+a.Kb),m;this.Uf[this.Ud%this.Ne]=a;this.Ud=(this.Ud+1)%this.Ne;if(this.Ud==this.Se)this.Zf=j;return j},empty:function(){return!this.Zf&&this.Se===this.Ud},pop:function(){if(this.empty())return l;this.Zf=m;var a=this.Se;this.Se=(this.Se+1)%this.Ne;return this.Uf[a]},Et:function(a){if(!this.empty()&&(a.Kb===
G.gh||a.Kb===G.Mp||a.Kb===G.Qp||a.Kb===G.ek)){var b=(this.Ud+this.Ne-1)%this.Ne;if(this.Uf[b].Kb===a.Kb)return this.Uf[b]=a,j}return m}};var $a;$a=function(a){this.sc={};this.a=a;this.hi=l};
$a.prototype={Fg:function(a,b,c){c===i&&(c=l);var d=this.Wt(a,c),e;e=this.sc[d];if(e!==i)return e;e=new Tb(this.a,a,c,b);return this.sc[d]=e},Rv:function(a){var b=[];this.Xl(function(c){c.mf()||(b.push(c),c.Sv(function(){b.splice(b.indexOf(c),1);0===b.length&&setTimeout(a,0)}))})},Xv:function(){var a=B.W(),b=[],c=this.a.i,d,e;if(-1!==c.NumCachedImages)if(0===c.NumCachedImages)this.sc={};else if(this.Xl(function(d,e){var k=d.Nt,p=d.Em?c.MaxUnusedImageAge:c.MaxUndrawnImageAge;0!==k&&k<a-p&&b.push({path:e,
time:k})}),d=Math.min(B.Gp(this.sc)-c.NumCachedImages,b.length),0<d){b.sort(function(a,b){return a.kp-b.kp});for(e=0;e<d;++e)delete this.sc[b[e].path]}},Px:function(a){delete this.sc[a]},tx:function(){if(this.hi===l)this.hi=this.a.i.LoadImagesById;return this.hi},Xl:function(a){var b,c;for(b in this.sc)c=this.sc[b],a(c,b)},Wt:function(a,b){return b===l?a:a+":"+b}};var Tb;Tb=function(a,b,c,d){this.a=a;this.Em=m;this.tc=c;this.Pc=B.kk(b);this.Lu=3;this.Hi(d,l);this.Ni();this.ci=this.hg=this.pg=l};
Tb.prototype={vt:function(){try{w.lq(this.Rb,this.Pc,this.a.i)?this.Ts():(this.tc!==l&&!this.mm()&&this.vv(),this.Nf(2))}catch(a){this.a.error("Unexpected exception during load image callback: "+a)}},mm:function(){return B.mk(this.Pc)},vv:function(){try{var a=window.document.createElement("canvas"),b=a.getContext("2d"),c,d,e=parseInt(this.tc.substr(1,2),16),f=parseInt(this.tc.substr(3,2),16),h=parseInt(this.tc.substr(5,2),16),k=this.bt(),p=this.fo();a.width=p.I;a.height=p.J;b.drawImage(this.Rb,0,
0);c=b.getImageData(0,0,a.width,a.height);for(d=0;d<c.data.length;d+=4)k(c.data[d+0],c.data[d+1],c.data[d+2],e,f,h)&&(c.data[d+3]=0,c.data[d+0]=0,c.data[d+1]=0,c.data[d+2]=0);b.putImageData(c,0,0);this.pg=a;this.Rb=l}catch(n){this.pg=this.tc=l,WebvisuLogger.warn("Exception during making image "+this.Pc+" transparent. Is this an SVG? As a workaround it will be rendered ignoring the transparency color")}},Qt:function(a){try{if(WebvisuLogger.warn("Loading image "+this.Pc+" failed: "+a.type),0<=this.Lu--){var b=
this;window.setTimeout(function(){WebvisuLogger.info("Triing to load the image "+b.Pc+" again");b.Hi(j,l)},50);this.Nf(4)}else this.Nf(3)}catch(c){this.a.error("Unexpected exception during handling of load image problems: "+c)}},Ww:function(){this.Ni();this.Em=j;2!==this.T&&WebvisuLogger.warn("Access to not (yet) loaded image");return this.pg!==l?this.pg:this.Rb},fo:function(){if(this.ci===l)this.ci=w.dq(this.Rb);return this.ci},Sv:r("hg"),mf:function(){return 2===this.T||3===this.T},loaded:function(){return 2===
this.T},Nf:function(a){this.Ni();this.T=a;if(this.hg!==l&&this.mf())this.hg(),this.hg=l},Ni:function(){this.Nt=B.W()},Hi:function(a,b){this.Rb=new Image;var c=this,d=b===l?this.Pc:b;this.Rb.onload=function(){c.vt()};this.Rb.onerror=function(a){c.Qt(a)};this.T=1;this.Rb.src=this.Er(d,a)},Er:function(a,b){var c=a;b&&(c+="?"+B.W());this.mm()&&!this.a.i.WorkaroundDisableSVGAspectRatioWorkaround&&(c+="#svgView(preserveAspectRatio(none))");return c},bt:function(){return this.a.i.FuzzyTransparencyColorEvaluation?
function(a,b,c,d,e,f){return 2>Math.abs(a-d)&&2>Math.abs(b-e)&&2>Math.abs(c-f)}:function(a,b,c,d,e,f){return a===d&&b===e&&c===f}},Ts:function(){WebvisuLogger.R("Workaround for image "+this.Pc+" without width/height activated");var a=this;w.Hp(this.Rb,function(b){a.Hi(m,b)},function(b){WebvisuLogger.warn("Retrieving workaround image failed so going on as formerly, reason: "+b);a.Nf(3)})}};var Za;Za=function(){this.Ub={};this.Ob=l;this.xf="<Project>"};
Za.prototype={jo:function(a){var a=a.toLowerCase().split("."),b=[],c;for(c=0;c<a.length;++c)b[c]=B.rd(a[c]);var d;if(1>b.length)return l;a=b[b.length-1];if(1===b.length)return this.Qe(this.Os(a));c=b[b.length-2];if(2==b.length){d=this.Ps(c);if(d!==l)return this.Qe(this.Ph(a,d));d=this.Rh(c);return d!==l?this.Qe(this.Yf(a,d)):l}b=b.slice(0,b.length-2).join(".");d=this.Rh(b);if(d!==l&&(d=this.Qh(c,d),d!==l))return this.Qe(this.Ph(a,d));d=this.Rh(b+"."+c);return d!==l?this.Qe(this.Yf(a,d)):l},ay:r("Ob"),
Qe:function(a){return a!==l?a.path:l},Rh:function(a){var b=this.Pl(a);b===l&&(b=this.Qs(a));return b},Pl:function(a){a=this.Ub[a];return a!==i?a:l},Qs:function(a){if(this.Ob!==l){var a=a.toLowerCase(),b,c=l,d;for(b=0;b<this.Ob.length;++b)if(this.Ob[b].qj===a){c=this.Ob[b].Eo;break}if(c!==l)for(b=0;b<this.Ob.length;++b)if(this.Ob[b].qj!==a&&this.Ob[b].Eo===c&&(d=this.Pl(this.Ob[b].qj),d!==l))return d}return l},Os:function(a){var b=this.Ub[this.xf],c;if(b!==i&&(b=this.Yf(a,b),b!==l))return b;for(c in this.Ub)if(c!==
this.xf&&(b=this.Yf(a,this.Ub[c]),b!==l))return b;return l},Yf:function(a,b){var c,d;for(c in b.ee)if(d=this.Ph(a,b.ee[c]),d!==l)return d;return l},Ph:function(a,b){var c=b.Ag[a];return c===i?l:c},Ps:function(a){var b=this.Ub[this.xf],c;if(b!==i&&(b=this.Qh(a,b),b!==l))return b;for(c in this.Ub)if(b=this.Qh(a,this.Ub[c]),b!==l)return b;return l},Qh:function(a,b){var c=b.ee[a];return c!==i?c:l},fill:function(a){var a=a.replace(/\r\n/g,"\n").split("\n"),b,c,d,e,f,h,k;for(b=0;b<a.length;++b)c=a[b].split(";"),
4>c.length||(d=this.Vt(B.rd(c[1])),e=B.rd(c[0]).toLowerCase(),f=B.rd(c[2]).toLowerCase(),h=B.rd(c[3]),c=this.Ub[d],c===i?(c={ee:{}},k=this.yl(e),k.Ag[f]=this.Hh(f,h),c.ee[e]=k,this.Ub[d]=c):(k=c.ee[e],k===i?(k=this.yl(e),k.Ag[f]=this.Hh(f,h),c.ee[e]=k):k.Ag[f]=this.Hh(f,h)))},Vt:function(a){return a===l||""===a?this.xf:a.toLowerCase()},yl:function(a){return{name:a,Ag:{}}},Hh:function(a,b){return{id:a,path:b}}};var kb;kb=o();kb.prototype={execute:function(a){a=a.a.da;a!==l&&a.Ev()}};var Ub;
Ub=function(a,b){this.f=C.dc(b)};Ub.prototype={execute:function(a){a=a.getContext();a.save();a.beginPath();a.rect(this.f.e,this.f.g,this.f.l()+1,this.f.k()+1);a.clip()}};var Vb;Vb=function(a,b){this.f=C.Af(b,m);this.jg=0!==b.getInt8();this.uc=b.getInt8();switch(this.uc){case 2:case 4:this.Sf=b.getUint32();this.Gl=b.getUint32();this.Tf=b.getUint32();break;case 1:case 3:this.tl=b.getInt16(),this.Sf=b.getUint32()}};
Vb.prototype={execute:function(a){var b=a.getContext(),c=this.f.e,d=this.f.g,e=this.f.l(),f=this.f.k(),h=b.lineWidth;b.save();this.Zm=a.a.i.SemiTransparencyActive;a.F().Ac()?a.F().ug(this.f):b.fillStyle=this.Zm===j?C.xb(this.Sf):C.Ja(this.Sf);b.lineWidth=1;c+=0.5;d+=0.5;switch(this.uc){case 2:case 4:this.vu(b,c,d,e,f);break;case 1:case 3:this.uu(b,c,d,e,f)}b.lineWidth=h;a.F().Ac()&&a.F().Sg();b.restore()},vu:function(a,b,c,d,e){var f,h,k;this.Zm===j?(f=this.jg?C.xb(this.Tf):"#000000",h=C.xb(this.Gl),
k=C.xb(this.Tf)):(f=this.jg?C.Ja(this.Tf):"#000000",h=C.Ja(this.Gl),k=C.Ja(this.Tf));this.jg?(a.strokeStyle=f,a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e)):(a.fillRect(b,c,d,e),a.strokeStyle=h,a.beginPath(),a.moveTo(b,c),a.lineTo(b+d,c),a.moveTo(b,c),a.lineTo(b,c+e),a.stroke(),a.closePath(),a.strokeStyle=f,a.beginPath(),a.moveTo(b,c+e),a.lineTo(b+d,c+e),a.lineTo(b+d,c),a.stroke(),a.closePath(),a.strokeStyle=k,a.beginPath(),a.moveTo(b+1,c+e-1),a.lineTo(b+d-2,c+e-1),a.moveTo(b+d-1,c+1),a.lineTo(b+d-1,
c+e-1),a.stroke(),a.closePath())},uu:function(a,b,c,d,e){var f=new Wb(this.Sf,this.tl);if(this.jg)a.strokeStyle=C.Ja(f.co(0)),a.strokeRect(b,c,d,e),a.fillRect(b,c,d,e);else{a.strokeStyle="#000000";a.fillRect(b,c,d,e);a.strokeRect(b,c,d,e);var h;for(h=0;h<this.tl;++h)a.beginPath(),a.moveTo(b+h,c+e-h),a.lineTo(b+h,c+h),a.lineTo(b+d-h,c+h),a.strokeStyle=C.Ja(f.Lw(h)),a.stroke(),a.beginPath(),a.moveTo(b+d-h,c+1+h),a.lineTo(b+d-h,c+e-h),a.lineTo(b+1+h,c+e-h),a.strokeStyle=C.Ja(f.co(h)),a.stroke()}}};var jb;
jb=function(a,b,c){var a=b.H(),d,e;d=b.getUint16();e=b.getString(d,m);d=b.getUint16();d=b.getString(d,m);""!==e&&(d=e+"."+d);this.dg=d;this.f=C.Af(b,j);this.f.normalize();e=b.getUint32();this.Kt=0!==(e&1);this.dl=0!==(e&2);this.Ul=0!==(e&4);this.gv=0!==(e&8);this.pl=0!==(e&16);this.pn=0!==(e&32);this.fm=0!==(e&128);this.Ym=0!==(e&256);this.tn=0!==(e&1024);this.hl=0!==(e&2048);this.Ue=0!==(e&4096);this.Ol=m;this.tc=C.Ja(b.getUint32());if(c>=b.H()-a+16)this.Ol=j,this.Is=b.getFloat32(),this.Js=b.getFloat32();
this.Cb=l};
jb.prototype={execute:function(a){var a=a.getContext(),b=C.kq(this.f),c=this.f.Ea(),d=this;this.ev(a,c,b);this.Cb!==l&&(this.Cb.loaded()?this.ss(a,this.Cb.Ww(),function(){return d.Cb.fo()},c):this.ts(a,this.f));this.gv&&(c=C.mh(a),a.strokeRect(this.f.e+c,this.f.g+c,this.f.l(),this.f.k()));this.Tr(a,b)},fx:function(a,b){var c;this.Ue&&(c=b.jo(this.dg))!==l&&a.Px(c);if(this.Cb===l){if(a.tx())return c="/ImageByImagePoolId?id="+this.dg,this.Cb=this.pn?a.Fg(c,this.Ue,this.tc):a.Fg(c,this.Ue),this.Cb.mf();
c=b.jo(this.dg);if(c!==l)return this.Cb=this.pn?a.Fg(c,this.Ue,this.tc):a.Fg(c,this.Ue),this.Cb.mf();WebvisuLogger.warn("Imagepoolentry for "+this.dg+" not found");return j}return this.Cb.mf()},ss:function(a,b,c,d){if(this.Ul&&this.Ol){var e=c(),d=this.rr(d,new A(this.Is*e.I,this.Js*e.J));this.Ul=m;this.dl=j}this.dl?a.drawImage(b,d.e,d.g,d.l(),d.k()):this.Kt?(e=c(),d.l()/e.I<d.k()/e.J?(c=d.l()*e.J/e.I,e=d.l()):(c=d.k(),e=d.k()*e.I/e.J),d=this.sr(new K(d.e,d.g,d.e+e,d.g+c),d),a.drawImage(b,d.e,d.g,
e,c)):a.drawImage(b,d.e,d.g)},rr:function(a,b){this.fm?(a.e+=Math.floor(a.l()/2)-Math.floor(b.I/2),a.w=a.e+b.I):this.Ym?a.e=a.w-b.I:a.w=a.e+b.I;this.tn?(a.g+=Math.floor(a.k()/2)-Math.floor(b.J/2),a.B=a.g+b.J):this.hl?a.g=a.B-b.J:a.B=a.g+b.J;return a},sr:function(a,b){a.l()<b.l()&&(this.fm?a=a.ub(Math.floor(b.l()/2)-Math.floor(a.l()/2),0):this.Ym&&(a=a.ub(b.l()-a.l(),0)));a.k()<b.k()&&(this.tn?a=a.ub(0,Math.floor(b.k()/2)-Math.floor(a.k()/2)):this.hl&&(a=a.ub(0,b.k()-a.k())));return a},ev:function(a,
b,c){c&&(a.save(),b.mb.vg(a,b));this.pl&&(a.save(),a.beginPath(),a.rect(b.e,b.g,b.l()+1,b.k()+1),a.clip())},Tr:function(a,b){this.pl&&a.restore();b&&a.restore()},ts:function(a,b){var c=b.po(-3);a.save();a.fillStyle="#eeeeee";a.strokeStyle="#ff0000";a.lineWidth=3;a.fillRect(c.e,c.g,c.l(),c.k());a.beginPath();a.moveTo(c.e,c.g);a.lineTo(c.w,c.B);a.moveTo(c.w,c.g);a.lineTo(c.e,c.B);a.closePath();a.stroke();a.restore()}};var Xb;
Xb=function(a,b){this.f=C.Af(b,j);this.en=C.bc(b.getInt16());this.nv=C.bc(b.getInt16());this.Ks=1==b.getInt16()};
Xb.prototype={execute:function(a){var b=a.getContext(),c=this.f.l(),d=this.f.k(),e=!a.F().lj(),f=!a.F().Kd,h=Math.min(c,d)/2;0>=c||0>=d||(b.save(),this.ur(b),a.F().Ac()&&a.F().ug(this.mt(h)),b.beginPath(),b.arc(0,0,h,this.en,this.en+this.nv,m),this.Ks&&(b.lineTo(0,0),b.closePath(),e&&b.fill()),b.restore(),f&&b.stroke(),a.F().Ac()&&a.F().Sg())},mt:function(a){return new K(-a,-a,a,a)},ur:function(a){var b=this.f.l(),c=this.f.k();this.f.mb!==l?this.f.mb.vg(a,this.f):a.translate(this.f.e+0.5,this.f.g+
0.5);a.translate(b/2,c/2);b>c?a.scale(b/c,1):a.scale(1,c/b)}};var Yb;Yb=function(a,b){this.u=C.sk(b)};Yb.prototype={execute:function(a){var a=a.getContext(),b;for(b=0;b<this.u.length;++b)a.fillRect(this.u[b].b,this.u[b].c,1,1)}};var Zb;Zb=function(a,b){this.uc=b.getUint16();if(2==a)this.u=C.sk(b);else if(59==a)this.u=C.Bq(b)};
Zb.prototype={execute:function(a){var b=a.getContext(),c=!a.F().lj(),d=!a.F().Kd;if(!(2>this.u.length)){a.F().Ac()&&a.F().ug(this.lv());d&&this.Fu(b);switch(this.uc){case 0:this.us(b,c,d);break;case 1:d&&this.vs(b);break;case 2:d&&this.qs(b)}a.F().Ac()&&a.F().Sg()}},Fu:function(a){var a=C.mh(a),b;if(0!==a)for(b=0;b<this.u.length;++b)this.u[b].b+=a,this.u[b].c+=a},us:function(a,b,c){a.beginPath();a.moveTo(this.u[0].b,this.u[0].c);for(var d=1;d<this.u.length;++d)a.lineTo(this.u[d].b,this.u[d].c);a.closePath();
b&&a.fill();c&&a.stroke()},vs:function(a){var b;a.beginPath();a.moveTo(this.u[0].b,this.u[0].c);for(b=1;b<this.u.length;++b)a.lineTo(this.u[b].b,this.u[b].c);a.stroke()},qs:function(a){a.beginPath();a.moveTo(this.u[0].b,this.u[0].c);for(var b=1;b+3<=this.u.length;)a.bezierCurveTo(this.u[b].b,this.u[b].c,this.u[b+1].b,this.u[b+1].c,this.u[b+2].b,this.u[b+2].c),b+=3;for(;b<this.u.length;++b)a.lineTo(this.u[b].b,this.u[b].c);a.stroke()},lv:function(){var a=1E9,b=-1E9,c=1E9,d=-1E9,e;for(e=0;e<this.u.length;++e){if(this.u[e].b<
a)a=this.u[e].b;if(this.u[e].c<c)c=this.u[e].c;if(this.u[e].b>b)b=this.u[e].b;if(this.u[e].c>d)d=this.u[e].c}return new K(a,c,b,d)}};var $b;$b=function(a,b){var c,d;c=b.getUint16();switch(a){case 1:d=C.Af(b,j);break;case 45:d=C.dc(b);break;case 60:d=C.yq(b);break;case 61:d=C.xq(b)}this.yv=new ac(c,d)};$b.prototype={execute:function(a){this.yv.xg(a)}};var bc;
bc=function(a,b){this.uc=b.getUint16();var c,d;c=b.getUint16();d=b.getUint16();this.Rd=new A(c,d);c=b.getUint16();d=b.getUint16();this.Fi=new A(c,d);c=b.getUint32();this.wv=0!==(c&1);this.xv=0!==(c&2);this.Oi=0!==(c&4)};bc.prototype={execute:function(a){var b=a.F().ui,c,d,e;d=new z(b.b+this.Fi.I,b.c+this.Fi.J);this.Oi?(c=a.F().si,e=d.b,d.b=c.b+this.Fi.I,c=e-d.b):c=this.Rd.I;(new ac(this.uc,new K(d.b,d.c,d.b+c,d.c+this.Rd.J))).xg(a);this.wv&&(b.b+=this.Rd.I);this.xv&&(b.c+=this.Rd.J)}};var ac;
ac=function(a,b){this.uc=a;this.f=b.wx()};
ac.prototype={rs:function(a,b,c,d,e,f,h){var k=0.5522848*(d/2),p=0.5522848*(e/2),n=b+d,x=c+e,d=b+d/2,e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-p,d-k,c,d,c);a.bezierCurveTo(d+k,c,n,e-p,n,e);a.bezierCurveTo(n,e+p,d+k,x,d,x);a.bezierCurveTo(d-k,x,b,e+p,b,e);a.closePath();f&&a.fill();h&&a.stroke()},ws:function(a,b,c,d,e,f,h){f&&a.fillRect(b,c,d,e);h&&a.strokeRect(b,c,d,e)},xg:function(a){var b=a.getContext(),c=this.f.e,d=this.f.g,e=this.f.l(),f=this.f.k(),h=!a.F().lj(),k=!a.F().Kd,p=this.f.mb;
if(!(0>e||0>f)){a.F().Ac()&&a.F().ug(this.f);p!==l&&(b.save(),this.f.mb.vg(b,this.f));if(k&&p===l)var n=C.mh(b),c=c+n,d=d+n;switch(this.uc){case 0:this.ws(b,c,d,e,f,h,k);break;case 1:C.Yj(b,c,d,e,f,h,k);break;case 2:this.rs(b,c,d,e,f,h,k);break;case 3:k&&(b.beginPath(),b.moveTo(c,d+f),b.lineTo(c+e,d),b.stroke());break;case 4:k&&(b.beginPath(),b.moveTo(c,d),b.lineTo(c+e,d+f),b.stroke())}p!==l&&b.restore();a.F().Ac()&&a.F().Sg()}}};var cc;
cc=function(a,b){var c,d;if(3==a||11==a)d=C.rk(b);else if(46==a||47==a)d=C.Aq(b);c=b.getUint32();this.ag=this.tt(c);this.Td=this.Av(c);this.gl=0!==(c&16);this.Hr=0!==(c&32);this.Ku=0!==(c&64);this.Wu=0!==(c&1024);this.Oi=0!==(c&2048);this.og=0!==(c&256);this.Ze=0!==(c&512);this.f=C.Nj(d,0!==(c&128));c=b.getUint16();this.Z=b.getString(c,11==a||47==a);this.Oe=C.iq(this.Z);this.gn=C.jq(this.Z);this.Xc=this.Z};
cc.prototype={execute:function(a){var b=a.getContext(),c=a.F(),d,e,f,h;if(this.Ku)d=c.ui,this.Oi?(f=c.si,e=f.b,d=f.c):(e=d.b,d=d.c),this.f=new K(e,d,e+this.f.l(),d+this.f.k());b.save();this.f.mb!==l&&this.f.mb.vg(b,this.f);b.beginPath();b.rect(this.f.e-0.5,this.f.g-0.5,this.f.l()+1,this.f.k()+1);b.clip();b.fillStyle=a.F().jn;d=m;e=b.font;h=c.Fe;this.qr(b,a);if(a.a.i.AutoFontReductionActive===j&&this.Ze||a.a.i.AutoFontReductionActive===m&&(this.og||this.Ze))d=this.Ou(b,a);d===m&&(this.Oe?this.vi(b,
a):this.Um(b));if(this.Hr){d=a.F().ui;f=a.F().si;d.b=this.f.e;d.c=this.f.g;if(this.Wu)f.b=d.b+1,f.c=d.c;d.b=this.f.e+this.qv(b)}if(a.a.i.AutoFontReductionActive===j&&m===this.Ze)b.font=e,c.Xo(h);b.restore()},qr:function(a,b){var c=b.F(),d,e,f,h,k,p;if(b.a.i.AutoFontReductionActive===j&&m===this.Ze){h=a.font;f=c.Fe;d=this.f.l()+1;e=this.f.k()+1;for(k=j;(d>this.f.l()||e>this.f.k())&&1<f;){k===m&&(f-=1,c.Xo(f),c.ny(B.wp(h,f)));this.Xc=this.Z;j===this.og&&this.Vm(a,b,j,this.Xc);if(this.Oe===j)if(e=C.Df(this.Xc),
d=0,0<e.length){for(p=0;p<e.length;++p)k=a.measureText(e[p]).width,d<k&&(d=k);e=B.kd(b)*e.length}else d=a.measureText(this.Xc).width,e=B.kd(b);else d=a.measureText(this.Xc).width,e=B.kd(b);k=m}this.Z=this.Xc}},Um:function(a){this.gn?this.Mu(a):this.Rf(a,this.Z,this.Ch(a))},vi:function(a,b){var c=C.Df(this.Z),d=this,e,f,h,k,p;if(0<c.length){f=B.kd(b);e=f*c.length;this.pr(a,e);e=this.tr(a,e);var n=function(b){d.Rf(a,b.text,h)};for(p=0;p<c.length;++p)this.gn?(k=C.vh(a,c[p]),h=this.bl(a,k),h.c=e.c,this.om(k,
h,n)):this.Rf(a,c[p],e),e.c+=f}},Ou:function(a,b){var c;this.og?c=this.Vm(a,b,m,this.Z):this.Ze&&(c=this.Nu(a,b));return c},Vm:function(a,b,c,d){var e,f,h,k,p,n,x,L,D,O=Array(100),u,Z=[];e=m;n=x=-1;D=p=k=0;L=this.f.w-this.f.e;if(this.kn(a,d)>L){e=j;for(f=d[k];f!==i;)h=d[k+1],"\r"==f&&"\n"==h?(p=0,k+=1):(p+=a.measureText(f).width," "==f&&p<=L&&(x=k,n=p),p>L&&(100>D&&-1!=x&&(O[D]=x,D+=1,x=-1),-1!=n&&(p-=n,n=-1))),k+=1,f=d[k];if(0<D){this.Oe=j;f=0;for(h=d.length-1;" "==d[h];)h-=1;for(;0<D;){for(u=O[D-
1];h>u;)Z[f]=d[h],h-=1,f+=1;Z[f]="\n";f+=1;h-=1;D-=1}}d=d.substr(0,u);for(k=Z.length-1;-1<k;k--)d+=Z[k];c===m?(this.Z=d,this.vi(a,b)):this.Xc=d}return e},Nu:function(a,b){this.gl=j;this.Oe?this.vi(a,b):this.Um(a,b);return j},Mu:function(a){var b=C.vh(a,this.Z),c=this.bl(a,b),d=this;this.om(b,c,function(b){d.Rf(a,b.text,c)})},om:function(a,b,c){var d;if(2==this.ag)for(d=a.length-1;0<=d;--d)c(a[d]),b.b-=a[d].Bj*C.sd;else for(d=0;d<a.length;++d)c(a[d]),b.b+=a[d].Bj*C.sd},Rf:function(a,b,c){this.gl&&
(b=this.Us(a,b));a.fillText(b,c.b,c.c)},Us:function(a,b){if(C.Dc(a,b,m)<=this.f.l())return b;for(var c,d=0,e=b.length-1,f,h;1<e-d;){f=Math.floor((d+e)/2);c=b.substr(0,f)+"...";h=C.Dc(a,c,m)-this.f.l();if(0===h)return c;0>h?(d=f,h=m):(e=f,h=j)}return h===j?0<f?c.substr(0,f-1)+"...":"":c},tr:function(a,b){var c=this.Ch(a);a.textBaseline="top";3===this.Td?c=new z(c.b,this.f.g+this.f.k()/2-b/2):2===this.Td&&(c=new z(c.b,c.c-b));return c},pr:function(a,b){if(this.og&&3===this.Td&&this.f.k()<b)this.Td=
1},Ch:function(a){var b,c;1===this.ag?(b=this.f.e+1,a.textAlign="left"):3===this.ag?(b=this.f.e+this.f.l()/2,a.textAlign="center"):(b=this.f.w-1,a.textAlign="right");1===this.Td?(c=this.f.g+2,a.textBaseline="top"):3===this.Td?(c=this.f.g+this.f.k()/2,a.textBaseline="middle"):(c=this.f.B-1,a.textBaseline="bottom");return new z(b,c)},bl:function(a,b){var c=this.Ch(a),d,e=0;if(3===this.ag){for(d=0;d<b.length;++d)e+=b[d].Bj*C.sd;c.b=this.f.e+(this.f.l()-e+C.sd)/2}return c},tt:function(a){var b=1;0!==
(a&1)?b=3:0!==(a&2)&&(b=2);return b},Av:function(a){var b=1;0!==(a&4)?b=3:0!==(a&8)&&(b=2);return b},qv:function(a){return this.kn(a,this.Z)},kn:function(a,b){if(this.Oe){var c=0,d=C.Df(b),e;for(e=0;e<d.length;++e)c=Math.max(c,C.Dc(a,d[e],j));return c}return C.Dc(a,b,j)}};var nb;
(function(){var a=l;nb=function(a,c){var d=c.getUint16();this.Z=c.getString(d,15==a);this.h=C.qd(c);this.Tt=1===(c.getUint32()&1)};nb.prototype={execute:function(b){var c=b.getContext(),d=C.Df(this.Z),e=b.a.i.mo(),f=this.Ir(c,e,d),h=f.lineHeight,k=new A(6,4),f=this.Jr(b.zc(),f.size,k),f=f.ub(0.5,0.5);c.save();c.font=e.jk;c.textBaseline="top";c.textAlign="left";c.lineWidth=1;c.strokeStyle="#000000";c.fillStyle="#ffffe1";c.fillRect(f.e,f.g,f.l(),f.k());c.strokeRect(f.e,f.g,f.l(),f.k());c.fillStyle=
"#000000";k=new z(f.e+k.I/2,f.g+k.J/2);for(e=0;e<d.length;++e)c.fillText(d[e],k.b,k.c),k=new z(k.b,k.c+h);this.Tt&&(a=new K(0,0,0,0));(a===l||!f.Bg(a))&&this.$u(b.a,f);a=f;c.restore()},$u:function(a,c){var d=new E(G.Sp,a.j.O,0,0),e=I.n(8),f=N.n(e,j);f.Va(Math.floor(c.e));f.Va(Math.floor(c.g));f.Va(Math.ceil(c.w));f.Va(Math.ceil(c.B));d.ya(e);a.la.push(d)},Ir:function(a,c,d){var e=new A(0,0),f=a.font,h,k,p=0;a.font=c.jk;for(h=0;h<d.length;++h)0===h&&(p=B.kh(c.cq)),k=C.Dc(a,d[h],m),e.I=Math.max(e.I,
k),e.J+=p+0;e.J=Math.ceil(e.J);a.font=f;return{size:e,lineHeight:p}},Jr:function(a,c,d){var e,f;e=this.h.b+20+d.I+c.I>=a.l()?this.h.b-20-d.I-c.I:this.h.b+20;f=this.h.c+20+c.J>=a.k()?this.h.c-20-c.J:this.h.c+20;0>e&&(e=c.I<a.l()?(a.l()-c.I)/2:0);0>f&&(f=c.J<a.k()?(a.k()-c.J)/2:0);return new K(e,f,e+c.I+d.I,f+d.J+c.J)}}})();var dc;dc=o();dc.prototype={execute:o()};var ec;ec=function(a,b){var c=b.getUint16();this.Ur=0===c||2==c};ec.prototype={execute:function(a){this.Ur&&a.a.nc.close();a.a.nc.Wx()}};
var fc;fc=function(a,b,c){var d;d=b.H();this.Vr=b.getUint16();a=b.getUint16();this.rl=b.getString(a,m);c>=b.H()-d+10?(a=b.getUint16(),this.sl=b.getString(a,m)):this.sl=""};
fc.prototype={execute:function(){switch(this.Vr){case 0:WebvisuLogger.warn("The functionality start process is not possible in the webvisualization.");break;case 1:case 2:case 3:WebvisuLogger.warn("The functionality printing is not possible in the webvisualization.");break;case 4:this.St()}},St:function(){"replace"===this.sl?window.location.href=this.rl:window.open(this.rl)}};var gc;gc=function(a,b){this.Ee=b.getUint8();this.Ee=this.Ee==Q.za?Q.xh:Q.Hc;this.Xf=new hc(0,b)};
gc.prototype={execute:function(a){a.a.ie(new ic(0,this.Ee,this.Xf.At,l,this.Xf))}};var jc;jc=function(a,b,c,d){a=d.a.d;d=c=0;this.hb=b.getUint32();d=b.getUint16();this.un=b.getString(d,m);d=b.getUint32();if(a.buffer===l)a.buffer=I.n(d);for(;c<d;)a.buffer.sg(b.getUint8()),c++;a.status.Za+=d;if(0!==(this.hb&1))a.status.kb?(a.status.kb=m,a.status.tb=j):a.status.sb=j;if(0===d)a.status.sb=j};jc.prototype={execute:o()};var kc;
kc=function(a,b){var c;this.Pu=b.getUint16();this.Ee=b.getUint8();c=b.getUint16();this.Eu=b.getString(c,m);c=b.getUint16();this.un=0<c?b.getString(c,m):"";this.Xf=new hc(0,b)};kc.prototype={execute:function(a){a.a.ie(new ic(this.Pu,this.Ee,this.Eu,this.un,this.Xf))}};var mb;mb=function(a,b,c){a=b.H();this.f=C.dc(b);this.ol=j;if(c>=b.H()-a+12)this.ol=0===(b.getUint32()&1)};
mb.prototype={execute:function(a){a.Th.Ui(this.f);this.ol&&(a.s.clearRect(this.f.e,this.f.g,this.f.l(),this.f.k()),a.Ua.Zv(this.f));a.a.Lc.Nx(this.f)}};var lc;
lc=function(a,b){var c,d,e,f,h;this.Hl=b.getUint32();this.Cs=b.getUint32();c=b.getUint16();this.Bm=b.getString(c,m);c=b.getUint32();d=b.getUint16();this.Im=[];this.Jm=m;try{for(e=0;e<d;++e)f=b.getUint32(),h=b.getUint32(),this.Im.push(this.Iu(b,f,h))}catch(k){k instanceof TypeError?(WebvisuLogger.error("Invalid argumenttype for calling '"+this.Bm+"'; call will not be executed"),this.Jm=j):g(k)}2==(c&2)?(this.Ve=b.getUint32(),this.yi=b.getUint32()):this.yi=this.Ve=l};
lc.prototype={execute:function(a){if(!this.Jm){var b=WebvisuExtensionMgr.hw(this.Hl,this.Bm,this.Im);b!==l&&b!==i&&this.yi!==l&&this.Ve!==l&&this.Es(b,a.a)}},Yr:function(a,b){var c=I.n(b),d=N.n(c,j),e;for(e=0;e<b;++e)d.$(a.getUint8());return M.n(c.Zb(),a.ce(),a.je())},Iu:function(a,b,c){a=this.Yr(a,c);switch(b){case 0:case 1:return 0!==a.getUint8();case 2:case 10:return a.getUint8();case 6:return a.getInt8();case 3:case 11:return a.getUint16();case 7:return a.getInt16();case 8:return a.getInt32();
case 9:g(new TypeError("Type LINT not supported"));case 4:case 12:return a.getUint32();case 5:case 13:g(new TypeError("Type LWORD/ULINT not supported"));case 14:return a.getFloat32();case 15:return a.getFloat64();case 16:case 17:return a.$b(17===b);default:g(new TypeError("TypeCode + "+b.toString()+" not supported"))}},Es:function(a,b){var c=I.n(this.yi),d=N.n(c,b.j.sa,b.gf()),e=new E(G.Zp,b.j.O,this.Hl,this.Cs);try{this.Gs(a,d),e.ya(c)}catch(f){WebvisuLogger.error("Failed to encode return value: "+
a.toString()+". Result ignored")}b.Xb(e)},Gs:function(a,b){switch(this.Ve){case 0:case 1:b.$(a?1:0);break;case 2:case 10:b.$(a);break;case 6:b.Dn(a);break;case 3:case 11:b.ha(a);break;case 7:b.Va(a);break;case 8:b.Cn(a);break;case 9:g(new TypeError("Type LINT not supported"));case 4:case 12:b.r(a);break;case 5:case 13:g(new TypeError("Type LWORD/ULINT not supported"));case 14:b.An(a);break;case 15:b.Bn(a);break;case 16:case 17:b.Wa(a,17===this.Ve);break;default:g(new TypeError("TypeCode + "+this.Ve.toString()+
" not supported"))}}};var mc;mc=function(a,b){var c;this.Cd=b.getUint32();c=b.getUint16();this.ul=b.getString(c,m);this.Me=C.dc(b)};mc.prototype={execute:function(a){var b=WebvisuExtensionMgr.Yy(this.ul);b===l?WebvisuLogger.warn("No native control named '"+this.ul+"' found"):WebvisuExtensionMgr.kw(b,this.Cd,this.Me,a.s.canvas)}};var nc;nc=function(a,b){this.Cd=b.getUint32();this.Me=C.dc(b)};nc.prototype={execute:function(){WebvisuExtensionMgr.iw(this.Cd,this.Me)}};var oc;
oc=function(a,b){this.Cd=b.getUint32();var c=b.getUint32();this.fv=1===(c&1);this.gA=2===(c&2);this.js=4===(c&4)};oc.prototype={execute:function(){this.js?WebvisuExtensionMgr.Xn(this.Cd):WebvisuExtensionMgr.jw(this.Cd,this.fv)}};var pc;
pc=function(a,b){var c,d,e,f;b.getUint16();b.getUint16();this.Dd=C.dc(b);d=b.getUint32();this.Lt=0!==(d&1);this.Dr=0!==(d&2);this.Vl=b.getUint16();c=b.getUint16();this.Ws=b.getString(c,m);this.Hf=b.getUint16();f=b.getUint16();c=I.n(f);d=N.n(c,j);for(e=0;e<f;++e)d.$(b.getUint8());this.Kf=this.Mm=m;if(25==a)d=b.getUint16(),this.Mm=0!==(d&1),this.Kf=2==(d&2);0<f?(this.Kf&&(f/=2),c=M.n(c.Zb(),b.ce(),b.je()),this.im=c.getString(f,this.Kf)):this.im=""};
pc.prototype={execute:function(a){var b=window.document.createElement("input"),c=this.Fr(),d=a.Mw();if(this.Mm)b.type="password";b.value=this.im;c=c.ub(d.b,d.c);B.re(b,c);b.style.zIndex=300;b.style.textAlign=0!==(this.Hf&1)?"center":0!==(this.Hf&2)?"right":"left";b.style.fontFamily=this.Ws;b.style.fontSize=this.Vl+"px";if(this.Lt)b.style.fontStyle="italic";if(this.Dr)b.style.fontWeight="bold";a.a.nc.open(b,this.Kf);b.select()},Fr:function(){var a=this.Dd.e+3,b=this.Dd.w-9,c,d=B.kh(this.Vl);c=0!==
(this.Hf&8)?this.Dd.B-d-9:0!==(this.Hf&4)?this.Dd.g+(this.Dd.k()-d)/2:this.Dd.g+1;return new K(a,c,b,c+d)}};var pb;(function(){var a=l;pb=o();pb.Ap=function(b,c,d,e){a===l&&(a=[dc,$b,Zb,cc,qc,rc,sc,mb,Ub,tc,pc,cc,ec,dc,nb,nb,dc,fc,uc,jb,vc,wc,wc,Vb,xc,pc,mc,lc,nc,oc,yc,bc,zc,Ac,Ac,Bc,Xb,Cc,dc,dc,dc,kb,Dc,Ec,Yb,$b,cc,cc,yc,Fc,Gc,Hc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Zb,$b,$b,dc,dc,dc,dc,Oc,kc,gc,jc]);return b<a.length?new a[b](b,c,d,e):new dc}})();var C;
(function(){var a="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(","),b,c;b=function(b){return a[b>>4&15]+a[b&15]};c=function(a){return a&255};C=o();C.sd=50;C.Oj=0;C.sf=1;C.le=2;C.rf=3;C.qd=function(a){var b=a.getInt16(),a=a.getInt16();return new z(b,a)};C.ph=function(a){var b=a.getFloat32(),a=a.getFloat32();return new z(b,a)};C.Yk=function(a,b){var c=[],h;for(h=0;4>h;++h)c[h]=b(a);return c};C.rk=function(a){return C.Yk(a,C.qd)};C.zq=function(a){return C.Yk(a,C.ph)};C.Aq=function(a){var b=[];b[0]=C.qd(a);
b[2]=C.qd(a);b[1]=new z(b[2].b,b[0].c);b[3]=new z(b[0].b,b[2].c);return b};C.tq=function(a){return a[1].c!==a[0].c||a[2].b!==a[1].b||a[3].c<a[0].c||a[2].b<a[1].b};C.Nj=function(a,b){if(b&&C.tq(a)){var c,h;c=Math.sqrt((a[0].b-a[1].b)*(a[0].b-a[1].b)+(a[0].c-a[1].c)*(a[0].c-a[1].c));h=Math.sqrt((a[0].b-a[3].b)*(a[0].b-a[3].b)+(a[0].c-a[3].c)*(a[0].c-a[3].c));return new K(0,0,c,h,Pc.yp((a[1].b-a[0].b)/c,(a[1].c-a[0].c)/c,(a[3].b-a[0].b)/h,(a[3].c-a[0].c)/h,a[0].b,a[0].c))}return new K(a[0].b,a[0].c,
a[2].b,a[2].c)};C.Xk=function(a,b,c){a=c(a);return C.Nj(a,b)};C.Af=function(a,b){return C.Xk(a,b,C.rk)};C.yq=function(a){return C.Xk(a,j,C.zq)};C.Wk=function(a,b){var c,h;c=b(a);h=b(a);return new K(c.b,c.c,h.b,h.c)};C.dc=function(a){return C.Wk(a,C.qd)};C.xq=function(a){return C.Wk(a,C.ph)};C.Zk=function(a,b){var c=a.getUint16(),h,k;k=Array(c);for(h=0;h<c;++h)k[h]=b(a);return k};C.sk=function(a){return C.Zk(a,C.qd)};C.Bq=function(a){return C.Zk(a,C.ph)};C.bc=function(a){return Math.PI*a/180};C.Ja=
function(a){return"#"+b(a>>16)+b(a>>8)+b(a)};C.xb=function(a){var e;e=a>>24&255;return 255==e?"#"+b(a>>16)+b(a>>8)+b(a):"rgba("+c(a>>16)+", "+c(a>>8)+", "+c(a)+", "+e/255+")"};C.mh=function(a){return 1==a.lineWidth%2?0.5:0};C.iq=function(a){return 0<=a.indexOf("\n")||0<=a.indexOf("\r")};C.ed=function(a,b,c){return b>a.length-1?a:a.substr(0,b)+c+a.substr(b+1)};C.vq=function(a){var b,c,h,k;b=a.length;h=c=0;for(k=C.Oj;c<b;)switch(k){case C.Oj:switch(a[c]){case "\n":k=C.le;break;case "\r":k=C.rf;break;
default:k=C.sf}break;case C.sf:switch(a[c]){case "\n":k=C.le;h!=c&&(a=C.ed(a,h,a[c]));h++;break;case "\r":k=C.rf;break;default:h!=c&&(a=C.ed(a,h,a[c])),h++}c++;break;case C.le:switch(a[c]){case "\n":h!=c&&(a=C.ed(a,h,a[c]));h++;break;case "\r":k=C.rf;break;default:k=C.sf,h!=c&&(a=C.ed(a,h,a[c])),h++}c++;break;case C.rf:a=C.ed(a,h,"\n");h++;switch(a[c]){case "\n":k=C.le;break;case "\r":a=C.ed(a,h,"\n");h++;k=C.le;break;default:h!=c&&(a=C.ed(a,h,a[c])),h++,k=C.sf}c++}return a.substring(0,h)};C.Df=function(a){return C.vq(a).split("\n")};
C.jq=function(a){return 0<=a.indexOf("\t")};C.Rq=function(a){return a.split("\t")};C.Dc=function(a,b,c){if(c){a=C.vh(a,b);for(b=c=0;b<a.length;++b)c+=a[b].jz;return c}return a.measureText(b).width};C.vh=function(a,b){var c=C.Rq(b),h=[],k,p,n;for(k=0;k<c.length;++k)p=a.measureText(c[k]).width,n=Math.max(1,Math.ceil(p/C.sd)),k<c.length-1&&(p=n*C.sd),h.push({text:c[k],Bj:n,jz:p});return h};C.kq=function(a){return a.mb!==l};C.Yj=function(a,b,c,h,k,p,n){var x=C.bc(90),L=C.bc(180),D=C.bc(270),O=C.bc(360),
u;u=Math.max(1,Math.min(h,k)/8);a.beginPath();a.moveTo(b+u,c);a.lineTo(b+h-u,c);a.arc(b+h-u,c+u,u,D,O,m);a.lineTo(b+h,c+k-u);a.arc(b+h-u,c+k-u,u,O,x,m);a.lineTo(b+u,c+k);a.arc(b+u,c+k-u,u,x,L,m);a.lineTo(b,c+u);a.arc(b+u,c+u,u,L,D,m);a.closePath();p&&a.fill();n&&a.stroke()}})();var Oc;Oc=function(a,b){this.pv=b.getUint16();this.Pi=b.getUint32()};
Oc.prototype={execute:function(a){switch(this.pv){case 1:a=a.a.da;a!==l&&a.vy(this.Pi/100);break;case 2:a=a.a.da;a!==l&&a.uy(this.Pi/100);break;case 3:a=a.a.da;a!==l&&a.Gy(Boolean(this.Pi));break;case 4:a.a.i.AutoFontReductionActive=j}}};var xc;
xc=function(a,b){switch(b.getUint16()){case 0:this.Ca="pointer";break;case 1:this.Ca="default";break;case 2:this.Ca="pointer";break;case 3:this.Ca="wait";break;case 4:this.Ca="text";break;case 5:this.Ca="crosshair";break;case 6:this.Ca="help";break;case 7:this.Ca="col-resize";break;case 8:this.Ca="row-resize";break;case 9:this.Ca="nw-resize";break;case 10:this.Ca="ne-resize";break;case 11:this.Ca="w-resize";break;case 12:this.Ca="s-resize";break;case 13:this.Ca="pointer";break;default:this.Ca="default"}};
xc.prototype={execute:function(a){a.s.canvas.style.cursor=this.Ca}};var qc;qc=function(a,b,c,d){a=b.getUint32();b=b.getUint32();this.Vh=1===(a&1);this.Be=d.a.i.SemiTransparencyActive===j?C.xb(b):C.Ja(b)};qc.prototype={execute:function(a){a.F().my(this.Be,this.Vh)}};var sc;sc=function(a,b,c,d){this.Be=d.a.i.SemiTransparencyActive===j?C.xb(b.getUint32()):C.Ja(b.getUint32());a=this.kv(b.getUint32());this.Wl=b.getUint16();c=b.getUint16();b=b.getString(c,m);this.qb=a+" "+this.Wl+'px "'+b+'"'};
sc.prototype={execute:function(a){a.F().My(this.qb,this.Wl,this.Be)},kv:function(a){var b=[];0!==(a&1)&&b.push("italic");0!==(a&2)&&b.push("bold");0!==(a&16)&&b.push("lighter");0!==(a&32)&&b.push("bolder");0!==(a&64)&&b.push("900");return b.join(" ")}};var yc;
yc=function(a,b,c,d){var c=1===b.getUint32(),e=b.getUint32(),f=b.getUint32(),h,k,p,n,x;30==a?(h=b.getUint32(),k=b.getUint32()/100,p=b.getUint32()/100,n=b.getUint32(),x=0===b.getUint32(),b.getUint32(),b=b.getUint32()):(h=b.getUint16(),k=b.getUint8()/100,p=b.getUint8()/100,n=b.getUint8(),x=j,b=0);d.a.i.SemiTransparencyActive===j?(e=C.xb(e),f=C.xb(f),30==a&&(b=C.xb(b))):(e=C.Ja(e),f=C.Ja(f),30==a&&(b=C.Ja(b)));this.qt=new wa(c,e,f,h,k,p,n,x,b)};yc.prototype={execute:function(a){a.F().py(this.qt)}};var Dc;
Dc=function(a,b,c,d){this.ua=b.getUint32();d.a.i.SemiTransparencyActive=2===(this.ua&2);d.a.i.lh=8===(this.ua&8)};Dc.prototype={execute:function(a){a=a.a.da;a!==l&&(a.o.qy(1===(this.ua&1)),a.uj(0!==(this.ua&4)))}};var Fc;Fc=function(a,b,c,d){var e,f,h,k,a=b.getUint16();h=[];for(c=0;c<a;++c)e=b.getUint16(),h[c]=b.getString(e,m);this.Aa=[];a=b.getUint16();for(c=0;c<a;++c){k=[];e=b.getUint16();for(f=0;f<e;++f)k[f]=h[b.getUint16()];this.Aa.push({qj:k.join(".").toLowerCase(),Eo:b.getUint16()})}d.bi.ay(this.Aa)};
Fc.prototype={execute:o()};var rc;
rc=function(a,b,c,d){var e=b.H(),f=b.getUint32(),h=b.getUint32(),a=b.getUint16(),k=["butt","square","round"],p=["miter","bevel","round"];this.Tb=f;this.Be=d.a.i.SemiTransparencyActive===j?C.xb(h):C.Ja(h);this.Zc=a;if(c>=b.H()-e+11){c=b.getUint16();this.fc=k[0];if(0!==(c&0))this.fc=k[0];if(0!==(c&1))this.fc=k[1];if(0!==(c&2))this.fc=k[2];c=b.getUint16();this.gc=p[0];if(0!==(c&0))this.gc=p[0];if(0!==(c&1))this.gc=p[1];if(0!==(c&2))this.gc=p[2];b=b.getUint16();this.we=d.a.i.lh?b/2:1==b?1.7*a:2*b}else this.fc=
k[0],this.gc=p[0],this.we=d.a.i.lh?1.5:1.7*a};rc.prototype={execute:function(a){a.F().xy(this.Zc,this.Be,this.Tb,this.fc,this.gc,this.we)}};var Ec;Ec=function(a,b,c){this.pa=[];for(var d=l,a=b.H(),e,f;b.H()-a<c-8;)e=b.getUint32(),e&2147483648?(f=b.getUint32(),d=C.dc(b),d.B-=1,d.w-=1,d=new Qc(f,d,e&2147483647),this.pa.push(d)):d!==l&&(f=e&65535,e=(e&2147483647)>>16,f=b.H()+f,this.Ju(b,d,e),b.seek(f))};
Ec.prototype={execute:function(a){var b=a.a.da,c;if(b!==l){b.pa.clear();for(c=0;c<this.pa.length;++c)b.pa.Ui(this.pa[c]);a.a.i.DebugOnlyPrintTouchRectangles&&this.As()}},Ju:function(a,b,c){switch(c){case 3:b.info().scroll().Y.Ay(new z(a.getInt32(),a.getInt32()));b.info().scroll().Y.yy(new z(a.getInt32(),a.getInt32()));b.rg(Rc.Kk);break;case 4:b.info().zoom().Y.By(a.getFloat32());b.info().zoom().Y.zy(a.getFloat32());b.rg(Rc.Uk);break;case 5:b.info().ey(new K(a.getUint16(),a.getUint16(),a.getUint16(),
a.getUint16()));break;case 6:var c=a.getUint16(),d=a.getUint16(),e=Boolean(a.getUint8()),f=Boolean(a.getUint8()),a=new z(a.getUint16(),a.getUint16());b.info().cp(c,new Sc(d,e,f,a))}},As:function(){var a,b;for(a=0;a<this.pa.length;++a)b=this.pa[a],WebvisuLogger.R(B.aa("TouchRect ({0}): {1} (Flags: {2})",b.id(),B.Cq(b.P),b.Yb())),b.v(Rc.Kk)&&WebvisuLogger.R(B.aa("  ScrollLimits {0} -> {1}",B.Fc(b.info().scroll().Y.Ta),B.Fc(b.info().scroll().Y.Sa))),b.v(Rc.Uk)&&WebvisuLogger.R(B.aa("  Zoomlimits: {0} -> {1}",
b.info().zoom().Y.Ta,b.info().zoom().Y.Sa))}};var uc;uc=function(a,b){this.Br=1===b.getUint16()};uc.prototype={execute:function(a){this.Br?a.Rx():a.Sx()}};var Cc;Cc=function(a,b){var c=b.getUint16();this.Z=b.getString(c,m)};Cc.prototype={execute:function(a){if(a.a.i.ChangeWindowTitle)window.document.title=this.Z}};var tc;tc=function(a,b){this.f=C.dc(b)};tc.prototype={execute:function(a){a.getContext().restore();a.F().apply()}};var hc;
hc=function(a,b){var c=b.getUint16(),d;this.mA=b.getString(c,m);c=b.getUint16();this.At=b.getString(c,m);this.Xh=b.getUint16();this.Vk=[];for(d=0;d<this.Xh;++d)c=b.getUint16(),this.Vk[d]=b.getString(c,m);this.hb=b.getUint32();this.fA=b.getUint32()};var Tc;Tc=function(){this.wb=this.Zy=0};var Uc;Uc=o();Uc.wf=0;Uc.Cz=1;Uc.Dz=2;Uc.Ah=4;Uc.hd=8;var Q;Q=o();Q.za=0;Q.td=1;Q.xh=2;Q.Hc=3;var ic;
ic=function(a,b,c,d,e){this.Aj=a;this.direction=b;this.vb=c;this.Fo=d;this.Ka=e;this.pf=0;this.pd=new Tc;this.ld=new Tc;this.status=new S;this.xa=this.buffer=l;this.Ro=B.W()};var S;S=function(){this.Wb=j;this.sb=this.tb=this.kb=m;this.fd=this.Za=this.result=0;this.ra=S.wh};S.wh=1;S.jh=2;S.hd=3;S.Qj=4;S.hk=19;S.jd=20;var vc;vc=o();vc.prototype={execute:function(){WebvisuLogger.warn("The functionality ExecuteClientProgram is not possible in the webvisualization.")}};var wc;wc=o();wc.prototype={execute:function(){WebvisuLogger.warn("The functionality OpenFileDialog is not possible in the webvisualization.")}};
var Jc;Jc=function(a,b){this.Qc=b.getUint16();this.Zc=b.getUint16();this.He=b.getUint16();this.ua=b.getUint32();this.qp=1};Jc.prototype={execute:function(a){var b=l,c=B.Sj(this.Zc-1,this.He-1).getContext("2d");c.fillStyle="white";c.fillRect(0,0,this.Zc-1,this.He-1);if(this.ua&this.qp)b=B.Sj(this.Zc-1,this.He-1).getContext("2d"),b.fillStyle="white",b.fillRect(0,0,this.Zc-1,this.He-1);a.Ua.Kv(this.Qc,new qb(c,b,new A(this.Zc,this.He)))}};var Kc;Kc=function(a,b){this.Qc=b.getUint16()};
Kc.prototype={execute:function(a){a.Ua.Qx(this.Qc);a.a.da.pa.kx(this.Qc)}};var Nc;Nc=function(a,b){this.uv=b.getUint32();this.ut=b.getUint16();this.bg=b.getUint16();this.ii=Boolean(b.getUint8());this.ji=Boolean(b.getUint8());this.oi=new z(b.getUint16(),b.getUint16())};Nc.prototype={execute:function(a){var b=new Sc(this.bg,this.ii,this.ji,this.oi);a.a.da.pa.Zw(this.uv).info().cp(this.ut,b)}};var Lc;Lc=function(a,b){this.Qc=b.getUint16()};Lc.prototype={execute:function(a){a.Ua.Gx(this.Qc);a.Ua.sy(j)}};
var Mc;Mc=function(a,b){this.Qc=b.getUint16()};Mc.prototype={execute:function(a){var b=a.Ua.Rg(a.Ua.Ti());!b.Rc&&a.Pd&&b.De.drawImage(b.na.canvas,0,0);!b.Rc&&!a.Pd&&b.ty(j);a.Ua.Ex()}};var Ic;Ic=o();Ic.prototype={execute:function(a){var b=a.a.la,c=a.Mi,d,e,f;d=I.n(2*c.cf());e=N.n(d,a.a.j.sa);for(f=0;f<c.cf();++f)e.Va(c.$w(f));a=new E(G.Vp,a.a.j.O,0,0);a.ya(d);b.push(a)}};var Bc;Bc=o();
Bc.prototype={execute:function(a){var b=a.a.la,c=a.Li,d,e,f;d=I.n(4*c.cf());e=N.n(d,a.a.j.sa);for(f=0;f<c.cf();++f)e.Va(c.l(f)),e.Va(c.k(f));a=new E(G.Wp,a.a.j.O,0,0);a.ya(d);b.push(a)}};var Hc;Hc=function(a,b){var c=b.getUint16();this.Z=b.getString(c,52==a)};Hc.prototype={execute:function(a){a.Mi.Jv(this.Z)}};var Ac;Ac=function(a,b){var c=b.getUint16();this.Z=b.getString(c,34==a)};Ac.prototype={execute:function(a){a.Li.Iv(this.Z)}};var Gc;Gc=function(a,b){b.getUint32();b.getUint32()};
Gc.prototype={execute:function(a){a.Mi.clear()}};var zc;zc=function(a,b){b.getUint32();b.getUint32()};zc.prototype={execute:function(a){a.Li.clear()}};var Vc;Vc=function(a,b){this.a=a;this.Da=b};
Vc.prototype={execute:function(){var a=this.a.qa(),b=this.a.i,c=this.a.Fa();c.Ao(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.Ia(c.Ga(),this)},Ya:function(a){a=(new Rb(a,j,this.a.ia())).Io();a instanceof pa?(this.a.j.uf=a.uf,this.a.G(this.Da,0)):this.a.error("Checking for demo mode failed (1): "+a)},Wi:t(m),L:function(a){this.a.error("Checking for demo mode failed (2): "+a)},className:t("CheckDemoModeState")};var Wc;Wc=function(a){this.a=a;this.ki=j;this.fn=this.Ri=0};
Wc.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa();b.zw();this.fn=B.W();a.Ia(b.Ga(),this,m,!this.ki)},Dg:t(j),Ya:function(){var a=B.W()-this.fn;this.ki?(this.Ri=a,this.ki=m,this.a.G(this,0)):(WebvisuLogger.ke(B.aa("Deriving post method difference: {0}ms data in body, {1}ms without",this.Ri,a)),a<this.Ri-20&&(WebvisuLogger.R("POST requests will be sent with the data in header because this seems faster"),this.a.ap(j)),this.a.G(new Xc(this.a),0))},L:function(){this.a.error("deriving the best post method failed")},
className:t("DerivingPostMethodState")};var Xc;Xc=function(a,b,c,d,e){b===i&&(b=l);c===i&&(c=l);this.a=a;this.ru=b;this.qu=c;this.pu=e;this.ou=d};
Xc.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa();b.uw(this.ru,this.qu,this.ou,this.pu);a.Ia(b.Ga(),this)},Ya:function(a){a=(new Rb(a,this.a.j.sa,this.a.ia())).Ix();a instanceof Pb?0===a.tk?(WebvisuLogger.R("Successfully Logged in! DeviceSessionId: "+a.Cf),this.a.j.Xj=a.Cf,this.a.G(new Yc(this.a),0)):(WebvisuLogger.R("Login failed. Probably credentials necessary; result: "+a.tk),this.a.G(new Zc(this.a,a),0)):this.L("DeviceLogin failed with the following error: "+a)},L:function(a){this.a.error("Login to the plc device failed: "+
a)},className:t("DeviceLoginState")};var Cb;Cb=r("a");Cb.prototype={execute:function(){WebvisuLogger.info("Triing to reconnect after error");this.a.G(new wb(this.a),0)},className:t("ErrorState")};var Zc;Zc=function(a,b){this.a=a;this.Qm=b};
Zc.prototype={execute:function(){this.pi()},className:t("QueryCredentialsState"),pi:function(){var a=window.document.createElement("div"),b=this.kc("Ok"),c=this.kc("Cancel"),d=this.cs(),e=this;b.addEventListener("click",function(){e.gu(a,d.op,d.Dx)},m);c.addEventListener("click",function(){e.fg(a)},m);a.style.Ln=a.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";a.align="center";a.appendChild(d.Zg);a.appendChild(b);a.appendChild(c);window.document.body.appendChild(a);B.re(a,this.Mf(300,200));
a.style.zIndex=300;a.style.backgroundColor="#d4d0c8";d.op.focus()},cs:function(){var a=window.document.createElement("table"),b=window.document.createElement("input"),c=window.document.createElement("input");c.type="password";a.border="0";a.appendChild(this.xl("Username: ",b));a.appendChild(this.xl("Password: ",c));return{Zg:a,op:b,Dx:c}},xl:function(a,b){var c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);
d=window.document.createElement("td");d.appendChild(b);c.appendChild(d);return c},Mf:function(a,b){var c=this.a.N.zc();return new z((c.e+c.w-a)/2,(c.g+c.B-b)/2)},ql:function(a){window.document.body.removeChild(a)},gu:function(a,b,c){this.ql(a);this.a.G(new Xc(this.a,b.value,c.value,this.Qm.vp,this.Qm.Cp),0)},fg:function(a){this.a.jp("The user did not provide credentials.","No credentials");this.ql(a)},kc:function(a){var b=window.document.createElement("input");b.type="button";b.value=a;return b}};
var wb;
(function(){var a,b;a=function(a){return Wa.qk(a)};b=[{ea:"HandleTouchEvents",ja:"CFG_HandleTouchEvents",type:"boolean",ga:a},{ea:"TouchHandlingActive",ja:"CFG_TouchHandlingActive",type:"boolean",ga:a},{ea:"BestFit",ja:"CFG_BestFit",type:"boolean",ga:a},{ea:"BestFitForDialogs",ja:"CFG_BestFitForDialogs",type:"boolean",ga:a},{ea:"LogLevel",ja:"CFG_LogLevel",type:"string",ga:l},{ea:"Benchmarking",ja:"CFG_Benchmarking",type:"boolean",ga:a},{ea:"WorkaroundDisableMouseUpDownAfterActiveTouch",ja:"CFG_WorkaroundDisableMouseUpDownAfterActiveTouch",type:"boolean",
ga:a},{ea:"WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch",ja:"CFG_WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch",type:"number",ga:function(a){return parseInt(a,10)}},{ea:"WorkaroundDisableResizeHandling",ja:"CFG_WorkaroundDisableResizeHandling",type:"boolean",ga:a},{ea:"WorkaroundDisableSVGAspectRatioWorkaround",ja:"CFG_WorkaroundDisableSVGAspectRatioWorkaroundg",type:"boolean",ga:a},{ea:"WorkaroundDisableSVGEmptySizeWorkaround",ja:"CFG_WorkaroundDisableSVGEmptySizeWorkaround",
type:"boolean",ga:a},{ea:"WorkaroundForceSVGEmptySizeWorkaround",ja:"CFG_WorkaroundForceSVGEmptySizeWorkaround",type:"boolean",ga:a},{ea:"PostDataInHeader",ja:"CFG_PostDataInHeader",type:"number",ga:function(a){a=parseInt(a,10);if(0===a||1===a||2===a)return a;WebvisuLogger.info("Unexpected value at the URL configured; only 0..2 are allowed so falling back to default value");return 0}},{ea:"DebugOnlyPrintPaintCommands",ja:"CFG_DebugOnlyPrintPaintCommands",type:"boolean",ga:a},{ea:"DebugOnlyPrintRawTouches",
ja:"CFG_DebugOnlyPrintRawTouches",type:"boolean",ga:a},{ea:"DebugOnlyPrintGestures",ja:"CFG_DebugOnlyPrintGestures",type:"boolean",ga:a},{ea:"DebugOnlyPrintTouchRectangles",ja:"CFG_DebugOnlyPrintTouchRectangles",type:"boolean",ga:a},{ea:"DebugOnlyDiagnosisDisplay",ja:"CFG_DebugOnlyDiagnosisDisplay",type:"boolean",ga:a},{ea:"ClientName",ja:"ClientName",type:"string",ga:l}];wb=r("a");wb.prototype={execute:function(){var a=this.a.qa(),b;b=window.document.URL;b=b.substr(0,b.lastIndexOf("."));a.vo(b+".cfg.json",
this)},$n:function(a){try{var b=this.Bu(a);this.Cu(b);this.a.To(b);this.ys(b);this.We()}catch(e){this.L(e)}},Cu:function(a){var d,e,f;for(d=0;d<b.length;++d)e=b[d],f=Wa.nk(e.ja),f!==l&&(f=e.ga!==l?e.ga(f):f,a[e.ea]=f,WebvisuLogger.info("Overridden Config Entry: "+e.ea+" = "+f))},Bu:function(a){try{var b=JSON.parse(a),e=new Configuration,f;for(f in b)f!==i&&(e[f]=b[f]);e.cz();return e}catch(h){return this.Le(h),new Configuration}},L:function(a){this.Le(a);this.a.To(new Configuration);this.We()},We:function(){this.a.G(new $c(this.a),
0)},Le:function(a){WebvisuLogger.error("Loading the configuration failed for the following reason: "+a+". A default config will be used instead.")},className:t("RetrievingConfigurationState"),ys:function(a){WebvisuLogger.R("Configuration:");for(var b in a)a.hasOwnProperty(b)&&WebvisuLogger.R(B.aa(" - {0}: {1}",b,a[b]));a.Benchmarking&&WebvisuLogger.info("Benchmarking active")}}})();var ad;ad=r("a");
ad.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa();b.Xx();a.Ia(b.Ga(),this)},Dg:t(j),Ya:function(a){if(a!==l&&(a=(new Rb(a,j,this.a.ia())).Kx(),""!==a))this.a.j.pk=a;this.a.G(this.gs(),0)},gs:function(){if(this.a.j.Qq){if(0===this.a.i.PostDataInHeader)return new Wc(this.a);1===this.a.i.PostDataInHeader&&(WebvisuLogger.info("POST-Data in header active by override"),this.a.ap(j))}1===this.a.i.PostDataInHeader&&WebvisuLogger.warn("POST-Data in header active by override but not supported by Webserver");
return new Xc(this.a)},L:function(a){this.a.error("Retrieving IP Info failed: "+a)},className:t("RetrievingMyIpState")};var bd;bd=r("a");
bd.prototype={execute:function(){var a=this.a.qa(),b=this.a.i,c=this.a.Fa();c.Ao(b.PlcAddress,b.CommBufferSize,b.UseLocalHost);a.Ia(c.Ga(),this)},Dg:t(j),Ya:function(a){a===l?this.a.G(this,this.a.i.PollingRegistrationInterval):(a=(new Rb(a,j,this.a.ia())).Io(),a instanceof pa?(WebvisuLogger.R("Successfully connected! SessionId: "+a.Cf+" IntelByteOrder: "+a.sa),this.a.dy(a),this.a.G(new ad(this.a),0)):this.a.error("Connection failed: "+a))},L:function(a){this.a.error("Starting to connect failed: "+
a)},className:t("StartConnectState")};var $c;$c=r("a");$c.prototype={execute:function(){this.a.qa().vo(B.kk((this.a.i.Application+".imagepoolcollection.csv").toLowerCase()),this)},$n:function(a){try{this.a.N.bi.fill(a)}catch(b){this.Le(b)}this.We()},L:function(a){this.Le(a);this.We()},We:function(){this.a.G(new bd(this.a),0)},Le:function(a){WebvisuLogger.error("Loading the imagepool failed for the following reason: "+a+". Images will not work at all.")},className:t("UploadImagePoolState")};var cd;
cd=function(a,b){this.a=a;this.Da=b;this.d=this.a.d};
cd.prototype={execute:function(){var a,b;if(this.d===l)this.a.G(this.Da,0);else{if(this.d.direction==Q.Hc&&(b=B.W(),b-this.d.Ro<this.a.i.UpdateRate)){this.a.G(this.Da,0);return}if(this.d.status.ra==S.Qj){a=G.bk;if(this.d.direction==Q.Hc)a=G.$j;a=new E(a,this.a.j.O,0,1);this.a.ie(l);this.a.G(this.Da,0);this.a.la.push(a)}else if(this.d.status.ra==S.jd)this.d.direction!=Q.Hc&&(a=this.bs(this.d)),this.a.ie(l),this.a.G(this.Da,0),this.d.direction!=Q.Hc&&this.a.la.push(a);else{if(this.d.direction==Q.td||
this.d.direction==Q.za)if((this.d.status.result!=P.$a||this.d.status.sb)&&this.d.status.ra!=S.hk){a=this.a.qa();b=this.a.Fa();0!==this.d.pf?(b.mw(this.d),a.Ia(b.Ga(),this)):(this.a.ie(l),this.a.G(this.Da,0));this.d.status.sb=j;this.d.status.ra=S.hk;if(this.d.status.result!=P.$a)this.d.status.ra=S.jd;return}if(this.d.direction==Q.td||this.d.direction==Q.Hc){if(this.d.status.Wb){this.d.status.Wb=m;this.pi(this.d);this.a.G(this.Da,0);return}if(this.d.direction==Q.td){if(this.d.status.ra!=S.hd&&(this.d.status.kb||
this.d.status.tb)){a=this.a.qa();b=this.a.Fa();this.d.status.kb?(0<(this.d.Ka.hb&Uc.Ah)&&this.$o(this.d),0<(this.d.Ka.hb&Uc.hd)?(b.lw(this.d),this.d.status.ra=S.jh):b.Pn(this.d)):this.d.status.tb&&b.On(this.d);a.Ia(b.Ga(),this);return}}else if(this.d.status.kb||this.d.status.tb){if(this.d.xa!==l)window.document.body.removeChild(this.d.xa),this.d.xa=l;this.d.status.kb?(this.$o(this.d),a=this.as(this.d),this.d.status.kb=m,this.d.status.tb=j):a=this.$r(this.d);this.a.G(this.Da,0);this.a.la.push(a);this.d.Ro=
B.W();return}}else if(this.d.direction==Q.za){if(this.d.status.Wb||this.d.status.tb){a=this.a.qa();b=this.a.Fa();this.d.status.Wb?b.Pn(this.d):this.d.status.tb&&b.On(this.d);a.Ia(b.Ga(),this);return}}else if(this.d.direction==Q.xh){if(this.d.status.Wb){this.d.status.Wb=m;a=this.Zr(this.d);this.a.G(this.Da,0);this.a.la.push(a);return}if(this.d.status.sb&&this.d.status.ra!=S.jd){this.a.G(this.Da,0);this.Oo(this.d);return}}this.a.G(this.Da,0)}}},Ya:function(a){var b=m;if(a===l&&(this.d.direction==Q.za||
this.d.direction==Q.td)){if(this.d.xa!==l)window.document.body.removeChild(this.d.xa),this.d.xa=l;b=new E(G.ak,this.a.j.O,this.d.Aj,G.aq);this.a.ie(l);this.a.G(this.Da,0);this.a.la.push(b)}else if(a=new Rb(a,this.a.j.sa,this.a.ia()),this.d.status.sb&&this.d.status.ra!=S.jd)a.Jx(this.d),this.a.G(this.Da,0),this.Oo(this.d);else{if(this.d.direction==Q.za)if(this.d.status.Wb){if(this.d.status.Wb=m,a.rj(this.d),this.d.status.result==P.$a)this.d.status.tb=b=j}else this.d.status.tb&&a.Ho(this.d);else if(this.d.status.ra==
S.jh)this.d.status.Wb=m,a.rj(this.d),this.d.status.result==P.$a&&0<this.d.pd.wb?(this.d.xa!==l&&window.document.body.removeChild(this.d.xa),this.d.status.ra=S.hd,this.nu(this.d)):(this.d.status.result=0,this.d.status.ra=S.wh,this.d.status.kb=j,this.d.Ka.hb&=~Uc.Ah,this.d.Ka.hb&=~Uc.hd);else if(this.d.status.kb){if(a.rj(this.d),this.d.status.kb=m,this.d.status.result==P.$a)this.d.status.tb=b=j}else this.d.status.tb&&a.Ho(this.d);this.a.G(this.Da,0);if(b&&(b=new E(G.bk,this.a.j.O,this.d.Aj,this.d.status.result),
this.a.la.push(b),this.d.direction==Q.td))this.d.xa!==l&&window.document.body.removeChild(this.d.xa),this.d.xa=l}},Dg:t(j),$o:function(a){var b,c,d,e;b=a.vb.split("/");c=a.Fo.split("/");if(0<b.length&&0<c.length){for(e=0;e<b.length-1;++e)d=0===e?b[e]:d+"/"+b[e];d=d!==i?d+"/"+c[c.length-1]:c[c.length-1];a.vb=d}},Oo:function(a){var b=l,c=this.tw();if(a.buffer!==l&&(a.direction==Q.za||a.direction==Q.xh))b=a.buffer.Zb();this.d.xa!==l&&window.document.body.removeChild(a.xa);a.status.ra=S.jd;if(b!==l&&
a.status.result==P.$a)b=new Blob([b],{type:"application/octet-binary"}),a=a.vb,a=a.split("/"),a=a[a.length-1],c?this.yw(b,a):this.xw(b,a)},yw:function(a,b){window.navigator.msSaveBlob(a,b)},tw:function(){var a=window.navigator.userAgent,b=a.indexOf("Trident/");return 0<a.indexOf("MSIE ")?j:0<b?j:m},xw:function(a,b){var c=window.document.createElement("a");c.setAttribute("href",window.URL.createObjectURL(a));c.setAttribute("download",b);if(window.document.createEvent){var d=document.createEvent("MouseEvents");
d.initEvent("click",j,j);c.dispatchEvent(d)}else c.click()},Wi:t(j),L:function(a){this.a.error("Error while processing the visualization: "+a)},className:t("VisuFileTransferState"),wl:function(a){var b=window.document.createElement("table"),c=window.document.createElement("tr"),d=window.document.createElement("td");d.appendChild(window.document.createTextNode(a));c.appendChild(d);b.border="0";b.appendChild(c);return{Zg:b}},kc:function(a,b,c){var d=window.document.createElement("input"),e;d.type=b;
if(a!==l)d.value=a;else if(d.style.display="none",c!==l&&c.Ka!==l&&0<c.Ka.Xh){for(a=0;a<c.Ka.Xh;++a)b=c.Ka.Vk[a],b=b.split("|"),"*.*"!=b[1]&&(e=0===a?b[1].substr(1):e+","+b[1].substr(1));d.accept=e}return d},pi:function(a){var b=window.document.createElement("div"),c=this.kc(l,"file",a),d=this.kc("Browse...","button",a),a=this.kc("Cancel","button",a),e=this.wl("Choose file to transfer..."),f=this;c.addEventListener("change",function(a){f.rt(a,b)},m);a.addEventListener("click",function(){f.fg(b)},
m);d.addEventListener("click",function(){c.click()},m);b.style.Ln=b.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";b.align="center";b.appendChild(e.Zg);b.appendChild(c);b.appendChild(d);b.appendChild(a);window.document.body.appendChild(b);B.re(b,this.Mf(300,200));b.style.zIndex=300;b.style.backgroundColor="#d4d0c8";this.d.xa=b},nu:function(a){var b=window.document.createElement("div"),c=this.kc("Ok","button",a),a=this.kc("Cancel","button",a),d=this.wl("The file already exists in the plc. Do you want to overwrite the file? "),
e=this;a.addEventListener("click",function(){e.fg(b)},m);c.addEventListener("click",function(){e.hu(b)},m);b.style.Ln=b.style.WebkitBoxShadow="2px 2px 6px 6px rgba(0,0,0,0.5)";b.align="center";b.appendChild(d.Zg);b.appendChild(c);b.appendChild(a);window.document.body.appendChild(b);B.re(b,this.Mf(300,200));b.style.zIndex=300;b.style.backgroundColor="#d4d0c8";this.d.xa=b},rt:function(a){var b=new FileReader,c=this,d=this.a.d;b.onload=function(a){c.bu(a)};d.Fo=a.target.files[0].name;b.readAsArrayBuffer(a.target.files[0])},
bu:function(a){var b=this.a.d;b.buffer=M.n(a.target.result,this.a.j.sa,this.a.ia());b.status.kb=j},Mf:function(a,b){var c=this.a.N.zc();return new z((c.e+c.w-a)/2,(c.g+c.B-b)/2)},fg:function(a){var b=this.a.d;if(b!==l)b.status.ra=S.Qj;window.document.body.removeChild(a)},hu:function(a){if(this.a.d!==l)this.d.status.ra=S.wh,this.d.Ka.hb&=~Uc.Ah,this.d.Ka.hb&=~Uc.hd;window.document.body.removeChild(a);this.d.xa=l},bs:function(a){var b=this.a.j.CommBufferSize-2E3,c=I.n(b+4),d=N.n(c,j),b=a.vb.length;
d.Wa(a.vb,m);a=new E(G.ak,this.a.j.O,a.Aj,a.status.result);0<b&&a.ya(c);return a},$r:function(a){var b;b=0;var c=this.a.j.CommBufferSize-2E3,d=I.n(c+4),e=N.n(d,j),f;if(a.buffer.size()-a.status.fd<c)c=a.buffer.size()-a.status.fd,a.status.ra=S.jd,b=1;e.r(c);for(f=0;f<c;f++)e.$(a.buffer.getUint8());b=new E(G.Zj,this.a.j.O,b,0);b.ya(d);a.status.fd+=c;return b},as:function(a){var b=this.a.j.CommBufferSize-2E3,c=I.n(b+4),d=N.n(c,j),b=a.vb.length;d.r(b);d.Wa(a.vb,m);a=new E(G.Zj,this.a.j.O,2,0);a.ya(c);
return a},Zr:function(a){var b,c=I.n(20);N.n(c,j).Wa("DummyFileName",m);b=new E(G.$j,this.a.j.O,0,0);b.ya(c);a.status.kb=j;return b}};var dd;dd=r("a");
dd.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa(),c=E.Wj(this.a.j.O,this.a.i.BestFit,this.a.i.BestFitForDialogs,this.a.i.ScaleTypeIsotropic,this.a.N.zc());b.bh(c);a.Ia(b.Ga(),this)},Ya:function(a){a=(new Rb(a,this.a.j.sa,this.a.ia())).Qg(l);a instanceof Pa?!a.Hg()||0<a.zd?this.L("Unexpected paint result in "+this.className()):this.a.G(new ed(this.a),0):this.L(a)},L:function(a){this.a.error("Error during initializing (1) the visualization: "+a)},className:t("VisuOnlineInitState1")};
var ed;ed=r("a");
ed.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa(),c=new E(G.ck,this.a.j.O,0,0),d=I.n(16),e=N.n(d,j),f=this.a.i,h;e.r(458752);e.r(6);h=0;f.HasKeyboard===j&&(h|=24);f.TouchHandlingActive&&(h|=3);e.r(h);c.ya(d);b.bh(c);a.Ia(b.Ga(),this)},Ya:function(a){a=(new Rb(a,this.a.j.sa,this.a.ia())).Qg(l);a instanceof Pa?!a.Hg()||0<a.zd?this.L("Unexpected paint result in "+this.className()):this.a.G(new fd(this.a),0):this.L(a)},L:function(a){this.a.error("Error during initializing (2) the visualization: "+a)},
className:t("VisuOnlineInitState2")};var fd;fd=r("a");
fd.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa(),c=new E(G.ck,this.a.j.O,0,0),d=I.n(32),e=N.n(d,j);e.r(1);e.Wa(this.a.i.StartVisu,m);c.ya(d);b.bh(c);a.Ia(b.Ga(),this)},Ya:function(a){a=(new Rb(a,this.a.j.sa,this.a.ia())).Qg(l);a instanceof Pa?!a.Hg()||0<a.zd?this.L("Unexpected paint result in "+this.className()):this.a.G(new gd(this.a),0):this.L(a)},L:function(a){this.a.error("Error during initializing (3) the visualization: "+a)},className:t("VisuOnlineInitState3")};var gd;
gd=function(a){this.a=a;this.Ad=l;this.qm=B.W();this.a.ky(new Sb);this.Qi=m;this.Sl=j;this.ri=m};
gd.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa();this.Rr(this.a.N.ai);if(this.Ad===l){var c;c=this.a.la.empty()?new E(G.Xp,this.a.j.O,0,0):this.a.la.pop();c.Od?(this.ri=j,b.fz(c)):(this.ri=m,b.bh(c))}else b.dz(this.Ad.Gh);this.av=B.W();a.Ia(b.Ga(),this)},Wi:function(){return this.Ad===l&&!this.Qi},Ya:function(a){if(this.ri)this.a.G(this.cm(),this.Cl());else{var a=(new Rb(a,this.a.j.sa,this.a.ia())).Qg(this.Ad),b=this;if(a instanceof Pa)if(a.Hg()){this.Ad=l;if(this.Sl)this.a.N.aw(),
this.Sl=m;this.Qi=j;this.a.N.Dw(a,function(){b.Qi=m;b.a.G(b.cm(),b.Cl())})}else this.Ad=a,this.a.G(this,0);else this.L(a)}},cm:function(){return!this.a.j.uf&&4E3<=B.W()-this.qm?(this.qm=B.W(),new Vc(this.a,this)):this.a.d!==l?new cd(this.a,this):this},Cl:function(){var a=this.a.la;if(this.a.d!==l&&this.a.d.direction==Q.Hc)return this.a.i.UpdateRate;if(a.empty()&&this.a.d===l){var b=B.W(),c=this.a.i.UpdateRate,a=b-a.sm;return 0<=a&&a<Math.min(2*c,500)?Math.max(10,c/5):Math.max(10,c-(b-this.av))}return 0},
Rr:function(a){a.Xv()},L:function(a){this.a.error("Error while processing the visualization: "+a)},className:t("VisuOnlineState")};var hd;hd=function(a){this.a=a;this.Tu=0};
hd.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa();b.ez(this.a.j.O);a.Ia(b.Ga(),this)},Ya:function(a){a=(new Rb(a,this.a.j.sa,this.a.ia())).Lx();"number"===typeof a?0===a?(WebvisuLogger.R("Successfully finished visu registration"),this.a.G(new dd(this.a),0)):1===a?(0===this.Tu++%20&&WebvisuLogger.info("Still polling the registration of the visualization. Is the visu stopped?"),this.a.G(this,this.a.i.PollingRegistrationInterval)):this.L("Unexpected return value: "+a):this.L(a)},L:function(a){this.a.error("Visu registration in the plc failed: "+
a)},className:t("VisuPollingRegistrationState")};var Yc;Yc=r("a");
Yc.prototype={execute:function(){var a=this.a.qa(),b=this.a.Fa(),c=this.a.i;b.gz(c.Application,c.ClientName,this.a.j.pk);a.Ia(b.Ga(),this)},Ya:function(a){a=(new Rb(a,this.a.j.sa,this.a.ia())).Mx();"number"===typeof a?(WebvisuLogger.R("Successful first visu registration step: "+a),this.a.j.O=a,this.a.G(new hd(this.a),this.a.i.PollingRegistrationInterval)):this.L(a)},L:function(a){this.a.error("Visu registration in the plc failed: "+a)},className:t("VisuRegistrationState")};var id;
id=function(a){this.a=a;this.jc=l;this.ib=[];this.cb=[];"onpointerdown"in window?(WebvisuLogger.ke("Touchsupport using PointerEvents"),this.Ms(),this.Tm(this.ll)):"ontouchstart"in window?(WebvisuLogger.ke("Touchsupport using TouchEvents"),this.Ns(),this.Tm(this.ll)):WebvisuLogger.warn("No touch support")};
id.prototype={register:r("jc"),cj:function(){var a;for(a=0;a<this.ib.length;++a)this.a.N.s.canvas.removeEventListener(this.ib[a].$c,this.ib[a].Ha)},ll:function(){return this.a.N.s.canvas},Tm:function(){var a;for(a=0;a<this.ib.length;++a)this.a.N.s.canvas.addEventListener(this.ib[a].$c,this.ib[a].Ha)},Ns:function(){function a(a){b.Pe(a)}var b=this;this.ib.push({$c:"touchstart",Ha:a});this.ib.push({$c:"touchmove",Ha:a});this.ib.push({$c:"touchend",Ha:a})},Ms:function(){var a=this;this.ib.push({$c:"pointerdown",
Ha:function(b){a.iu(b)}});this.ib.push({$c:"pointermove",Ha:function(b){a.ju(b)}});this.ib.push({$c:"pointerup",Ha:function(b){a.ku(b)}})},tv:function(a,b){var c;for(c=0;c<a.length;++c)if(a[c].identifier===b)return j;return m},Bh:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],b.Vd(new jd(e.identifier,w.zf(e),c))},$k:function(a,b,c){var d,e;for(d=0;d<a.length;++d)e=a[d],this.tv(b,e.identifier)||c.Vd(new jd(e.identifier,w.zf(e),T.Mb))},ms:function(){this.a.i!==l&&this.a.i.WorkaroundDisableMouseUpDownAfterActiveTouch&&
this.a.ni.ry(B.W()+this.a.i.WorkaroundSetIgnoreTimeMsForMouseUpDownAfterActiveTouch)},Pe:function(a){if(this.jc!==l){a.preventDefault();this.ms();var b=new kd;"touchstart"==a.type?(this.Bh(a.changedTouches,b,T.nb),this.$k(a.targetTouches,a.changedTouches,b,T.Mb)):"touchmove"==a.type?this.Bh(a.targetTouches,b,T.Mb):(this.Bh(a.changedTouches,b,T.bb),this.$k(a.targetTouches,a.changedTouches,b,T.Mb),0===a.targetTouches.length&&this.hn());this.jc(b)}},iu:function(a){"mouse"!==a.pointerType&&(a.preventDefault(),
-1!==this.Sh(a.pointerId)?WebvisuLogger.warn(B.aa("Unexpected Pointerdown event for id: {0}; Ignored!",a.pointerId)):(this.rn(),this.cb.push(new jd(a.pointerId,w.yf(a),T.nb)),this.Sm()))},ku:function(a){this.sn(a,T.bb);this.cb.splice(this.Sh(a.pointerId),1);"touch"===a.pointerType&&0===this.cb.length&&this.hn()},ju:function(a){this.sn(a,T.Mb)},sn:function(a,b){"mouse"!==a.pointerType&&(a.preventDefault(),this.rn(),this.cb[this.Sh(a.pointerId)]=new jd(a.pointerId,w.yf(a),b),this.Sm())},Sm:function(){var a=
new kd,b;for(b=0;b<this.cb.length;++b)a.Vd(this.cb[b]);this.jc(a)},rn:function(){var a;for(a=0;a<this.cb.length;++a)this.cb[a]=new jd(this.cb[a].id(),this.cb[a].location().oa,T.Mb)},Sh:function(a){var b;for(b=0;b<this.cb.length;++b)if(this.cb[b].id()===a)return b;return-1},hn:function(){function a(a){a.preventDefault()}var b=this;b.a.N.s.canvas.addEventListener("contextmenu",a);window.setTimeout(function(){b.a.N.s.canvas.removeEventListener("contextmenu",a)},500)}};var ld;
ld=function(a){this.zb=this.gb=l;if(!a)a=T.Oa;this.Yg(a)};
ld.prototype={type:function(){this.gb===l&&g(Error("Unexpected call. Gesture data not yet assigned"));return this.gb.type()},Yg:function(a){if(!(this.gb!==l&&this.type()===a))switch(a){case T.Nb:this.gb=new md;break;case T.Oa:this.gb=new nd;break;case T.Jc:this.gb=new od;break;case T.Ab:this.gb=new pd(m);break;case T.ob:this.gb=new pd(j);break;default:g(Error("Unexpected gesture type"))}},data:s("gb"),Ea:function(){var a=new ld;if(this.gb!==l)a.gb=this.gb.Ea();a.zb=this.zb;return a}};var T;
T={Mb:1,bb:2,nb:4,Gf:8,Rk:16,nh:5,Oa:0,Jc:1,Nb:2,Ab:3,ob:4,Ic:0,Ff:1,lr:2,Ef:4,Pk:8,Qk:16,aA:255,ab:0,se:5,te:10};T.Na=T.te;T.ue=11;T.Lb=12;T.yb=13;T.Tq=T.yb;var qd;qd=function(){this.Cj=this.vf=this.Yz=this.ih=this.oh=this.eh=m};var rd;rd=function(){this.Oc=[]};
rd.prototype={Ko:function(a,b){WebvisuLogger.R("Record GesturesTouchEvent");this.empty()||!this.Ht(a)||!b?this.Oc.push(a):this.Oc[this.Oc.length-1]=a},Ux:function(a,b){WebvisuLogger.R("Replay");for(var c;"undefined"!==typeof(c=this.Oc.shift());)a.nf(c,b)},empty:function(){return 0===this.Oc.length},Ht:function(a){var b=this.Oc[this.Oc.length-1],c,d,e;if(a.touches().length!==b.touches().length)return m;for(c=0;c<a.touches().length;++c)if(d=a.touches()[c],e=b.touches()[c],d.id()!==e.id()||d.Yb()!==
e.Yb()||d.v(T.bb)||d.v(T.nb))return m;return j}};var jd;jd=function(a,b,c){this.Yh=a;this.ua=c;this.Me=new sd(b)};jd.prototype={id:s("Yh"),location:s("Me"),Yb:s("ua"),rg:function(a){this.ua|=a},v:function(a){return(this.ua&a)===a}};var kd;kd=function(){this.ba=[];this.rv=B.W()};kd.prototype={touches:s("ba"),Vd:function(a){this.ba.push(a)},timeStamp:s("rv")};var sd;sd=function(a){this.oa=a;this.pm=l};sd.prototype={kf:s("pm"),wy:r("pm")};var V;
V={ej:function(a,b){var c=0<b.touches().length,d,e;a.data().$v();for(d=0;d<b.touches().length;++d)e=b.touches()[d],a.data().Vd(e.id(),e.location().oa,e.Yb()),e.v(T.bb)||(c=m);return c},Nv:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(a.touches()[c].v(b))return j;return m},Wd:function(a,b){var c;for(c=0;c<a.touches().length;++c)if(!a.touches()[c].v(b))return m;return j},rw:function(a){var b=T.Pk|T.Qk;1===a.touches().length?b|=T.Ff|T.Ef:2===a.touches().length&&(b|=T.lr);return b},hf:function(a){return a===
T.Ab||a===T.ob}};var td;td={Sk:40};var Ab;Ab=function(a){var b=this;this.a=a;this.Ll=new id(a);this.Ll.register(function(a){b.jc(a)});this.rb=l;this.pa=new ud;this.o=new vd;this.Uc=new wd(a.i);this.wi=-1;this.an("none");this.oc=new xd;this.Ai=j};
Ab.prototype={cj:function(){this.an("auto");this.Ll.cj()},uj:function(a){this.o.uj(a);if(a)this.rb=new yd(this.a.N.s.canvas,j)},vy:function(a){this.oc.Ky(a)},uy:function(a){this.oc.jy(a)},Gy:r("Ai"),Pg:function(a,b){this.a.Xb(E.Bp(a,this.a.j.O,b))},nx:function(){return this.oc.Fv()},Sy:function(){this.oc.stop()},Jw:function(a,b){var c=new qd,d;if(this.di(a,T.Pk)&&this.pa.Fw(b))c.Cj=j;else if(this.di(a,T.Qk)&&this.pa.Mv(b))c.vf=j;else if(this.di(a,T.Ff|T.Ef))d=[],this.pa.Yv(b,d),c.oh=d[0],c.ih=d[1];
c.eh=!this.Pr();return c},fj:function(a,b,c){if(a>=T.te&&a<=T.Tq)if(b.type()===T.Oa||b.type()===T.Jc){if(this.Xs(a,b,b.zb,c))return j}else if(this.Gt(b.type())&&this.Ys(a,b,b.zb))return j;return m},Ev:function(){this.o.ow();!this.o.mj()&&this.Uc.buffer().empty()&&this.o.wj(m)},an:function(a){this.a.N.s.canvas.style.touchAction=a},Pr:function(){return this.o.mj()?(this.o.wj(j),m):j},di:function(a,b){return(a&b)==b},Gt:function(a){return a===T.Nb||V.hf(a)},lm:function(a){return a===T.ob},Xs:function(a,
b,c){var d=Y.wf;if(a===T.Na){c=this.pa.ao(b);if(c===l)return j;b.zb=c;this.iv(c);this.o.gx()}else if(a===T.yb||a===T.Lb)if(c!==l&&(b.type()!==T.Oa||!this.oc.start(this.a.N,c,this.rb,b,this)))this.Ml(d,b,c),this.Pm(b,c);if(c!==l){if(b.type()===T.Jc||b.type()===T.Oa)d=b.data().Hn(c,a,this);Y.be(d,Y.Ej)&&(d=Y.Ib(d,Y.Rj))}a!==T.Lb&&(this.Ml(d,b,c),this.rb.Co(this.a.N,c));return m},ox:function(a,b){var c=b.info().scroll().Ih.ub(b.info().scroll().ta);this.Pm(a,b);this.Pg(G.hh,c)},Ys:function(a,b,c){if(a===
T.Na){c=this.pa.ao(b);if(c===l&&!this.lm(b.type()))return j;b.zb=c;V.hf(b.type())&&this.qi(b,c)}else if(c!==l||this.lm(b.type()))V.hf(b.type())?this.qi(b,c):(a===T.yb||a===T.Lb)&&this.qi(b,c);return m},qi:function(a,b){this.El(a.data().createEvent(this.a.j.O,b))},El:function(a){this.a.Xb(a)},Pm:function(a,b){var c=a.data().createEvent(this.a.j.O,b);c.Ec=b.P;this.El(c)},iv:function(a){a.info().zoom().Tg(1);a.info().scroll().Bc(new z(0,0));this.a.da.o.Ie||this.rb.Vv(this.a.N,a.P)},Ml:function(a,b,c){Y.be(a,
Y.nq)&&this.ns(a,b,c);Y.v(a,Y.uh)&&(c.info().zoom().Tg(c.info().zoom().Y.Ta),this.wr(b,c));Y.v(a,Y.th)&&c.info().zoom().Tg(c.info().zoom().Y.Sa)},wr:function(a,b){this.vm(Y.nd|Y.od,b)},ns:function(a,b,c){b.type()===T.Jc?this.vm(a,c):b.type()===T.Oa&&this.Pt(a,c)},vm:function(a,b){var c=b.Wn(),d=b.info().zoom(),e;Y.v(a,Y.pe)?d.he(new z(d.Qb.b+c.e,d.Qa.c)):Y.v(a,Y.nd)&&(e=d.Qb.b-(1-d.mc)*d.Qb.b,d.he(new z(e,d.Qa.c)),b.info().scroll().Bc(new z(d.Qa.b-d.Qb.b,b.info().scroll().ta.c)));Y.v(a,Y.qe)?d.he(new z(d.Qa.b,
d.Qb.c+c.g)):Y.v(a,Y.od)&&(e=d.Qb.c-(1-d.mc)*d.Qb.c,d.he(new z(d.Qa.b,e)),b.info().scroll().Bc(new z(b.info().scroll().ta.b,d.Qa.c-d.Qb.c)))},Pt:function(a,b){b.uo(a)},jc:function(a){var b=this.a.i;if(!(b===l||!this.o.hm||!b.TouchHandlingActive)){b.DebugOnlyPrintRawTouches&&this.Bs(a);this.Sr(a);if(this.rb===l)this.rb=new yd(this.a.N.s.canvas,m);this.o.ti?(this.Uc.buffer().Ko(a,j),this.bn()):this.Uc.nf(a,this)&&(this.o.ti&&this.Uc.buffer().Ko(a,j),this.Uc.buffer().empty()||this.bn())}},Sr:function(a){V.Wd(a,
T.nb)?this.a.ni.Yo(j):V.Wd(a,T.bb)&&this.a.ni.Yo(m)},bn:function(){if(-1===this.wi){var a=this;this.wi=window.setTimeout(function(){a.lu()},100)}},lu:function(){this.wi=-1;this.Uc.buffer().Ux(this.Uc,this);this.o.wj(m)},Bs:function(a){var b,c,d,e,f;c=B.aa("Touches ({0}): ",a.touches().length);for(b=0;b<a.touches().length;++b)d=a.touches()[b],e="D",f="",d.v(T.Mb)?e="M":d.v(T.bb)&&(e="U"),d.v(T.Gf)&&(f="P"),c+=B.aa("[{0}{1}{2} ({3}/{4})] ",f,e,d.id(),d.location().oa.b,d.location().oa.c);WebvisuLogger.ke(c)}};
var xd;xd=function(){this.jb=-1;this.eb=this.va=this.rb=this.N=this.Yc=l;this.dn=0;this.Pf=1};
xd.prototype={start:function(a,b,c,d,e){this.N=a;this.Yc=b;this.rb=c;this.va=d.Ea();this.eb=e;var f=this;this.jb=window.setInterval(function(){f.jc()},td.Sk);return-1!==this.jb},stop:function(){if(-1!==this.jb)window.clearInterval(this.jb),this.eb.ox(this.va,this.Yc),this.jb=-1,this.va=this.rb=this.N=this.Yc=l},Fv:function(){return-1!==this.jb},Ky:r("dn"),jy:r("Pf"),jc:function(){var a=this.Yc.info().scroll();1>Math.abs(a.Ba.b)&&1>Math.abs(a.Ba.c)?this.stop():(a.Ba.Po(1-this.Pf),a.Ba.b=B.ok(a.Ba.b),
a.Ba.c=B.ok(a.Ba.c),a.ta.Hb(a.Ba),a=this.Yc.Xi(),this.Yc.uo(a),Y.v(a,Y.Rj)||Y.v(a,Y.oq)&&Y.v(a,Y.pq)?this.stop():this.rb.Co(this.N,this.Yc))}};var yd;yd=function(a,b){if(!b)this.zi=this.vl(a.width,a.height),this.Du=this.ds()};
yd.prototype={Co:function(a,b){var c=a.s;c.save();a.a.da.o.Ie?b.info().sj(0)!==l&&this.Do(a,b):(this.wu(c,b),this.xu(c,b));c.restore()},wu:function(a,b){var c=b.P.e,d=b.P.g,e=b.P.l()+1,f=b.P.k()+1;a.fillStyle=this.Du;a.fillRect(c,d,e,f)},xu:function(a,b){var c=b.P.e,d=b.P.g,e=b.P.l()+1,f=b.P.k()+1;a.beginPath();a.rect(c,d,e,f);a.clip();this.on(a,b,l);a.drawImage(this.zi,c,d,e,f,c,d,e,f)},Do:function(a,b){var c,d,e=a.s;c=b.P.e;var f=b.P.g;d=b.P.l()+1;var h=b.P.k()+1;e.beginPath();e.rect(c,f,d,h);e.clip();
for(f=0;f<b.info().Vb.length;++f)if(c=b.info().sj(f),c!==l)d=a.Ua.Rg(c.bg),d=d.De.canvas,e.save(),this.on(e,b,c),e.drawImage(d,0,0),e.restore()},on:function(a,b,c){a.translate(b.info().zoom().Qa.b,b.info().zoom().Qa.c);a.scale(b.info().zoom().mc,b.info().zoom().mc);a.translate(-b.info().zoom().Qa.b,-b.info().zoom().Qa.c);a.translate(c===l||!c.ii?b.info().scroll().ta.b:0,c===l||!c.ji?b.info().scroll().ta.c:0);c!==l&&a.translate(b.P.e-c.Hb().b,b.P.g-c.Hb().c)},Vv:function(a,b){var c=this.zi.getContext("2d");
c.drawImage(a.na.canvas,b.e,b.g,b.l(),b.k(),b.e,b.g,b.l(),b.k());c.drawImage(a.s.canvas,b.e,b.g,b.l(),b.k(),b.e,b.g,b.l(),b.k())},vl:function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c},ds:function(){var a=this.vl(8,8),b=a.getContext("2d");b.fillStyle="#fff";b.fillRect(0,0,a.width,a.height);b.eB="#000";b.lineWidth=1;b.beginPath();b.moveTo(b.lineWidth/2,a.height);b.lineTo(b.lineWidth/2,b.lineWidth/2);b.lineTo(a.width,b.lineWidth/2);b.stroke();b.closePath();return this.zi.getContext("2d").createPattern(a,
"repeat")}};var vd;vd=function(){this.ti=this.hm=m;this.Zh=0;this.Ie=m};vd.prototype={qy:r("hm"),wj:r("ti"),gx:function(){this.Zh++},ow:function(){this.Zh--},mj:function(){return 0<this.Zh},uj:r("Ie")};var Y;Y={wf:0,uh:1,th:2};Y.Uz=Y.uh|Y.th;Y.pe=4;Y.qe=8;Y.nd=16;Y.od=32;Y.nq=Y.pe|Y.qe|Y.nd|Y.od;Y.oq=Y.pe|Y.nd;Y.pq=Y.qe|Y.od;Y.Rj=65536;Y.Jj=131072;Y.Kj=262144;Y.Hj=524288;Y.Ij=1048576;Y.Mj=2097152;Y.Lj=4194304;Y.Fj=Y.Jj|Y.Hj;Y.Gj=Y.Kj|Y.Ij;Y.dh=Y.Fj|Y.Gj;Y.sp=Y.Mj|Y.Lj;Y.Ej=Y.sp|Y.dh;
Y.Ib=function(a,b){return a|b};Y.Ox=function(a){return a&~Y.dh};Y.v=function(a,b){return(a&b)===b};Y.be=function(a,b){return 0!==(a&b)};var wd;wd=function(a){var b;this.t=new rd;this.Te=[];this.Te[0]=new zd;for(b=1;b<T.nh;++b)this.Te[b]=new Ad;this.Wm();this.Di=new Bd(a);this.o=new Cd;this.Gd=new Dd;this.Ke=l;this.zs=a.DebugOnlyPrintGestures};
wd.prototype={nf:function(a,b){return 1>a.touches().length||a.touches().length>T.nh?m:this.os(a,b)},Jt:function(a){return!this.Gd.Hd.vf&&V.Wd(a,T.nb)},nm:function(a,b){return!b.nx()&&!this.Gd.Hd.vf&&V.Wd(a,T.bb)},os:function(a,b){var c=new ld,d,e=m;this.Ls(a);this.Or(a,b)&&(this.Jt(a)&&this.st(a,b),(this.o.S.state()===T.Na||this.o.S.state()===T.ue)&&this.Rs(a,b),this.o.Mo(),this.Wm(),this.Gd.Hd.Cj&&this.o.S.va.Yg(T.Ab));if(this.o.S.va.type()!=T.Ab&&(d=a.touches().length-1,d=this.Te[d].nf(this,a,c),
d===T.se||d>=T.te)){if(d>=T.te)return this.Ke!==l?(this.nm(a,b)&&b.Pg(G.hh,a.touches()[0].location().oa),this.Re(this.Ke.state(),this.Ke.va,a,b),this.Ke=l,this.Re(d,c,a,b)):(this.Re(d,c,a,b),this.nm(a,b)&&b.Pg(G.hh,a.touches()[0].location().oa)),j;this.o.S.assign(d,c);this.o.S.Gn(a);e=j}if(!e)return this.Gd.Hd.eh||(d=this.is(c,a),this.Re(d,c,a,b)),j;this.Kh(T.ab,c);return m},st:function(a,b){b.Sy();b.Pg(G.$p,a.touches()[0].location().oa)},buffer:s("t"),ix:function(a,b){var c=new ld(T.ob);c.data().Vd(b,
a,T.nb|T.Gf);this.Ke=new Ed(T.Na,c)},Re:function(a,b,c,d){if(this.o.S.state()!==T.Lb){var e=this.o.S.va.zb;this.Qr(a,b);this.Kh(a,b);this.o.S.assign(a,b.Ea());b.zb=e;e={qw:m,qA:function(){d.fj(T.Lb,b)}};d.fj(a,b,e)&&(this.Kh(T.Lb,b),e.qw||d.fj(T.Lb,b),this.o.S.Xg(T.Lb));this.o.S.va.zb=b.zb;a!==T.yb&&this.o.S.Gn(c)}a===T.yb&&this.o.Mo()},Qr:function(a,b){var c,d;if(a===T.Na&&b.type()===T.ob){c=m;for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].v(T.Gf)){c=j;break}if(!c)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].v(T.nb)){this.o.S.oy(b.data().touches()[d].id());
break}}if(this.o.S.Zl)for(d=0;d<b.data().touches().length;++d)if(b.data().touches()[d].id()==this.o.S.fl){b.data().touches()[d].rg(T.Rk);break}},is:function(a,b){var c=V.Wd(b,T.bb),d;d=this.o.S.va.type()===T.Ab?T.Ab:T.ob;a.Yg(d);V.ej(a,b);return c?T.yb:this.o.S.state()===T.Na||this.o.S.state()===T.ue?T.ue:T.Na},Wm:function(){var a;for(a=0;a<this.Te.length;++a)this.Te[a].Xg(T.ab)},Ls:function(a){var b,c;for(b=0;b<a.touches().length;++b)c=a.touches()[b],this.o.az(c)||this.o.Hv(c)||WebvisuLogger.error("Could not store touch information; probably a touch release/up was missing")},
Or:function(a,b){return this.Ft(a)?(this.Gd.Cy(b.Jw(V.rw(a),a)),j):m},Rs:function(a,b){V.hf(this.o.S.va.type())&&V.ej(this.o.S.va,a);this.Re(T.yb,this.o.S.va,a,b)},Ft:function(a){if(this.o.S.state()===T.ab)return j;if(V.hf(this.o.S.va.type()))return V.Wd(a,T.nb);if(this.o.S.$e.length!==a.touches().length)return j;var b;for(b=0;b<a.touches().length;++b)if(!this.o.S.lx(a.touches()[b].id()))return j;return m},Kh:function(a,b){if(this.zs){var c="";switch(a){case T.ab:WebvisuLogger.R("No gesture");return;
case T.se:c="Gesture (candidate); ";break;case T.Na:c="Gesture (new); ";break;case T.yb:c="Gesture (finished); ";break;case T.ue:return;case T.yb:c="Gesture (finished); ";break;case T.Lb:c="Gesture (cancelled); "}c+=b.data().yg();WebvisuLogger.R(c)}}};var Fd;Fd=function(){this.T=T.ab;this.va=new ld;this.$e=[];this.Zl=m;this.fl=-1};
Fd.prototype={state:s("T"),Xg:r("T"),oy:function(a){this.Zl=j;this.fl=a},assign:function(a,b){this.T=a;this.va=b},Gn:function(a){var b;this.$e=[];for(b=0;b<a.touches().length;++b)this.$e.push(a.touches()[b].id())},lx:function(a){var b;for(b=0;b<this.$e.length;++b)if(this.$e[b]===a)return j;return m}};var Dd;Dd=function(){this.jA=m;this.Hd=l};Dd.prototype={Cy:r("Hd")};var Ed;Ed=function(a,b){this.T=a;this.va=b};Ed.prototype={state:s("T")};var Cd;Cd=function(){this.Sc=[];this.S=new Fd};
Cd.prototype={az:function(a){var b;for(b=0;b<this.Sc.length;++b)if(this.Sc[b].id===a.id())return a.location().wy(this.Sc[b].kf),a.v(T.bb)?this.Sc.splice(b,1):this.Sc[b].kf=a.location().kf(),j;return m},Hv:function(a){if(!a.v(T.nb))return j;if(this.Sc.length===T.nh)return m;this.Sc.push({id:a.id(),kf:a.location().oa});return j},Mo:function(){this.S=new Fd}};var Bd;Bd=function(a){this.Vs=a.GesturesFlickPanThresholdPxPerSecond;this.zu=a.GesturesPanFlickTimeThresholdMs;this.yu=a.GesturesPanClickThresholdDistSquare};
Bd.prototype={bq:s("Vs"),qq:s("zu")};var md;md=function(a){a===i&&(a=new z(0,0));this.wa=a;this.La=new z(0,0);this.Sd=0};
md.prototype={type:function(){return T.Nb},Ea:function(){var a=new md(this.wa);a.bf(this);return a},yg:function(){return B.aa("Flick: start({0}), overall move({1}), velocity {2}",B.Fc(this.wa),B.Fc(this.La),this.Sd)},createEvent:function(a,b){var c=new E(G.Kp,a,b.id(),0),d,e;d=I.n(12);e=N.n(d,j);e.r(this.wa.yc());e.r(this.La.yc());e.r(this.Sd);c.ya(d);return c},bf:function(a){this.wa=a.wa;this.La=a.La;this.Sd=a.Sd},start:s("wa"),Py:r("Sd"),zj:function(a){this.La=a.Cc(this.wa)}};var pd;
pd=function(a){this.af=a;this.ba=[]};
pd.prototype={type:function(){return this.af?T.ob:T.Ab},touches:s("ba"),$v:function(){this.ba=[]},Vd:function(a,b,c){a=new jd(a,b,c);if(a.v(T.bb)||a.v(T.nb))this.iA=j;this.ba.push(a)},Ea:function(){var a=new pd(this.af);a.ba=this.ba.slice(0);return a},yg:function(){var a="",b="",c,a=this.af?"TouchToMouse":"IEC-Touches";for(c=0;c<this.ba.length;++c)if(2>c)b+=B.aa("[{0}, {1}]({2}) ",c,this.ba[c].Yb(),B.Fc(this.ba[c].location().oa));else{b+="...";break}return B.aa("{0} ({1}): {2}",a,this.ba.length,b)},
createEvent:function(a,b){var c,d=c=0,e,f,h,k,p=j,n;this.af||(c=b.id());d=this.ba.length;n=this.af?G.Pp:G.Lp;e=I.n(8*this.ba.length);f=N.n(e,j);for(h=0;h<this.ba.length;++h){f.r(this.ba[h].location().oa.yc());k=255&this.Rt(this.ba[h]);this.ba[h].v(T.Mb)||(p=m);if(this.ba[h].v(T.Gf)||this.ba[h].v(T.Rk))k|=256;k|=(this.ba[h].id()&65535)<<16>>>0;f.r(k)}p&&n++;c=new E(n,a,c,d);c.ya(e);return c},Rt:function(a){return a.v(T.Mb)?2:a.v(T.bb)?3:a.v(T.nb)?1:0}};var nd;
nd=function(a){a===i&&(a=new z(0,0));this.wa=a;this.La=new z(0,0);this.Ba=new z(0,0);this.um=0};
nd.prototype={type:function(){return T.Oa},Ea:function(){var a=new nd(this.wa);a.bf(this);return a},bf:function(a){this.wa=a.wa;this.La=a.La;this.Ba=a.Ba},Hn:function(a,b,c){var d=a.info().scroll(),e=this.wa.ub(this.La);b===T.Na&&d.hy(this.wa);b=this.Ot(this.Ba,c,a);c.Ai||a.P.fw(e.b)?(d.fy(this.La.b),d.Uo(b.b)):d.Uo(0);c.Ai||a.P.gw(e.c)?(d.gy(this.La.c),d.Vo(b.c)):d.Vo(0);return a.Xi()},Ot:function(a,b,c){c=c.P.size().scale(b.oc.dn);b=new z(c.I*b.oc.Pf,c.J*b.oc.Pf);return new z(Math.max(-b.b,Math.min(b.b,
a.b)),Math.max(-b.c,Math.min(b.c,a.c)))},yg:function(){return B.aa("Pan: start({0}), overall move({1})",B.Fc(this.wa),B.Fc(this.La))},createEvent:function(a,b){var c=new E(G.Np,a,b.id(),0),d,e;d=I.n(8);e=N.n(d,j);e.r(b.info().scroll().Ih.yc());e.r(b.info().scroll().ta.yc());c.ya(d);return c},start:s("wa"),zj:function(a){this.La=a.Cc(this.wa)},$y:function(a,b){var c=b-this.um;1.0E-6>c&&(c=1);this.um=b;this.Ba=a.Yx(td.Sk/c)}};var od;
od=function(){this.Gi=new z(0,0);this.nl=new z(0,0);this.su=1;this.ig=this.ng=0};
od.prototype={type:function(){return T.Jc},Ea:o(),yg:t("SpreadPinch: "),Hn:function(a,b){var c=a.info().zoom(),d=a.info().scroll();b===T.Na&&c.he(this.Gi);c.he(this.nl);c.Tg(this.su);c.Ly(this.ng);c.Fy(this.ig);d.Bc(this.nl.Cc(this.Gi));c=a.Xi();Y.be(c,Y.dh)&&this.It(a)&&(c=Y.Ox(c));return c},createEvent:function(a,b){var c=new E(G.Op,a,b.id(),0),d,e,f,h;h=b.info().zoom();d=I.n(16);e=N.n(d,j);e.r(h.Qa.yc());e.r(h.Qb.yc());e.r(65536*h.mc);f=65536*(h.ng/2/Math.PI);h=65536*(h.orientation()/2/Math.PI);
e.r(f|h<<16);c.ya(d);return c},It:function(a){return 400>a.info().scroll().nw.dj(new z(0,0))}};var Ad;Ad=o();Ad.prototype={nf:function(){return T.ab},state:function(){return T.ab},Xg:o()};var zd;zd=function(){this.T=T.ab;this.Ii=0;this.jv=this.Pa=this.Ld=this.Md=l;this.lc=-1};
zd.prototype={nf:function(a,b,c){var d,e=a.Gd.Hd;if(V.Nv(b,T.bb)){if(this.T===T.se)this.Pa=T.Ic,this.lc=T.ob,this.Ct(a,b);this.T=this.Lr()}else switch(d=b.touches()[0].location(),this.T){case T.ab:if(e.eh)return T.ab;e.vf?(this.Pa=T.Ic,this.lc=T.ob,this.T=T.Na):e.oh||e.ih?(this.Pa=T.Ic,e.oh&&(this.Pa|=T.Ff),e.ih&&(this.Pa|=T.Ef),this.T=T.se):(this.Pa=T.Ic,this.lc=T.ob,this.T=T.Na);this.xt(b);break;case T.se:if(d=d.oa.dj(d.kf())>a.Di.yu)this.Pa===T.Ff?this.eg(b,T.Oa):this.Pa===T.Ef?this.eg(b,T.Nb):
(d=b.timeStamp()-this.Ii>a.Di.qq)&&(this.Ld.Sd<a.Di.bq?this.eg(b,T.Oa):this.eg(b,T.Nb));break;default:this.qn(b),this.T=T.ue}if(this.T>=T.te)switch(c.Yg(this.lc),this.lc){case T.Oa:c.data().bf(this.Md);break;case T.Nb:c.data().bf(this.Ld);break;case T.Ab:case T.ob:V.ej(c,b);break;default:g(Error("unexpected"))}return this.T},state:s("T"),Xg:r("T"),xt:function(a){a=a.touches()[0].location().oa;this.Ii=B.W();this.Ld=new md(a);this.Md=new nd(a);this.jv=a},eg:function(a,b){this.qn(a);this.Pa=T.Ic;this.lc=
b;this.T=T.Na},Ct:function(a,b){a.ix(b.touches()[0].location().oa,b.touches()[0].id())},qn:function(a){var b=a.touches()[0].location().oa,c;if(this.lc===T.Oa||this.Pa!==T.Ic)this.Md.$y(b.Cc(this.Md.start().ub(this.Md.La)),a.timeStamp()),this.Md.zj(b);if(this.lc===T.Nb||this.Pa!==T.Ic)c=this.Ld.start().vw(b),a=a.timeStamp()-this.Ii,1.0E-6>a&&(a=10),this.Ld.Py(1E3*(c/a)),this.Ld.zj(b)},Lr:function(){return this.T===T.ab?T.ab:T.yb}};var Qc;Qc=function(a,b,c){this.Yh=a;this.P=b;this.ua=c;this.Sb=new Gd};
Qc.prototype={id:s("Yh"),Yb:s("ua"),rg:function(a){this.ua|=a},v:function(a){return(this.ua&a)===a},info:s("Sb"),Xd:function(a){return a.b>=this.P.e&&a.b<=this.P.w&&a.c>=this.P.g&&a.c<=this.P.B},kg:function(a,b,c,d){if(!Y.be(d,Y.Ej)){var e=Math.abs(b.b-c.b),b=Math.abs(b.c-c.c);if(Y.be(a,Y.Fj)&&e>b||Y.be(a,Y.Gj)&&b>e)d=Y.Ib(d,a)}return d},Xi:function(){var a=Y.wf,b=this.Sb.zoom(),c=this.Sb.scroll(),d=b.mc,e=c.ta,f=this.Wn();d<b.Y.Ta&&(a=Y.Ib(a,Y.uh),a=Y.Ib(a,Y.Mj));d>b.Y.Sa&&(a=Y.Ib(a,Y.th),a=Y.Ib(a,
Y.Lj));e.b<f.e&&(a=Y.Ib(a,Y.pe),a=this.kg(Y.Jj,e,c.Y.Ta,a));e.c<f.g&&(a=Y.Ib(a,Y.qe),a=this.kg(Y.Kj,e,c.Y.Ta,a));e.b>f.w&&(a=Y.Ib(a,Y.nd),a=this.kg(Y.Hj,e,c.Y.Sa,a));e.c>f.B&&(a=Y.Ib(a,Y.od),a=this.kg(Y.Ij,e,c.Y.Sa,a));return a},uo:function(a){var b=this.info().scroll(),c=b.Y;Y.v(a,Y.pe)&&b.Bc(new z(c.Ta.b,b.ta.c));Y.v(a,Y.qe)&&b.Bc(new z(b.ta.b,c.Ta.c));Y.v(a,Y.nd)&&b.Bc(new z(c.Sa.b,b.ta.c));Y.v(a,Y.od)&&b.Bc(new z(b.ta.b,c.Sa.c))},Wn:function(){var a,b;b=this.P.of().Cc(this.Sb.scroll().Y.Sa);a=
this.P.wg().Cc(this.Sb.scroll().Y.Ta);a=(new K(b.b,b.c,a.b,a.c)).Wv(this.Sb.zoom().Qa,this.Sb.zoom().mc);b=this.P.of().Cc(a.of());a=this.P.wg().Cc(a.wg());a=new K(b.b,b.c,a.b,a.c);b=a.wg().min(this.Sb.scroll().Y.Ta);a=a.of().min(this.Sb.scroll().Y.Sa);return new K(b.b,b.c,a.b,a.c)}};var Rc;Rc={wf:0,Lk:1,nr:3,Ez:4,ik:8,Ok:16,Uk:32,Kk:64,wq:128};var Gd;Gd=function(){this.Dv=new Hd;this.Xu=new Id;this.Xr=new K(0,0,0,0);this.Vb=[]};
Gd.prototype={zoom:s("Dv"),scroll:s("Xu"),ey:r("Xr"),sj:function(a){return this.Vb.length>a?(a=this.Vb[a],"undefined"!==typeof a?a:l):l},cp:function(a,b){this.Vb[a]=b},jx:function(a){for(var b=0;b<this.Vb.length;++b)if("undefined"===typeof this.Vb[b]||this.Vb[b]!==l&&this.Vb[b].bg===a)this.Vb[b]=l}};var Id;Id=function(){this.Y=new Jd;this.Ih=new z(0,0);this.ta=new z(0,0);this.Ba=new z(0,0)};
Id.prototype={hy:r("Ih"),nw:s("ta"),Bc:r("ta"),fy:function(a){this.ta.b=a},gy:function(a){this.ta.c=a},Uo:function(a){this.Ba.b=a},Vo:function(a){this.Ba.c=a}};var Hd;Hd=function(){this.Y=new Ud;this.Qa=new z(0,0);this.Qb=new z(0,0);this.mc=1;this.ig=this.ng=0};Hd.prototype={he:r("Qa"),Tg:r("mc"),Ly:r("ng"),orientation:s("ig"),Fy:r("ig")};var Sc;Sc=function(a,b,c,d){this.bg=a;this.ii=b;this.ji=c;this.oi=d};Sc.prototype={Hb:s("oi")};var ud;ud=function(){this.C=[]};
ud.prototype={ao:function(a){var b,c;switch(a.type()){case T.Jc:c=Rc.nr;break;case T.Oa:c=Rc.Lk;break;case T.Nb:c=Rc.ik;break;case T.Ab:c=Rc.Ok;break;default:c=0}for(b=0;b<this.C.length;++b)if(this.C[b].v(c)&&(a.type()===T.Jc&&this.C[b].Xd(a.data().Gi)||a.type()===T.Oa&&this.C[b].Xd(a.data().start())||a.type()===T.Nb&&this.C[b].Xd(a.data().start())||a.type()===T.Ab&&this.cl(a.data().touches(),this.C[b])))return this.C[b];return l},Fw:function(a){var b;for(b=0;b<this.C.length;++b)if(this.C[b].v(Rc.Ok)&&
this.cl(a.touches(),this.C[b]))return this.C[b];return l},Mv:function(a){var b,c,d=[];for(b=0;b<this.C.length;++b)for(c=0;c<a.touches().length;++c)d[c]||this.C[b].Xd(a.touches()[c].location().oa)&&this.C[b].v(Rc.wq)&&(d[c]=j);for(c=0;c<a.touches().length;++c)if(d[c]!==j)return m;return j},Yv:function(a,b){b[0]=m;b[1]=m;if(1===a.touches().length){var c,d=a.touches()[0].location().oa,e;for(c=0;c<this.C.length&&(!this.C[c].Xd(d)||!(e=m,this.C[c].v(Rc.Lk)&&(e=b[0]=j),this.C[c].v(Rc.ik)&&(e=b[1]=j),!e));++c);
}},clear:function(){this.C=[]},Ui:function(a){this.C.unshift(a)},Yw:function(a){return this.C.length>a?this.C[a]:l},Zw:function(a){for(var b=0;b<this.C.length;++b)if(this.C[b].id()===a)return this.C[b];return l},kx:function(a){for(var b=0;b<this.C.length;++b)this.C[b].info().jx(a)},cl:function(a,b){var c;for(c=0;c<a.length;++c)if(!b.Xd(a[c].location().oa))return m;return j}};var Jd;Jd=function(){this.Ta=new z(0,0);this.Sa=new z(0,0)};Jd.prototype={Ay:r("Ta"),yy:r("Sa")};var Ud;
Ud=function(){this.Sa=this.Ta=0};Ud.prototype={By:r("Ta"),zy:r("Sa")};var ub;ub=function(a){this.a=a;this.Od=this.ud=this.Rc=m;this.li=this.Hm=this.tm=this.rm=this.ei=0;this.pc=l;this.mi=m};
ub.prototype={Ry:function(){this.Rc||this.Bt();if(this.ud)this.Hm=B.tf()},Bw:function(a){if(this.ud&&!a){a=B.tf();if(this.mi)this.ei=a-this.li,this.Od&&this.Om(this.ei,2),this.mi=m;this.tm=a-this.rm;this.rm=a;this.Od&&this.Om(a-this.Hm,1)}},vx:function(a){if(this.ud)this.li=B.tf(),this.pc=w.yf(a)},Xy:function(a){if(this.ud)this.li=B.tf(),this.pc=a},Nx:function(a){if(this.ud&&this.pc!==l&&!(this.pc.b<a.e||this.pc.b>a.w))if(!(this.pc.c<a.g||this.pc.c>a.B))this.pc=l,this.mi=j},px:function(){return Math.round(this.ei/
1E3)},qx:function(){return Math.round(this.tm/1E3)},Om:function(a,b){var c;c=new E(G.fk,this.a.j.O,b,a&4294967295);c.Iy();this.a.Xb(c)},Bt:function(){var a=this.a.i;this.ud=a.Benchmarking||a.DebugOnlyDiagnosisDisplay;this.Od=a.Benchmarking;this.Rc=j}};var Xa;Xa=function(){this.clear()};Xa.prototype={clear:function(){this.C=[]},Ui:function(a){this.C.push(a)},Pv:function(a){a.beginPath();for(var b=0;b<this.C.length;++b)a.rect(this.C[b].e,this.C[b].g,this.C[b].l(),this.C[b].k());a.clip()}};var Wb;
Wb=function(a,b){this.Cr=a;this.mg=b;this.il=[];this.zl=[];var c,d=this.sv(this.Cr);for(c=0;c<this.mg;++c){var e=Math.floor(d.Ha+(c+1)*(128-Math.floor(d.Ha/2))/this.mg);this.il[this.mg-c-1]=this.ln(d.Ma,d.ge,e,d.Si);e=Math.floor(Math.floor(d.Ha/3)+Math.floor(2*c*d.Ha/(3*this.mg)));this.zl[c]=this.ln(d.Ma,d.ge,e,d.Si)}};
Wb.prototype={Lw:function(a){return this.il[a]},co:function(a){return this.zl[a]},sv:function(a){var b={},c,d,e,f,h,k,p;e=((a&4278190080)>>24)/255;c=((a&16711680)>>16)/255;d=((a&65280)>>8)/255;a=(a&255)/255;f=Math.min(c,Math.min(d,a));h=Math.max(c,Math.max(d,a));k=h-f;b.Ha=(f+h)/2;if(0===k)b.Ma=b.ge=0;else{b.ge=0.5>b.Ha?k/(h+f):k/(2-h-f);f=((h-c)/6+k/2)/k;p=((h-d)/6+k/2)/k;k=((h-a)/6+k/2)/k;if(c===h)b.Ma=k-p;else if(d===h)b.Ma=1/3+f-k;else if(a===h)b.Ma=2/3+p-f;0>b.Ma&&(b.Ma+=1);1<b.Ma&&(b.Ma-=1)}b.Ma=
Math.round(255*b.Ma);b.ge=Math.round(255*b.ge);b.Ha=Math.round(255*b.Ha);b.Si=Math.round(255*e);return b},ln:function(a,b,c,d){var e,f;0===b?c=f=a=c:(a/=255,b/=255,c/=255,b=0.5>c?c*(1+b):c+b-c*b,e=2*c-b,c=Math.round(255*this.Wh(e,b,a+1/3)),f=Math.round(255*this.Wh(e,b,a)),a=Math.round(255*this.Wh(e,b,a-1/3)));return(d<<24)+(c<<16)+(f<<8)+a},Wh:function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}};var lb;lb=o();
lb.prototype={Lv:function(a,b){this.cv(a,b,90)},cx:function(a){return(a=this.ct(a))&&""!==a},cv:function(a,b,c){var d=new Date;d.setTime(d.getTime()+864E5*c);document.cookie=a+"="+b+"; "+("expires="+d.toUTCString())},ct:function(a){var a=a+"=",b,c,d;b=document.cookie.split(";");for(c=0;c<b.length;c++){for(d=b[c];" "==d.charAt(0);)d=d.substring(1);if(-1!=d.indexOf(a))return d.substring(a.length,d.length)}return""}};var hb;hb=function(a){this.a=a;this.Aa=[]};
hb.prototype={xg:function(a){if(this.a.i!==l&&this.a.i.DebugOnlyDiagnosisDisplay){this.xr();var b,c;b=13*this.Aa.length+3;a.save();a.strokeStyle="rgb(0,0,0)";a.fillStyle="rgb(220,220,220)";a.font="10px Arial";a.beginPath();a.rect(10,10,150,b);a.clip();a.fillRect(10,10,150,b);a.strokeRect(10,10,150,b);a.fillStyle="rgb(0,0,0)";a.textAlign="left";a.textBaseline="top";for(b=0;b<this.Aa.length;++b)c=B.aa("{0}: {1}",this.Aa[b].title,this.Aa[b].gd()),a.fillText(c,13,13+13*b);a.restore()}},xr:function(){if(0===
this.Aa.length){var a=this.a.Qd,b=this.a.N,c=this;this.Aa.push({title:"DPR",gd:function(){return b.oo()?B.aa("{0} (Changed)",w.ne()):w.ne()}});this.Aa.push({title:"Canvas-Size",gd:function(){return B.aa("{0}/{1}",b.zc().l(),b.zc().k())}});this.Aa.push({title:"Resize-Count",gd:function(){return a!==l?a.Cm:"---"}});this.Aa.push({title:"Window-Size",gd:function(){return B.aa("{0}/{1}",window.innerWidth,window.innerHeight)}});this.Aa.push({title:"DocElem-Size",gd:function(){return B.aa("{0}/{1}",document.documentElement.clientWidth,
document.documentElement.clientHeight)}});this.Aa.push({title:"Last Input Reaction (*)",gd:function(){return B.aa("{0}",c.a.Lc.px())}});this.Aa.push({title:"FPS (*)",gd:function(){return(1E3/c.a.Lc.qx()).toFixed(1)}})}}};var tb;tb=function(a){this.a=a;this.fb=l;this.Fh=this.qg=m};
tb.prototype={so:function(){return this.fb!==l},open:function(a,b){this.fb=a;this.qg=b;var c=this;this.fb.addEventListener("keydown",function(a){c.Ds(a)},m);window.document.body.appendChild(this.fb)},close:function(){this.fb!==l&&window.document.body.removeChild(this.fb);this.fb=l},Zi:function(a){var b,c,d;if(!this.Fh)c=B.qh(this.fb),b=this.fb.value.length+1,this.qg&&(b*=2),d=I.n(b),N.n(d,this.a.j.sa,this.a.gf()).Wa(this.fb.value,this.qg),b=new E(G.Rp,this.a.j.O,a?this.qg?3:1:2,0),b.ya(d),b.Ec=c.po(4),
this.a.la.push(b),a?this.Fh=j:this.close()},Wx:function(){this.Fh=m},Ds:function(a){this.fb!==l&&(27===a.keyCode?(a.preventDefault(),a.stopPropagation(),this.Zi(m)):13===a.keyCode&&this.Zi(j))}};var vb;vb=function(a){this.Jh=a.ia();this.Fd=a.gf()};vb.prototype={};var Lb;Lb=function(a){a===i&&(a=l);this.gg=a};
Lb.prototype={yr:function(){if(this.gg===l)try{this.gg=(new Configuration).gf()}catch(a){this.gg={df:t(63)}}},Yn:function(a){this.yr();a=this.gg.df(String.fromCharCode(a));return 1===a.length?a[0]:63}};var ka;ka=function(a){try{this.Au(a)}catch(b){g(Error("Parsing the fontstring '"+a+"' failed for the following reason: "+b))}};
ka.prototype={Au:function(a){var b=l,c=l,d,e=m,f=a.split(/\s+/);for(d=0;d<f.length;++d){var h=f[d];switch(h){case "normal":break;case "italic":case "oblique":break;case "small-caps":break;case "bold":case "bolder":case "lighter":case "100":case "200":case "300":case "400":case "500":case "600":case "700":case "800":case "900":break;default:if(c===l){h=h.split("/");h=B.rd(h[0]);"p"===h.charAt(h.length-2)&&"x"===h.charAt(h.length-1)&&(c=parseInt(h.substr(0,h.length-2),10));break}b=h;d<f.length-1&&(b+=
" "+f.slice(d+1).join(" "));e=j}if(e)break}b===l&&g(Error("Font Family/Name missing"));(c===l||isNaN(c))&&g(Error("Invalid or unsupported font Size"));this.qz=b;this.cq=c;this.jk=a}};var z;z=function(a,b){this.b=a;this.c=b};
z.prototype={ip:function(a){this.b-=a.b;this.c-=a.c;return this},Cc:function(a){return this.Ea().ip(a)},min:function(a){return new z(Math.min(this.b,a.b),Math.min(this.c,a.c))},max:function(a){return new z(Math.max(this.b,a.b),Math.max(this.c,a.c))},Hb:function(a){this.b+=a.b;this.c+=a.c;return this},ub:function(a){return this.Ea().Hb(a)},zx:function(a){this.b+=a.I;this.c+=a.J;return this},zo:function(a){return this.Ea().zx(a)},yc:function(){return(this.c>>>0&65535|this.b>>>0<<16)>>>0},vw:function(a){return Math.sqrt(this.dj(a))},
dj:function(a){return(this.b-a.b)*(this.b-a.b)+(this.c-a.c)*(this.c-a.c)},Ea:function(){return new z(this.b,this.c)},Po:function(a){this.b*=a;this.c*=a;return this},Yx:function(a){return this.Ea().Po(a)}};var K;K=function(a,b,c,d,e){this.e=a;this.g=b;this.w=c;this.B=d;this.mb=e!==i?e:l};
K.prototype={l:function(){return this.w-this.e},k:function(){return this.B-this.g},Nw:function(){return new z((this.e+this.w)/2,(this.g+this.B)/2)},Ea:function(){return new K(this.e,this.g,this.w,this.B,this.mb)},of:function(){return new z(this.e,this.g)},wg:function(){return new z(this.w,this.B)},Wv:function(a,b){var c=this.size().scale(b),d=this.of().ip(a),d=(new A(d.b,d.c)).scale(b),d=a.zo(d),c=d.zo(c);return new K(d.b,d.c,c.b,c.c)},size:function(){return new A(this.l(),this.k())},ub:function(a,
b){return new K(this.e+a,this.g+b,this.w+a,this.B+b,this.mb)},po:function(a){return new K(this.e-a,this.g-a,this.w+a,this.B+a,this.mb)},Bg:function(a){return this.e===a.e&&this.g===a.g&&this.w===a.w&&this.B===a.B},normalize:function(){var a;if(this.e>this.w)a=this.w,this.w=this.e,this.e=a;if(this.g>this.B)a=this.B,this.B=this.g,this.g=a},wx:function(){var a=this.Ea();a.normalize();return a},fw:function(a){return a>=this.e&&a<=this.w},gw:function(a){return a>=this.g&&a<=this.B}};var Bb;
Bb=function(a){this.a=a;this.ze=l;this.Fl=m;this.Cm=0;this.Dm=w.ne()};
Bb.prototype={Qv:function(){var a=this;this.ze=function(){a.mu()};window.addEventListener("resize",this.ze,m)},detach:function(){if(this.ze!==l)window.removeEventListener("resize",this.ze,m),this.ze=l},mu:function(){var a=w.ne(),b=this.Fl?a:1;if(a!==this.Dm)this.Fl=j,this.Dm=b=a,this.a.N.xx();this.Cm++;this.a.N.Zn(b);this.j!==l&&this.i!==l&&this.a.ly(E.Wj(this.a.j.O,this.a.i.BestFit,this.a.i.BestFitForDialogs,this.a.i.ScaleTypeIsotropic,this.a.N.zc()))}};var A;A=function(a,b){this.I=a;this.J=b};
A.prototype={scale:function(a){return new A(this.I*a,this.J*a)}};var xb;xb=function(a,b){function c(){d.Cx();d.jb=window.setTimeout(c,e)}this.Z=a;this.Db=b;this.kA=0;this.Db.clear();this.Mt=B.W();this.qb=l;var d=this,e=w.Jk()?400:50;this.jb=window.setTimeout(c,e)};
xb.prototype={close:function(){this.Db.clear();window.clearInterval(this.jb)},Cx:function(){var a=this.Db.s,b=this.Db.zc(),c=2*Math.PI/6,d=(2*Math.PI-5*c)/5,e=250/3,f=10+e,h=2*Math.PI*(B.W()-this.Mt)/6E3,k=1;a.save();if(250>b.l()||250>b.k())k=0.9*Math.min(b.l()/250,b.k()/250);a.scale(k,k);a.translate(Math.max(5,(b.l()-250)/2),Math.max(5,(b.k()-250)/2));a.strokeStyle="#a90018";a.lineWidth=4;a.strokeRect(0,0,250,250);a.fillStyle="#f4f4f4";a.fillRect(0,0,250,250);for(b=0;5>b;++b)a.save(),a.translate(125,
f),a.rotate(h+b*(c+d)),this.xs(a,c,e,"#cd001c"),a.restore();this.qb===l&&this.hs(a,250);a.font=this.qb;a.textAlign="center";a.textBaseline="bottom";a.fillStyle="#000000";a.fillText(this.Z,125,2750/12);a.restore()},hs:function(a,b){var c=40;for(a.font=this.dm(c);2<c&&a.measureText(this.Z).width>=0.95*b;)c-=2,a.font=this.dm(c);this.qb=a.font},dm:function(a){return"italic "+a+"px Arial"},xs:function(a,b,c,d){var e=0.9*c;a.beginPath();a.moveTo(0,-c);a.arc(0,0,c,-Math.PI/2,b-Math.PI/2,m);a.lineTo(Math.sin(b)*
e,-(Math.cos(b)*e));a.arc(0,0,e,b-Math.PI/2,-Math.PI/2,j);a.lineTo(0,-c);a.closePath();a.strokeStyle=d;a.fillStyle=a.strokeStyle;a.stroke();a.fill()}};var ab;ab=function(a){this.Db=a;this.Xe=[]};ab.prototype={clear:function(){this.Xe=[]},cf:function(){return this.Xe.length},l:function(a){return this.Xe[a].b},k:function(a){return this.Xe[a].c},Iv:function(a){a=C.Dc(this.Db.getContext(),a,j);this.Xe.push(new z(a,B.kd(this.Db)))}};var gb;gb=function(a){this.Db=a;this.Nd=[]};
gb.prototype={clear:function(){this.Nd=[]},cf:function(){return this.Nd.length},$w:function(a){return this.Nd[a]},Jv:function(a){this.Nd.push(a.length+1);var b,c;for(b=1;b<=a.length;b++)c=C.Dc(this.Db.getContext(),a.substring(0,b),j),this.Nd.push(c);this.Nd.push(B.kd(this.Db))}};var Pc;Pc=function(){this.xm=this.ym=this.zm=this.Am=this.Il=this.Jl=this.pb=l};Pc.nz=function(a){var b=new Pc;b.pb=a;return b};Pc.yp=function(a,b,c,d,e,f){var h=new Pc;h.xm=a;h.ym=b;h.zm=c;h.Am=d;h.Il=e;h.Jl=f;return h};
Pc.prototype={vg:function(a,b){this.pb!==l?this.Uu(a,b):this.vr(a)},Uu:function(a,b){a.translate(b.e,b.g);a.rotate(this.pb);a.translate(-b.e,-b.g)},vr:function(a){a.transform(this.xm,this.ym,this.zm,this.Am,this.Il,this.Jl)}};var Wa;Wa={qk:function(a){if(a!==l){if("false"===a.toLowerCase())return m;if("true"===a.toLowerCase())return j}return l},nk:function(a){a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return a===l?l:a[1]}};
Wa.eq=function(){var a=Wa.nk("WorkaroundDisableDPRBasedZoom");return a!==l?Wa.qk(a):m};var B;B=o();B.Xt=function(){var a=window.performance||{};a.now=function(){return a.now||a.VB||a.lB||a.mB||a.kB||function(){return(new Date).getTime()}}();return a.now()};B.kk=function(a){var b=window.location,c;c=b.pathname.lastIndexOf("/");-1!=c&&(a=b.pathname.substr(0,c+1)+a,"/"===a[0]&&(a=a.substr(1)));return b.protocol+"//"+b.host+"/"+a};B.W=function(){return(new Date).getTime()};
B.tf=function(){return 1E3*B.Xt()};B.wp=function(a,b){var c,d;d=a;c=a.indexOf("px");-1!==c&&(d=a.slice(0,c),c=d.lastIndexOf(" "),c=-1!==c?d.slice(c,d.length):d,d=a.replace(c,b));return d};B.kd=function(a){return B.kh(a.F().Fe)};B.kh=function(a){return 1.15*a};B.qh=function(a){var b=0,c=0,d=a;do b+=d.offsetLeft,c+=d.offsetTop;while((d=d.offsetParent)!==l);return new K(b,c,b+a.offsetWidth,c+a.offsetHeight)};
B.re=function(a,b){var c;c=b instanceof K?new z(b.e,b.g):b;a.style.position="absolute";a.style.left=Math.floor(c.b)+"px";a.style.top=Math.floor(c.c)+"px";if(b instanceof K)a.style.width=Math.floor(b.l())+"px",a.style.height=Math.floor(b.k())+"px"};B.aa=function(){var a=arguments,b,c;if(0===a.length)return"";b=a[0];for(a=1;a<arguments.length;a++)c=RegExp("\\{"+(a-1)+"\\}","gi"),b=b.replace(c,arguments[a]);return b};B.Cq=function(a){return B.aa("{0}/{1} {2}/{3}",a.e,a.g,a.w,a.B)};
B.Fc=function(a){return B.aa("{0}/{1}",a.b,a.c)};B.Xz=function(a){return B.aa("{0}/{1}",a.I,a.J)};B.Gp=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};B.rd=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};B.Sj=function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};B.ok=function(a){return 0<a?Math.floor(a):Math.ceil(a)};B.mk=function(a){return 3<=a.length&&"SVG"==a.substring(a.length-3).toUpperCase()};
